(self.webpackChunkexph_app=self.webpackChunkexph_app||[]).push([[393],{5393:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ProveedoresModule:()=>Pc});var o=n(1116),r=n(3464),a=n(1041),i=n(2693),c=n(7952),l=n(2705),s=n(2905),g=n(18),u=n(2589),d=n(5366);let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[o.ez,r.Bz,u.ef,l.q]]}),t})();var m=n(8970),f=n(3582),h=n(5530),_=n(6304),Z=n(9609),C=n(9692);let M=(()=>{class t{constructor(t,e){this.router=t,this.authenticationService=e}canActivate(t,e){var n=this;return(0,_.Z)(function*(){var t,e,o;const r=n.authenticationService.currentUserValue;return"active"!=(null===(t=r.supplier)||void 0===t?void 0:t.subscription_status)?(n.router.navigate(["/proveedores/subscripcion-expirada"]),!1):(null===(e=r.supplier)||void 0===e?void 0:e.current_period_end)&&!!Z().isSameOrBefore(Z(null===(o=r.supplier)||void 0===o?void 0:o.current_period_end),"minute")||(n.router.navigate(["/proveedores/subscripcion-expirada"]),!1)})()}}return t.\u0275fac=function(e){return new(e||t)(d.LFG(r.F0),d.LFG(C.$h))},t.\u0275prov=d.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();var O=n(8494),x=n(7112),v=n(4369),q=n(7070),b=n(7307),P=n(7217),A=n(5078),T=n(6278),w=n(7064);function y(t,e){if(1&t){const t=d.EpF();d.ynx(0),d.TgZ(1,"a",7),d.NdJ("click",function(e){const n=d.CHM(t).$implicit;return d.oxw(2).onClick(e,n)}),d.TgZ(2,"div",8),d._UZ(3,"span",9),d._UZ(4,"p",10),d.qZA(),d.TgZ(5,"div",11),d.TgZ(6,"span",12),d._uU(7),d.ALo(8,"date"),d.qZA(),d.qZA(),d.qZA(),d._UZ(9,"mat-divider"),d.BQk()}if(2&t){const t=e.$implicit;d.xp6(3),d.ekj("unread",!t.read),d.xp6(1),d.Q6J("innerHtml",t.message,d.oJD),d.xp6(3),d.Oqu(d.xi3(8,4,t.created_at,"dd/MM/yyyy"))}}function U(t,e){if(1&t&&(d.TgZ(0,"mat-nav-list",5),d._UZ(1,"mat-divider"),d.YNc(2,y,10,7,"ng-container",6),d.qZA()),2&t){const t=d.oxw();d.xp6(2),d.Q6J("ngForOf",t._notifications)}}function N(t,e){1&t&&(d.ynx(0),d.TgZ(1,"span",13),d._uU(2," No hay notificaciones. "),d.qZA(),d.BQk())}let k=(()=>{class t{constructor(t,e){this.router=t,this.notificationsService=e,this._notifications=[],this._sort="created_at:DESC",this._start=0,this._limit=10}ngOnInit(){this.n_sub=this.notificationsService.notifications.subscribe(t=>{console.log(t),this._notifications=t}),this.doRefresh(null)}ngOnDestroy(){this.n_sub.unsubscribe()}loadData(t){console.log("scroll reach end"),this.notificationsService.loadNotifications(this._sort,this._notifications.length,this._limit).then(e=>{t&&t.target.complete()})}doRefresh(t){this._notifications=[],this.notificationsService.refreshNotifications(this._sort,this._notifications.length,this._limit).then(e=>{t&&t.target.complete()})}onClick(t,e){e.read||this.notificationsService.setRead(e),e.link&&this.router.navigate([e.link])}onDelete(t){console.log("Borrando notificacion",t.id),this.notificationsService.delete(t)}onDeleteAll(){console.log("Borrando todals las notificaciones"),this.notificationsService.deleteAll()}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(r.F0),d.Y36(C.TF))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-notifications-list"]],decls:7,vars:2,consts:[["class","notification-list",4,"ngIf"],[4,"ngIf"],[1,"pt-2","d-flex","justify-content-end"],["mat-button","","routerLink","/proveedores/general",1,"btn-xs","ps-2","pe-0","mx-1","view-all"],["color","primary"],[1,"notification-list"],[4,"ngFor","ngForOf"],["mat-list-item","",3,"click"],["mat-line","",1,"notification-msg"],[1,"notification-status"],[3,"innerHtml"],[1,"list-item-float"],[1,"date"],[1,"no-notifications","pt-3"]],template:function(t,e){1&t&&(d.YNc(0,U,3,1,"mat-nav-list",0),d.YNc(1,N,3,0,"ng-container",1),d.TgZ(2,"div",2),d.TgZ(3,"a",3),d._uU(4,"Ver todas "),d.TgZ(5,"mat-icon",4),d._uU(6,"chevron_right"),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.Q6J("ngIf",e._notifications.length),d.xp6(1),d.Q6J("ngIf",!e._notifications.length))},directives:[o.O5,v.zs,r.yS,b.Hw,A.Hk,T.d,o.sg,A.Tg,w.X2],pipes:[o.uU],styles:[".no-notifications[_ngcontent-%COMP%]{display:block;width:220px;font-size:12px;line-height:16px;text-align:center;color:#6b6b6b}.no-notifications[_ngcontent-%COMP%], .view-all[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal}.view-all[_ngcontent-%COMP%]{font-weight:700;font-size:10px;line-height:12px;color:#062ebd}"]}),t})();var J=n(529);let I=(()=>{class t{constructor(){}ngOnInit(){}img_url(){var t,e;return this.image?(null===(t=this.image.formats)||void 0===t?void 0:t.thumbnail)?`${J.N.apiUrl}${null===(e=this.image.formats)||void 0===e?void 0:e.thumbnail.url}`:`${J.N.apiUrl}${this.image.url}`:`${J.N.basehref}assets/user.png`}publicUrl(t){}assetUrl(t){return`${J.N.basehref}${t}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-user-image"]],inputs:{image:"image"},decls:15,vars:1,consts:[["width","55","height","58","viewBox","0 0 55 58","fill","none","xmlns","http://www.w3.org/2000/svg"],["filter","url(#filter0_d)"],["cx","27.25","cy","28.25","rx","24","ry","24","fill","url(#img)"],["d","M28.4565 4.04267L27.1932 3.30279L25.9298 4.04267L6.72979 15.2868L5.49316 16.011V17.4441V39.0675V40.4822L6.7059 41.2106L25.9059 52.7431L27.1932 53.5163L28.4804 52.7431L47.6804 41.2106L48.8932 40.4822V39.0675V17.4441V16.011L47.6565 15.2868L28.4565 4.04267Z","stroke","#F2F2F2","stroke-width","5"],["id","filter0_d","x","0","y","4","width","54.0353","height","54","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["in","SourceAlpha","type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"],["dy","2"],["stdDeviation","1.5"],["type","matrix","values","0 0 0 0 0.251563 0 0 0 0 0.582255 0 0 0 0 0.670833 0 0 0 0.24 0"],["mode","normal","in2","BackgroundImageFix","result","effect1_dropShadow"],["mode","normal","in","SourceGraphic","in2","effect1_dropShadow","result","shape"],["id","img","patternUnits","userSpaceOnUse","width","54","height","54"],["x","4","y","4","width","46","height","50"]],template:function(t,e){1&t&&(d.O4$(),d.TgZ(0,"svg",0),d.TgZ(1,"g",1),d._UZ(2,"ellipse",2),d.qZA(),d._UZ(3,"path",3),d.TgZ(4,"defs"),d.TgZ(5,"filter",4),d._UZ(6,"feFlood",5),d._UZ(7,"feColorMatrix",6),d._UZ(8,"feOffset",7),d._UZ(9,"feGaussianBlur",8),d._UZ(10,"feColorMatrix",9),d._UZ(11,"feBlend",10),d._UZ(12,"feBlend",11),d.qZA(),d.TgZ(13,"pattern",12),d._UZ(14,"image",13),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(14),d.uIk("href",e.img_url(),null,"xlink"))},styles:[""]}),t})(),Q=(()=>{class t{constructor(t,e,n,o){this.router=t,this.authenticationService=e,this.notificaciones=n,this.chat=o,this._unread=0}ngOnInit(){this._userSub=this.authenticationService.currentUser.subscribe(t=>this.currentUser=t),this.n_sub=this.notificaciones.unread.subscribe(t=>{this._unread=t}),this.notificaciones.countUnread()}ngOnDestroy(){this._userSub.unsubscribe()}logout(){var t=this;return(0,_.Z)(function*(){yield t.chat.socketCloseConnection(),yield t.authenticationService.logout(),t.router.navigate(["/login"])})()}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(r.F0),d.Y36(C.$h),d.Y36(C.TF),d.Y36(C.yf))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-header"]],inputs:{snav:"snav",sidebar:"sidebar"},decls:62,vars:7,consts:[[1,"app-header-shadow"],[1,"logo-cont"],["routerLink","/proveedores"],["src","assets/logo.png",1,"logo"],[1,"tbr","tbr-primary"],[1,"flex-spacer"],[1,"search-form","d-flex"],["type","search","placeholder","Buscar","aria-label","Search",1,"form-control"],["type","submit",1,"btn"],[1,"fas","fa-search"],[1,"flex-spacer","d-none","d-xxl-block"],["mat-button","",1,"notifications-btn",3,"matMenuTriggerFor"],["matBadgePosition","before",3,"matBadge","matBadgeHidden"],["xPosition","after",1,"notifications-panel"],["menuNotif","matMenu"],["mat-button","",1,"user-btn",3,"matMenuTriggerFor"],[1,"user-btn-cont"],[1,"me-2",3,"image"],[1,"d-none","d-xxl-block"],["aria-hidden","false"],["xPosition","before"],["menuUser","matMenu"],["mat-menu-item","",3,"click"],[1,"tbr","tbr-secondary"],[1,"navbar","navbar-expand-md","navbar-light"],[1,"container-fluid"],["mat-icon-button","",3,"hidden","click"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"d-none","d-sm-block","d-md-none"],[1,"d-flex"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"btn","btn-outline-success"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item"],["tabindex","-1","routerLink","/proveedores",1,"nav-link"],["tabindex","-1","routerLink","/proveedores/cotizaciones",1,"nav-link"],["tabindex","-1","routerLink","/proveedores/ofertas-relampago",1,"nav-link"],["tabindex","-1",1,"nav-link"]],template:function(t,e){if(1&t&&(d.TgZ(0,"header",0),d.TgZ(1,"div",1),d.TgZ(2,"a",2),d._UZ(3,"img",3),d.qZA(),d.qZA(),d.TgZ(4,"mat-toolbar"),d.TgZ(5,"mat-toolbar-row",4),d._UZ(6,"div",5),d.TgZ(7,"form",6),d._UZ(8,"input",7),d.TgZ(9,"button",8),d._UZ(10,"i",9),d.qZA(),d.qZA(),d._UZ(11,"div",10),d.TgZ(12,"div"),d.TgZ(13,"button",11),d.TgZ(14,"mat-icon",12),d._uU(15,"notifications"),d.qZA(),d.qZA(),d.TgZ(16,"mat-menu",13,14),d._UZ(18,"app-notifications-list"),d.qZA(),d.TgZ(19,"button",15),d.TgZ(20,"div",16),d._UZ(21,"app-user-image",17),d.TgZ(22,"span",18),d._uU(23),d.qZA(),d.TgZ(24,"mat-icon",19),d._uU(25,"expand_more"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(26,"mat-menu",20,21),d.TgZ(28,"button",22),d.NdJ("click",function(){return e.logout()}),d.TgZ(29,"mat-icon"),d._uU(30,"logout"),d.qZA(),d.TgZ(31,"span"),d._uU(32,"Cerrar sesi\xf3n"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(33,"mat-toolbar-row",23),d.TgZ(34,"nav",24),d.TgZ(35,"div",25),d.TgZ(36,"button",26),d.NdJ("click",function(){return e.snav.toggle()}),d.TgZ(37,"mat-icon"),d._uU(38,"menu"),d.qZA(),d.qZA(),d.TgZ(39,"button",27),d._UZ(40,"span",28),d.qZA(),d.TgZ(41,"div",29),d.TgZ(42,"div",30),d.TgZ(43,"button",27),d._UZ(44,"span",28),d.qZA(),d.TgZ(45,"form",31),d._UZ(46,"input",32),d.TgZ(47,"button",33),d._uU(48,"Search"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(49,"ul",34),d.TgZ(50,"li",35),d.TgZ(51,"a",36),d._uU(52,"Inicio"),d.qZA(),d.qZA(),d.TgZ(53,"li",35),d.TgZ(54,"a",37),d._uU(55,"Mis Solicitudes"),d.qZA(),d.qZA(),d.TgZ(56,"li",35),d.TgZ(57,"a",38),d._uU(58,"Ofertas Rel\xe1mpago"),d.qZA(),d.qZA(),d.TgZ(59,"li",35),d.TgZ(60,"a",39),d._uU(61,"Ayuda"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){const t=d.MAs(17),n=d.MAs(27);d.xp6(13),d.Q6J("matMenuTriggerFor",t),d.xp6(1),d.Q6J("matBadge",e._unread)("matBadgeHidden",!e._unread),d.xp6(5),d.Q6J("matMenuTriggerFor",n),d.xp6(2),d.Q6J("image",null==e.currentUser||null==e.currentUser.supplier?null:e.currentUser.supplier.profile_picture),d.xp6(2),d.Oqu((null==e.currentUser?null:e.currentUser.username)||"-"),d.xp6(13),d.Q6J("hidden","none"==e.sidebar)}},directives:[r.yS,x.Ye,x.rD,v.lW,q.p6,b.Hw,P.k,q.VK,k,I,q.OP],styles:["header[_ngcontent-%COMP%]{display:flex;background:#fff}header[_ngcontent-%COMP%]   .logo-cont[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:var(--app-sidebar-width)}header[_ngcontent-%COMP%]   .logo-cont[_ngcontent-%COMP%]   img.logo[_ngcontent-%COMP%]{width:180px}mat-toolbar[_ngcontent-%COMP%]   mat-toolbar-row.tbr-primary[_ngcontent-%COMP%]{display:flex;background:var(--app-header-bg-primary)}mat-toolbar[_ngcontent-%COMP%]   mat-toolbar-row.tbr-secondary[_ngcontent-%COMP%]{height:48px;padding:0;background-color:var(--app-header-bg-secondary)}mat-toolbar[_ngcontent-%COMP%]   mat-toolbar-row.tbr-secondary[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{width:100%;padding:0}mat-toolbar[_ngcontent-%COMP%]   mat-toolbar-row.tbr-secondary[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > .nav-item[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{padding:16px 24px;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:16px;display:flex;align-items:center;text-align:center;color:var(--app-text-primary)}mat-toolbar[_ngcontent-%COMP%]   mat-toolbar-row.tbr-secondary[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > .nav-item[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:5px;font-size:16px;color:var(--app-amarillo-claro)}.search-form[_ngcontent-%COMP%]{position:relative;max-width:500px;flex-grow:1}@media (max-width:1400px){.search-form[_ngcontent-%COMP%]{margin-right:20px}}.search-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-inline-start:43px;background:#fff;border:1px solid #97bcc566;box-sizing:border-box;box-shadow:0 2px 3px #4094ab3d;border-radius:50px;font-family:Montserrat;font-style:normal;font-weight:400;font-size:12px;line-height:2em}.search-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;left:0;border-radius:50px 0 0 50px;font-size:16px;line-height:1.6em;color:var(--app-amarillo-claro)}.btn-cotizador[_ngcontent-%COMP%]{width:120px;margin-right:20px;box-shadow:0 4px 4px #00000040}.notifications-btn[_ngcontent-%COMP%]{height:55px;color:#fff}.notifications-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{background:#c6c6c6;color:#fff}.user-btn[_ngcontent-%COMP%]{padding:0 8px;height:55px}.user-btn[_ngcontent-%COMP%]   .user-btn-cont[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#fff}.user-btn[_ngcontent-%COMP%]   .user-btn-cont[_ngcontent-%COMP%]     svg{max-height:52px}.user-btn[_ngcontent-%COMP%]   .user-btn-cont[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--app-amarillo-claro)}.ddm-lvl-0[_ngcontent-%COMP%]{padding:0;margin-top:0;border-radius:0;border:1px #0000;filter:drop-shadow(0 2px 3px rgba(64,148,171,.24))}.ddm-lvl-0[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a.dropdown-item[_ngcontent-%COMP%]{min-width:250px;padding:12px;font-family:Montserrat;font-style:normal;font-weight:500;font-size:14px;line-height:17px;display:flex;align-items:center;color:var(--app-text-primary)}.ddm-lvl-0[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a.dropdown-item[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-left:auto;font-size:16px;color:var(--app-amarillo-claro)}div.ddm-lvl-1[_ngcontent-%COMP%]{padding:0;margin-top:6px;border-radius:0;border:1px #0000;filter:drop-shadow(0 2px 3px rgba(64,148,171,.24))}div.ddm-lvl-1[_ngcontent-%COMP%]   div.sm-header[_ngcontent-%COMP%]{padding:12px 50px;color:#fff;background-color:var(--app-amarillo-claro)}div.ddm-lvl-1[_ngcontent-%COMP%]   div.sm-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:14px;line-height:17px}div.ddm-lvl-1[_ngcontent-%COMP%]   div.sm-body[_ngcontent-%COMP%]{display:flex;padding:20px 40px}div.ddm-lvl-1[_ngcontent-%COMP%]   div.sm-body[_ngcontent-%COMP%]   ul.sm-list[_ngcontent-%COMP%]{min-width:10rem;padding:0;margin:0 50px 0 0;text-align:left;list-style:none}div.ddm-lvl-1[_ngcontent-%COMP%]   div.sm-body[_ngcontent-%COMP%]   ul.sm-list[_ngcontent-%COMP%]:last-child{margin-right:0}div.ddm-lvl-1[_ngcontent-%COMP%]   div.sm-body[_ngcontent-%COMP%]   ul.sm-list[_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{height:0;margin:.3rem 0;overflow:hidden;border-top:1px solid #97bcc566}div.ddm-lvl-1[_ngcontent-%COMP%]   div.sm-body[_ngcontent-%COMP%]   ul.sm-list[_ngcontent-%COMP%]   li.sm-list-header[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:14px;line-height:17px;padding:3px 0;color:var(--app-text-primary)}div.ddm-lvl-1[_ngcontent-%COMP%]   div.sm-body[_ngcontent-%COMP%]   ul.sm-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.dropdown-item[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:13px;line-height:16px;padding:3px 0;color:var(--app-gris-muy-oscuro)}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:active{color:#fff!important;text-decoration:none;background-color:var(--app-blue-cyan)}@media (max-width:767px){.navbar-collapse[_ngcontent-%COMP%]{position:fixed;left:0;top:0;background:#fff;height:100vh}}"]}),t})();var S=n(168);function Y(t,e){1&t&&(d.TgZ(0,"a",19),d.TgZ(1,"span"),d._uU(2,"Usuarios"),d.qZA(),d.TgZ(3,"mat-icon",9),d._uU(4,"chevron_right"),d.qZA(),d.qZA())}let z=(()=>{class t{constructor(t,e){this.router=t,this.authenticationService=e}ngOnInit(){this._userSub=this.authenticationService.currentUser.subscribe(t=>this.currentUser=t)}ngOnDestroy(){this._userSub.unsubscribe()}logout(){this.authenticationService.logout(),this.router.navigate(["/login"])}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(r.F0),d.Y36(C.$h))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-side-nav"]],decls:49,vars:7,consts:[[1,"container-sidebar"],[1,"section-user"],["mat-button","","routerLink","/proveedores/perfil","routerLinkActive","active",1,"user-btn"],[1,"user-btn-cont"],[3,"image"],[1,"user-name","text-right"],["aria-hidden","false"],["mat-list-item","","routerLink","/proveedores/general","routerLinkActive","active"],[3,"matBadge","matBadgeHidden"],[1,"chevron-right"],["mat-list-item","","routerLink","/proveedores/cotizaciones","routerLinkActive","active"],["mat-list-item","","routerLink","/proveedores/ofertas-relampago","routerLinkActive","active"],["mat-list-item","","routerLink","/proveedores/servicios","routerLinkActive","active"],["mat-list-item","","routerLink","/proveedores/ofertas","routerLinkActive","active"],["mat-list-item","","routerLink","/proveedores/puntos","routerLinkActive","active"],["mat-list-item","","routerLink","/proveedores/usuarios","routerLinkActive","active",4,"ngIf"],["mat-list-item","","routerLink","/proveedores/incidencias","routerLinkActive","active"],[1,"flex-spacer"],["mat-button","",1,"logout-btn",3,"click"],["mat-list-item","","routerLink","/proveedores/usuarios","routerLinkActive","active"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"a",2),d.TgZ(3,"div",3),d._UZ(4,"app-user-image",4),d.TgZ(5,"span",5),d._uU(6),d.qZA(),d.TgZ(7,"mat-icon",6),d._uU(8,"chevron_right"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(9,"mat-nav-list"),d.TgZ(10,"a",7),d.TgZ(11,"span",8),d._uU(12,"General"),d.qZA(),d.TgZ(13,"mat-icon",9),d._uU(14,"chevron_right"),d.qZA(),d.qZA(),d.TgZ(15,"a",10),d.TgZ(16,"span"),d._uU(17,"Cotizaciones"),d.qZA(),d.TgZ(18,"mat-icon",9),d._uU(19,"chevron_right"),d.qZA(),d.qZA(),d.TgZ(20,"a",11),d.TgZ(21,"span"),d._uU(22,"Ofertas Rel\xe1mpago"),d.qZA(),d.TgZ(23,"mat-icon",9),d._uU(24,"chevron_right"),d.qZA(),d.qZA(),d.TgZ(25,"a",12),d.TgZ(26,"span"),d._uU(27,"Mis Servicios"),d.qZA(),d.TgZ(28,"mat-icon",9),d._uU(29,"chevron_right"),d.qZA(),d.qZA(),d.TgZ(30,"a",13),d.TgZ(31,"span"),d._uU(32,"Mis Ofertas"),d.qZA(),d.TgZ(33,"mat-icon",9),d._uU(34,"chevron_right"),d.qZA(),d.qZA(),d.TgZ(35,"a",14),d.TgZ(36,"span"),d._uU(37,"Puntos Hive"),d.qZA(),d.TgZ(38,"mat-icon",9),d._uU(39,"chevron_right"),d.qZA(),d.qZA(),d.YNc(40,Y,5,0,"a",15),d.TgZ(41,"a",16),d.TgZ(42,"span",8),d._uU(43,"Incidencias"),d.qZA(),d.TgZ(44,"mat-icon",9),d._uU(45,"chevron_right"),d.qZA(),d.qZA(),d.qZA(),d._UZ(46,"div",17),d.TgZ(47,"a",18),d.NdJ("click",function(){return e.logout()}),d._uU(48,"Cerrar sesi\xf3n"),d.qZA(),d.qZA()),2&t&&(d.xp6(4),d.Q6J("image",null==e.currentUser||null==e.currentUser.supplier?null:e.currentUser.supplier.profile_picture),d.xp6(2),d.Oqu((null==e.currentUser?null:e.currentUser.username)||"-"),d.xp6(5),d.Q6J("matBadge",0)("matBadgeHidden",!0),d.xp6(29),d.Q6J("ngIf","administrator"==(null==e.currentUser||null==e.currentUser.role?null:e.currentUser.role.type)),d.xp6(2),d.Q6J("matBadge",0)("matBadgeHidden",!0))},directives:[v.zs,r.yS,r.Od,I,b.Hw,A.Hk,A.Tg,P.k,o.O5],styles:[".container-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%;width:var(--app-sidebar-width);padding:0!important;margin:0!important}@media (max-width:599px){.container-sidebar[_ngcontent-%COMP%]{min-height:calc(100vh - 92px)!important}}.user-btn[_ngcontent-%COMP%]{padding:8px;width:100%;background-color:var(--app-amarillo-claro);border-radius:0}.user-btn[_ngcontent-%COMP%]   .user-btn-cont[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#fff}.user-btn[_ngcontent-%COMP%]   .user-btn-cont[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{position:relative;overflow:visible}.user-btn[_ngcontent-%COMP%]   .user-btn-cont[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.user-btn[_ngcontent-%COMP%]   .user-btn-cont[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1}.user-btn[_ngcontent-%COMP%]   .user-btn-cont[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}mat-nav-list[_ngcontent-%COMP%]{padding:0}mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{height:41px;font-family:Montserrat;font-style:normal;font-weight:600;font-size:14px;color:var(--app-azul-marino)}mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]     .mat-list-item-content{padding:0 8px}mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1}mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]     .mat-badge-content{right:0;top:auto;font-weight:400}mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   mat-icon.chevron-right[_ngcontent-%COMP%]{color:var(--app-amarillo-claro)}mat-nav-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%]{color:#fff;background-color:var(--app-cyan)}mat-nav-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%]   mat-icon.chevron-right[_ngcontent-%COMP%]{color:#fff}.logout-btn[_ngcontent-%COMP%]{background:#01a9d62b;color:var(--app-azul-marino)}"]}),t})();var F=n(3070),$=n(9550),E=n(994),D=n(5522);function j(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"mat-chip",13,14),d.NdJ("click",function(){d.CHM(t);const e=d.MAs(1);return d.oxw().toggleSelection(e)}),d._uU(2),d.qZA()}if(2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(2),d.Oqu(t.name)}}function B(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"mat-chip",13,14),d.NdJ("click",function(){d.CHM(t);const e=d.MAs(1);return d.oxw().toggleSelection(e)}),d._uU(2),d.qZA()}if(2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(2),d.Oqu(t.name)}}let L=(()=>{class t{constructor(){this.methods=[{id:0,name:"Tarjeta D\xe9bito / Cr\xe9dito"},{id:1,name:"Cheque"},{id:2,name:"Transferenc\xeda bancaria"}],this.installment=[{id:0,name:"7 D\xedas"},{id:1,name:"15 D\xedas"},{id:2,name:"30 D\xedas"},{id:3,name:"60 D\xedas"},{id:4,name:"90 D\xedas"},{id:5,name:"120 D\xedas"},{id:6,name:"Contra entrega"},{id:7,name:"Inmediata"}]}ngOnInit(){}toggleSelection(t){t.toggleSelected(!0)}setMethods(t){console.log(t)}setInstallments(t){console.log(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-side-search"]],decls:44,vars:3,consts:[[1,"container-sidebar"],[1,"search-row"],["appearance","outline",1,"search-field"],["matPrefix","",3,"click"],["mat-icon-button","","color","primary"],["matInput","","placeholder","Buscar"],[1,"fav-row"],["color","primary","indeterminate","false",1,"example-margin",3,"checked"],[1,"cat-row"],[1,"row-title"],[1,"pm-row"],["selectable","","multiple","",1,"payment-options",3,"change"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["c","matChip"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"mat-form-field",2),d.TgZ(3,"span",3),d.NdJ("click",function(t){return t.preventDefault()}),d.TgZ(4,"button",4),d.TgZ(5,"mat-icon"),d._uU(6,"search"),d.qZA(),d.qZA(),d.qZA(),d._UZ(7,"input",5),d.qZA(),d.qZA(),d.TgZ(8,"div",6),d.TgZ(9,"mat-checkbox",7),d._uU(10," Ver solo favoritos "),d.qZA(),d.qZA(),d._UZ(11,"mat-divider"),d.TgZ(12,"div",8),d.TgZ(13,"h4",9),d._uU(14,"Categor\xedas"),d.qZA(),d.TgZ(15,"ul"),d.TgZ(16,"li"),d.TgZ(17,"a"),d._uU(18,"Subcategor\xeda (100)"),d.qZA(),d.qZA(),d.TgZ(19,"li"),d.TgZ(20,"a"),d._uU(21,"Subcategor\xeda nombre muy largo (100)"),d.qZA(),d.qZA(),d.TgZ(22,"li"),d.TgZ(23,"a"),d._uU(24,"Subcategor\xeda (100)"),d.qZA(),d.qZA(),d.TgZ(25,"li"),d.TgZ(26,"a"),d._uU(27,"Subcategor\xeda (100)"),d.qZA(),d.qZA(),d.TgZ(28,"li"),d.TgZ(29,"a"),d._uU(30,"Subcategor\xeda (100)"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(31,"mat-divider"),d.TgZ(32,"div",10),d.TgZ(33,"h4",9),d._uU(34,"M\xe9todos de pago"),d.qZA(),d.TgZ(35,"mat-chip-list",11),d.NdJ("change",function(t){return e.setMethods(t)}),d.YNc(36,j,3,2,"mat-chip",12),d.qZA(),d.qZA(),d._UZ(37,"mat-divider"),d.TgZ(38,"div",10),d.TgZ(39,"h4",9),d._uU(40,"Plazos de pago"),d.qZA(),d.TgZ(41,"mat-chip-list",11),d.NdJ("change",function(t){return e.setInstallments(t)}),d.YNc(42,B,3,2,"mat-chip",12),d.qZA(),d.qZA(),d._UZ(43,"mat-divider"),d.qZA()),2&t&&(d.xp6(9),d.Q6J("checked",!1),d.xp6(27),d.Q6J("ngForOf",e.methods),d.xp6(6),d.Q6J("ngForOf",e.installment))},directives:[F.KE,F.qo,v.lW,b.Hw,$.Nt,E.oG,T.d,D.qn,o.sg,D.HS],styles:[".container-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%;width:var(--app-sidebar-width);padding:0!important;margin:0!important}@media (max-width:599px){.container-sidebar[_ngcontent-%COMP%]{min-height:calc(100vh - 92px)!important}}.container-sidebar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:1rem}.container-sidebar[_ngcontent-%COMP%]   h4.row-title[_ngcontent-%COMP%]{margin-bottom:.75em;font-family:Montserrat;font-style:normal;font-weight:700;font-size:11px;line-height:13px;color:#5a6a6f}.container-sidebar[_ngcontent-%COMP%]   .search-row[_ngcontent-%COMP%]{padding:1em;background:var(--app-amarillo-claro)}.container-sidebar[_ngcontent-%COMP%]   .search-row[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:100%}.container-sidebar[_ngcontent-%COMP%]   .search-row[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.container-sidebar[_ngcontent-%COMP%]   .search-row[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-form-field-outline{transition:none!important}.container-sidebar[_ngcontent-%COMP%]   .search-row[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-form-field-prefix{top:.45em;left:-5px}.container-sidebar[_ngcontent-%COMP%]   .search-row[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-form-field-infix{border-top-width:0;padding:1em 0 .75em}.container-sidebar[_ngcontent-%COMP%]   .fav-row[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-sidebar[_ngcontent-%COMP%]   .cat-row[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.container-sidebar[_ngcontent-%COMP%]   .cat-row[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:11px;line-height:13px;color:#00aad3}"]}),t})();function G(t,e){1&t&&d._UZ(0,"app-side-nav")}function H(t,e){1&t&&d._UZ(0,"app-side-search")}let R=(()=>{class t{constructor(t,e,n){this.route=t,this.sidebar="nav",this.sidebarSub=this.route.data.subscribe(t=>this.sidebar=t.sidebar),this.mobileQuery=n.matchMedia("(max-width: 767px)"),this._mobileQueryListener=()=>e.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnInit(){}ngOnDestroy(){this.sidebarSub.unsubscribe(),this.mobileQuery.removeListener(this._mobileQueryListener)}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(r.gz),d.Y36(d.sBO),d.Y36(O.vx))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-layout"]],decls:13,vars:9,consts:[[1,"wrapper"],[3,"snav","sidebar"],[1,"app-main-drawer",3,"hasBackdrop"],[3,"opened","mode","fixedInViewport","fixedTopGap"],["snav",""],[4,"ngIf"],[1,"content-wrapper"],[1,"flex-spacer"],[1,"footer-bg"]],template:function(t,e){if(1&t&&(d.TgZ(0,"div",0),d._UZ(1,"app-header",1),d.TgZ(2,"mat-sidenav-container",2),d.TgZ(3,"mat-sidenav",3,4),d.YNc(5,G,1,0,"app-side-nav",5),d.YNc(6,H,1,0,"app-side-search",5),d.qZA(),d.TgZ(7,"mat-sidenav-content"),d.TgZ(8,"div",6),d._UZ(9,"router-outlet"),d.qZA(),d._UZ(10,"div",7),d._UZ(11,"footer",8),d.qZA(),d.qZA(),d.qZA(),d._UZ(12,"ngx-spinner")),2&t){const t=d.MAs(4);d.xp6(1),d.Q6J("snav",t)("sidebar",e.sidebar),d.xp6(1),d.Q6J("hasBackdrop",!1),d.xp6(1),d.Q6J("opened",!e.mobileQuery.matches)("mode",e.mobileQuery.matches?"over":"side")("fixedInViewport",!1)("fixedTopGap",100),d.xp6(2),d.Q6J("ngIf","nav"==e.sidebar),d.xp6(1),d.Q6J("ngIf","search"==e.sidebar)}},directives:[Q,S.TM,S.JX,o.O5,S.Rh,r.lC,u.Ro,z,L],styles:["app-header[_ngcontent-%COMP%]{position:relative;width:100vw;z-index:2}mat-sidenav-container[_ngcontent-%COMP%]{flex-grow:1;background-color:initial}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{filter:drop-shadow(2px 0 2px rgba(64,148,171,.12))}@media (max-width:599px){mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav.mat-sidenav-fixed[_ngcontent-%COMP%]{top:92px!important}}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav-content[_ngcontent-%COMP%]{min-height:calc(100vh - 100px);display:flex;flex-direction:column}@media (max-width:599px){mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav-content[_ngcontent-%COMP%]{min-height:calc(100vh - 92px)!important}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{margin-top:92px}}"]}),t})();var V=n(3251);function X(t,e){if(1&t&&d._UZ(0,"mat-icon",18),2&t){const t=d.oxw();d.Q6J("matBadge",t.pending)}}function W(t,e){1&t&&d._UZ(0,"mat-icon",19)}function K(t,e){if(1&t&&d._UZ(0,"mat-icon",20),2&t){const t=d.oxw();d.Q6J("matBadge",t.unread)}}function tt(t,e){1&t&&d._UZ(0,"mat-icon",21)}function et(t,e){if(1&t&&d._UZ(0,"mat-icon",22),2&t){const t=d.oxw();d.Q6J("matBadge",t.rated)}}function nt(t,e){1&t&&d._UZ(0,"mat-icon",23)}const ot=function(){return{tab:"open"}},rt=function(){return{tab:"finalized"}};let at=(()=>{class t{constructor(t,e){this.http=t,this.authenticationService=e,this.pending=0,this.unread=0,this.rated=0,this.currentUser=e.currentUserValue}ngOnInit(){this.countPending(),this.countUnread(),this.countRated()}countPending(){let t=(new i.LE).append("status_in",1);this.http.get(`${J.N.apiUrl}/quotations/count`,{params:t}).subscribe(t=>{this.pending=t})}countUnread(){let t=(new i.LE).append("offer.author",this.currentUser.id).append("chat_room.unread_b_gt",0);this.http.get(`${J.N.apiUrl}/quotations/count`,{params:t}).subscribe(t=>{this.unread+=t}),this.http.get(`${J.N.apiUrl}/offer-requests/count`,{params:t}).subscribe(t=>{this.unread+=t})}countRated(){let t=(new i.LE).append("status_in",7);this.http.get(`${J.N.apiUrl}/quotations/count`,{params:t}).subscribe(t=>{this.rated=t})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(C.$h))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-index"]],decls:73,vars:18,consts:[[1,"container","mt-5"],[1,"row","gy-4","justify-content-around","mb-5"],[1,"col-auto","d-flex","flex-column","justify-content-center","align-items-center"],[1,"step","step-gold"],[1,"pb-5"],[1,"my-2"],[1,"py-2","px-3"],["mat-flat-button","","color","accent","routerLink","servicios",1,"btn-round"],[1,"notes","px-4","py-3"],[1,"icon-cont"],["svgIcon","cotizacion",3,"matBadge",4,"ngIf"],["svgIcon","cotizacion-disable",4,"ngIf"],["mat-flat-button","","color","accent","routerLink","cotizaciones",1,"btn-round",3,"queryParams"],["svgIcon","mnsg",3,"matBadge",4,"ngIf"],["svgIcon","mnsg-disable",4,"ngIf"],[1,"step"],["svgIcon","star",3,"matBadge",4,"ngIf"],["svgIcon","star-disable",4,"ngIf"],["svgIcon","cotizacion",3,"matBadge"],["svgIcon","cotizacion-disable"],["svgIcon","mnsg",3,"matBadge"],["svgIcon","mnsg-disable"],["svgIcon","star",3,"matBadge"],["svgIcon","star-disable"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"span"),d._uU(5,"1"),d.qZA(),d.qZA(),d.TgZ(6,"mat-card",4),d.TgZ(7,"mat-card-header"),d.TgZ(8,"mat-card-title"),d._uU(9,"Ofrece"),d.qZA(),d.qZA(),d.TgZ(10,"mat-card-content"),d.TgZ(11,"p",5),d._uU(12,"Da de alta todos tus servicios en nuestra plataforma, para aparecer en nuestros cat\xe1logos."),d.qZA(),d.qZA(),d.TgZ(13,"mat-card-actions",6),d.TgZ(14,"button",7),d._uU(15,"Mis servicios"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(16,"div",2),d.TgZ(17,"div",3),d.TgZ(18,"span"),d._uU(19,"2"),d.qZA(),d.qZA(),d.TgZ(20,"mat-card",4),d.TgZ(21,"mat-card-header"),d.TgZ(22,"mat-card-title"),d._uU(23,"Env\xeda Cotizaciones"),d.qZA(),d.qZA(),d.TgZ(24,"mat-card-content"),d.TgZ(25,"p",5),d._uU(26,"Recibe solicitudes de cotizaciones de clientes potenciales."),d.qZA(),d.TgZ(27,"div",8),d.TgZ(28,"div",9),d.YNc(29,X,1,1,"mat-icon",10),d.YNc(30,W,1,0,"mat-icon",11),d.qZA(),d._uU(31," Cotizaciones pendientes "),d.qZA(),d.qZA(),d.TgZ(32,"mat-card-actions",6),d.TgZ(33,"button",12),d._uU(34,"Ir al panel"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(35,"div",2),d.TgZ(36,"div",3),d.TgZ(37,"span"),d._uU(38,"3"),d.qZA(),d.qZA(),d.TgZ(39,"mat-card",4),d.TgZ(40,"mat-card-header"),d.TgZ(41,"mat-card-title"),d._uU(42,"Contacta a tu cliente"),d.qZA(),d.qZA(),d.TgZ(43,"mat-card-content"),d.TgZ(44,"p",5),d._uU(45,"Afina los detalles de la propuesta y cierra el trato."),d.qZA(),d.TgZ(46,"div",8),d.TgZ(47,"div",9),d.YNc(48,K,1,1,"mat-icon",13),d.YNc(49,tt,1,0,"mat-icon",14),d.qZA(),d._uU(50," Conversaciones sin leer "),d.qZA(),d.qZA(),d.TgZ(51,"mat-card-actions",6),d.TgZ(52,"button",12),d._uU(53,"Ir al panel"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(54,"div",2),d.TgZ(55,"div",15),d.TgZ(56,"span"),d._uU(57,"4"),d.qZA(),d.qZA(),d.TgZ(58,"mat-card",4),d.TgZ(59,"mat-card-header"),d.TgZ(60,"mat-card-title"),d._uU(61,"Crece"),d.qZA(),d.qZA(),d.TgZ(62,"mat-card-content"),d.TgZ(63,"p",5),d._uU(64,"Consulta el feedback de tus clientes y encuentra \xe1reas de oportunidad a mejorar."),d.qZA(),d.TgZ(65,"div",8),d.TgZ(66,"div",9),d.YNc(67,et,1,1,"mat-icon",16),d.YNc(68,nt,1,0,"mat-icon",17),d.qZA(),d._uU(69," Cotizaciones calificadas "),d.qZA(),d.qZA(),d.TgZ(70,"mat-card-actions",6),d.TgZ(71,"button",12),d._uU(72,"Ir al panel"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(27),d.ekj("disable",!e.pending),d.xp6(2),d.Q6J("ngIf",e.pending),d.xp6(1),d.Q6J("ngIf",!e.pending),d.xp6(3),d.Q6J("queryParams",d.DdM(15,ot)),d.xp6(13),d.ekj("disable",!e.unread),d.xp6(2),d.Q6J("ngIf",e.unread),d.xp6(1),d.Q6J("ngIf",!e.unread),d.xp6(3),d.Q6J("queryParams",d.DdM(16,ot)),d.xp6(13),d.ekj("disable",!e.rated),d.xp6(2),d.Q6J("ngIf",e.rated),d.xp6(1),d.Q6J("ngIf",!e.rated),d.xp6(3),d.Q6J("queryParams",d.DdM(17,rt)))},directives:[V.a8,V.dk,V.n5,V.dn,V.hq,v.lW,r.rH,o.O5,b.Hw,P.k],styles:[".step[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:95px;height:108px;background-image:url(hexagono-B.bc24c274b2ebfbc070aa.png),url(hex-frame.b3d98c4687a28bbb2055.svg);background-size:contain;background-position:50%;background-repeat:no-repeat;margin-bottom:15px}.step[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:28px;line-height:34px;color:var(--app-cyan)}.step.step-gold[_ngcontent-%COMP%]{background-image:url(hexagono-Y.7201c47b8e52279b8f0e.png),url(hex-frame.b3d98c4687a28bbb2055.svg)}.step.step-gold[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--app-amarillo-claro)}mat-card[_ngcontent-%COMP%]{width:240px;max-width:100%;display:flex;flex-direction:column;flex-grow:1;background:#fff;border:1px solid #97bcc566;box-sizing:border-box;border-radius:10px;box-shadow:none!important}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{min-height:58px;display:flex;text-align:center;align-items:center;justify-content:center}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:24px;line-height:29px;margin:0;color:#1136a8}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{flex-grow:1}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:11px;line-height:13px;text-align:center}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .notes[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;display:flex;align-items:center;color:#5a6a6f}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .notes[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:17px}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .notes.disable[_ngcontent-%COMP%]{color:#c4c4c4}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .notes[_ngcontent-%COMP%]   .icon-cont[_ngcontent-%COMP%]{padding-right:15px}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .notes[_ngcontent-%COMP%]   .icon-cont[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:50px;height:50px}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .notes[_ngcontent-%COMP%]   .icon-cont[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]     .mat-badge-content{top:5px;right:-10px;width:25px;height:25px;line-height:25px}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:8px}"]}),t})();function it(t,e){if(1&t&&(d.ynx(0),d.TgZ(1,"video",4),d._UZ(2,"source",5),d._uU(3," Your browser does not support the video tag. "),d.qZA(),d.BQk()),2&t){const t=d.oxw();d.xp6(2),d.Q6J("src",t.publicUrl(t.videoConfig.value),d.LSH)}}let ct=(()=>{class t{constructor(t){this.http=t}ngOnInit(){this.getConfig()}getConfig(){this.http.get(`${J.N.apiUrl}/configs/welcome-video-url`).subscribe(t=>{this.videoConfig=t})}publicUrl(t){return`${J.N.apiUrl}${t}`}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-bienvenido"]],decls:9,vars:1,consts:[[1,"container","mt-5"],[1,"app-modal-shadow","text-center","p-5"],[4,"ngIf"],["mat-raised-button","","color","accent","routerLink","/proveedores",1,"btn-round","btn-sm","mt-4"],["width","560","height","315","controls",""],["type","video/mp4",3,"src"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"mat-card",1),d.TgZ(2,"h2"),d._uU(3,"\xa1Felicidades ahora formas parte de Exphotel Hive"),d.qZA(),d.TgZ(4,"p"),d._uU(5,"A partir de este momento puedes utilizar la plataforma ,si tienes alg\xfan problema visita nuestra p\xe1gina de ayuda."),d.qZA(),d.YNc(6,it,4,1,"ng-container",2),d.TgZ(7,"a",3),d._uU(8,"Ir a mi panel de usuario"),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(6),d.Q6J("ngIf",e.videoConfig&&e.videoConfig.value))},directives:[V.a8,o.O5,v.zs,r.yS],styles:["@media (min-width:992px){.container[_ngcontent-%COMP%]{max-width:calc(763px + var(--bs-gutter-x,.75rem)*2)}}mat-card[_ngcontent-%COMP%]{border-radius:30px}mat-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;font-size:18px;line-height:150.19%;color:var(--app-blue-cyan)}mat-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;text-align:center}mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:126.69%;color:var(--app-gris-muy-oscuro)}mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:var(--app-cyan)}mat-card[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{border-radius:20px;background-color:#00000040}mat-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{max-width:100%}mat-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:220px}"]}),t})();function lt(t,e){if(1&t){const t=d.EpF();d.ynx(0),d.TgZ(1,"a",9),d.NdJ("click",function(e){const n=d.CHM(t).$implicit;return d.oxw(2).onClick(e,n)}),d.TgZ(2,"div",10),d._UZ(3,"span",11),d._UZ(4,"p",12),d.qZA(),d.TgZ(5,"div",13),d.TgZ(6,"span",14),d._uU(7),d.ALo(8,"date"),d.qZA(),d.TgZ(9,"span",15),d._uU(10),d.qZA(),d.qZA(),d.qZA(),d._UZ(11,"mat-divider"),d.BQk()}if(2&t){const t=e.$implicit;d.xp6(3),d.ekj("unread",!t.read),d.xp6(1),d.Q6J("innerHtml",t.message,d.oJD),d.xp6(3),d.Oqu(d.xi3(8,5,t.created_at,"dd/MM/yyyy")),d.xp6(3),d.Oqu((null==t.user?null:t.user.firstname)+" "+(null==t.user?null:t.user.lastname))}}function st(t,e){if(1&t&&(d.TgZ(0,"mat-nav-list",7),d._UZ(1,"mat-divider"),d.YNc(2,lt,12,8,"ng-container",8),d.qZA()),2&t){const t=d.oxw();d.xp6(2),d.Q6J("ngForOf",t._notifications)}}function gt(t,e){1&t&&(d.ynx(0),d.TgZ(1,"span",16),d._uU(2," No hay notificaciones. "),d.qZA(),d.BQk())}let ut=(()=>{class t{constructor(t,e){this.router=t,this.notificationsService=e,this._notifications=[],this._unread=0,this._sort="created_at:DESC",this._start=0,this._limit=100}ngOnInit(){this.unread_sub=this.notificationsService.unread.subscribe(t=>{this._unread=t}),this.notifications_sub=this.notificationsService.notificationsFull.subscribe(t=>{this._notifications=t}),this.doRefresh(null)}ngOnDestroy(){this.unread_sub.unsubscribe(),this.notifications_sub.unsubscribe()}loadData(t){console.log("scroll reach end"),this.notificationsService.loadNotificationsFull(this._sort,this._notifications.length,this._limit).then(e=>{t&&t.target.complete()})}doRefresh(t){this._notifications=[],this.notificationsService.refreshNotificationsFull(this._sort,this._notifications.length,this._limit).then(e=>{t&&t.target.complete()})}onClick(t,e){e.read||this.notificationsService.setRead(e),e.link&&this.router.navigate([e.link])}onDelete(t){console.log("Borrando notificacion",t.id),this.notificationsService.delete(t)}onDeleteAll(){console.log("Borrando todals las notificaciones"),this.notificationsService.deleteAll()}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(r.F0),d.Y36(C.TF))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-notifications-full"]],decls:15,vars:5,consts:[[1,"actividad-card","app-modal-shadow","pb-4"],[1,"card-tools"],["mat-icon-button","","color","accent",3,"disabled"],["matBadgePosition","before",3,"matBadge","matBadgeHidden"],["class","notification-list",4,"ngIf"],[4,"ngIf"],["mat-button","","color","warn",1,"btn-xs",3,"click"],[1,"notification-list"],[4,"ngFor","ngForOf"],["mat-list-item","",3,"click"],["mat-line","",1,"notification-msg"],[1,"notification-status"],[3,"innerHtml"],[1,"list-item-end"],[1,"date"],[1,"user"],[1,"no-notifications","pt-3"]],template:function(t,e){1&t&&(d.TgZ(0,"mat-card",0),d.TgZ(1,"mat-card-title"),d._uU(2," Actividad "),d.TgZ(3,"div",1),d.TgZ(4,"a",2),d.TgZ(5,"mat-icon",3),d._uU(6,"notifications"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(7,"mat-card-content"),d.YNc(8,st,3,1,"mat-nav-list",4),d.YNc(9,gt,3,0,"ng-container",5),d.qZA(),d.TgZ(10,"mat-card-actions"),d.TgZ(11,"button",6),d.NdJ("click",function(){return e.onDeleteAll()}),d.TgZ(12,"mat-icon"),d._uU(13,"delete_forever"),d.qZA(),d._uU(14,"Borrar todas"),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(4),d.Q6J("disabled",!e._unread),d.xp6(1),d.Q6J("matBadge",e._unread)("matBadgeHidden",!e._unread),d.xp6(3),d.Q6J("ngIf",e._notifications.length),d.xp6(1),d.Q6J("ngIf",!e._notifications.length))},directives:[V.a8,V.n5,v.zs,b.Hw,P.k,V.dn,o.O5,V.hq,v.lW,A.Hk,T.d,o.sg,A.Tg,w.X2],pipes:[o.uU],styles:["mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:10px}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{flex-shrink:0;display:flex;justify-content:space-between;align-items:center;font-family:Montserrat;font-style:normal;font-weight:600;font-size:18px;line-height:22px;min-height:42px;color:var(--app-gris-muy-oscuro)}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{position:relative;height:520px;overflow-x:auto}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]   span.date[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]   span.date[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:10px;line-height:12px;color:#999d9e}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:10px;line-height:12px;margin-top:3px;color:#00aad3}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .no-notifications[_ngcontent-%COMP%]{display:block;font-family:Montserrat;font-style:normal;font-size:12px;line-height:16px;text-align:center;color:#6b6b6b}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{text-align:right}"]}),t})();var dt=n(7298),pt=n(7123);function mt(t,e){1&t&&d._UZ(0,"mat-icon",26)}function ft(t,e){1&t&&d._UZ(0,"mat-icon",27)}function ht(t,e){1&t&&d._UZ(0,"mat-icon",28)}function _t(t,e){1&t&&d._UZ(0,"mat-icon",29)}function Zt(t,e){1&t&&d._UZ(0,"mat-icon",30),2&t&&d.Q6J("matBadge",0)("matBadgeHidden",!0)}function Ct(t,e){1&t&&d._UZ(0,"mat-icon",31)}const Mt=function(){return[1,2,3]},Ot=function(){return[5,7]},xt=function(){return[4,6]},vt=function(){return[3,5]};function qt(t,e){if(1&t&&(d.ynx(0),d.TgZ(1,"a",11),d.TgZ(2,"div",12),d._UZ(3,"app-profile-picture",13),d.qZA(),d.TgZ(4,"div",14),d._uU(5),d.qZA(),d.TgZ(6,"div",15),d._uU(7),d.qZA(),d.TgZ(8,"div",16),d.TgZ(9,"span",17),d._uU(10),d.ALo(11,"date"),d.qZA(),d.TgZ(12,"div",18),d.TgZ(13,"span"),d._uU(14),d.qZA(),d.ynx(15,19),d.YNc(16,mt,1,0,"mat-icon",20),d.YNc(17,ft,1,0,"mat-icon",21),d.YNc(18,ht,1,0,"mat-icon",22),d.YNc(19,_t,1,0,"mat-icon",23),d.BQk(),d.ynx(20,19),d.YNc(21,Zt,1,2,"mat-icon",24),d.YNc(22,Ct,1,0,"mat-icon",25),d.BQk(),d.qZA(),d.qZA(),d.qZA(),d._UZ(23,"mat-divider"),d.BQk()),2&t){const t=e.$implicit;d.xp6(1),d.MGl("routerLink","/proveedores/cotizaciones/",t.id,""),d.xp6(2),d.Q6J("profile_picture",null==t.company?null:t.company.profile_picture),d.xp6(2),d.Oqu(null==t.company?null:t.company.name),d.xp6(2),d.Oqu((null==t.service?null:t.service.name)||(null==t.group?null:t.group.name)),d.xp6(3),d.Oqu(d.xi3(11,15,t.created_at,"dd/MM/yyyy")),d.xp6(3),d.Gre("pill pill-",null==t.status?null:t.status.class,""),d.xp6(1),d.Oqu(null==t.status?null:t.status.name),d.xp6(1),d.Q6J("ngSwitch",null==t.status?null:t.status.id),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(18,Mt)),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(19,Ot)),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(20,xt)),d.xp6(2),d.Q6J("ngSwitch",null==t.status?null:t.status.id),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(21,vt))}}function bt(t,e){1&t&&d._UZ(0,"mat-icon",26)}function Pt(t,e){1&t&&d._UZ(0,"mat-icon",27)}function At(t,e){1&t&&d._UZ(0,"mat-icon",28)}function Tt(t,e){1&t&&d._UZ(0,"mat-icon",29)}function wt(t,e){1&t&&d._UZ(0,"mat-icon",30),2&t&&d.Q6J("matBadge",0)("matBadgeHidden",!0)}function yt(t,e){1&t&&d._UZ(0,"mat-icon",31)}function Ut(t,e){if(1&t&&(d.ynx(0),d.TgZ(1,"a",11),d.TgZ(2,"div",12),d._UZ(3,"app-profile-picture",13),d.qZA(),d.TgZ(4,"div",14),d._uU(5),d.qZA(),d.TgZ(6,"div",15),d._uU(7),d.qZA(),d.TgZ(8,"div",16),d.TgZ(9,"span",17),d._uU(10),d.ALo(11,"date"),d.qZA(),d.TgZ(12,"span",32),d._uU(13),d.qZA(),d.TgZ(14,"div",18),d.TgZ(15,"span"),d._uU(16),d.qZA(),d.ynx(17,19),d.YNc(18,bt,1,0,"mat-icon",20),d.YNc(19,Pt,1,0,"mat-icon",21),d.YNc(20,At,1,0,"mat-icon",22),d.YNc(21,Tt,1,0,"mat-icon",23),d.BQk(),d.ynx(22,19),d.YNc(23,wt,1,2,"mat-icon",24),d.YNc(24,yt,1,0,"mat-icon",25),d.BQk(),d.qZA(),d.qZA(),d.qZA(),d._UZ(25,"mat-divider"),d.BQk()),2&t){const t=e.$implicit;d.xp6(1),d.MGl("routerLink","/proveedores/ofertas-relampago/",t.id,""),d.xp6(2),d.Q6J("profile_picture",null==t.company?null:t.company.profile_picture),d.xp6(2),d.Oqu(null==t.company?null:t.company.name),d.xp6(2),d.Oqu(null==t.offer?null:t.offer.name),d.xp6(3),d.Oqu(d.xi3(11,16,t.created_at,"dd/MM/yyyy")),d.xp6(3),d.Oqu((null==t.user?null:t.user.firstname)+" "+(null==t.user?null:t.user.lastname)),d.xp6(2),d.Gre("pill pill-",null==t.status?null:t.status.class,""),d.xp6(1),d.Oqu(null==t.status?null:t.status.name),d.xp6(1),d.Q6J("ngSwitch",null==t.status?null:t.status.id),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(19,Mt)),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(20,Ot)),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(21,xt)),d.xp6(2),d.Q6J("ngSwitch",null==t.status?null:t.status.id),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(22,vt))}}let Nt=(()=>{class t{constructor(t,e){this.http=t,this.authenticationService=e,this.quotations=[],this.requests=[],this.currentUser=this.authenticationService.currentUserValue}ngOnInit(){this.loadQuotations(),this.loadOfferRequests()}loadQuotations(){const t=(new i.LE).set("_sort","created_at:DESC").set("_limit",5);this.http.get(`${J.N.apiUrl}/quotations`,{params:t}).subscribe(t=>{this.quotations=t},t=>{})}loadOfferRequests(){const t=(new i.LE).set("_sort","created_at:DESC").set("_limit",5);this.http.get(`${J.N.apiUrl}/offer-requests`,{params:t}).subscribe(t=>{this.requests=t},t=>{})}publicUrl(t){return`${J.N.apiUrl}${t}`}assetUrl(t){return`${J.N.basehref}${t}`}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(C.$h))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-general"]],decls:28,vars:2,consts:[[1,"container-fluid","pt-5","px-md-5"],[1,"row","g-4"],[1,"col-xl-6"],[1,"col-md-12"],[1,"cotizaciones-card","app-modal-shadow","pb-4"],[1,"card-tools"],["mat-raised-button","","color","accent","routerLink","/proveedores/cotizaciones",1,"btn-round","btn-xs"],[4,"ngFor","ngForOf"],[1,"col-12"],[1,"ofertas-card","app-modal-shadow","pb-4"],["mat-raised-button","","color","accent","routerLink","/proveedores/ofertas-relampago",1,"btn-round","btn-xs"],["mat-list-item","",3,"routerLink"],["mat-list-icon","",1,"proveedor-logo"],[3,"profile_picture"],["mat-line","",1,"proveedor-nombre"],["mat-line","",1,"servicio-nombre"],[1,"list-item-end"],[1,"date"],[1,"list-item-utils"],[3,"ngSwitch"],["svgIcon","cotizacion-pending",4,"jrSwitchCases"],["svgIcon","cotizacion-active",4,"jrSwitchCases"],["svgIcon","cotizacion-reject",4,"jrSwitchCases"],["svgIcon","cotizacion",4,"ngSwitchDefault"],["svgIcon","mnsg","matBadgeSize","small",3,"matBadge","matBadgeHidden",4,"jrSwitchCases"],["svgIcon","mnsg-disable",4,"ngSwitchDefault"],["svgIcon","cotizacion-pending"],["svgIcon","cotizacion-active"],["svgIcon","cotizacion-reject"],["svgIcon","cotizacion"],["svgIcon","mnsg","matBadgeSize","small",3,"matBadge","matBadgeHidden"],["svgIcon","mnsg-disable"],[1,"user"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",1),d.TgZ(4,"div",3),d.TgZ(5,"mat-card",4),d.TgZ(6,"mat-card-title"),d._uU(7," Cotizaciones "),d.TgZ(8,"div",5),d.TgZ(9,"a",6),d._uU(10,"Ver Todas"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"mat-card-content"),d.TgZ(12,"mat-nav-list"),d._UZ(13,"mat-divider"),d.YNc(14,qt,24,22,"ng-container",7),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(15,"div",8),d.TgZ(16,"mat-card",9),d.TgZ(17,"mat-card-title"),d._uU(18," Ofertas Rel\xe1mpago "),d.TgZ(19,"div",5),d.TgZ(20,"a",10),d._uU(21,"Ver Todas"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"mat-card-content"),d.TgZ(23,"mat-nav-list"),d._UZ(24,"mat-divider"),d.YNc(25,Ut,26,23,"ng-container",7),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(26,"div",2),d._UZ(27,"app-notifications-full"),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(14),d.Q6J("ngForOf",e.quotations),d.xp6(11),d.Q6J("ngForOf",e.requests))},directives:[V.a8,V.n5,v.zs,r.yS,V.dn,A.Hk,T.d,o.sg,ut,A.Tg,A.Nh,dt.q,w.X2,o.RF,pt.I,o.ED,b.Hw,P.k],pipes:[o.uU],styles:["mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:10px}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{flex-shrink:0;display:flex;justify-content:space-between;align-items:center;font-family:Montserrat;font-style:normal;font-weight:600;font-size:18px;line-height:22px;min-height:42px;color:var(--app-gris-muy-oscuro)}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{position:relative;flex-grow:1}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.proveedor-logo[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.proveedor-logo[_ngcontent-%COMP%]{overflow:hidden;width:30px;height:30px;padding:0;border-radius:30px;border:1px solid #97bcc566;box-sizing:border-box;background:#f2f2f2;box-shadow:0 2px 3px #4094ab3d}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.proveedor-logo[_ngcontent-%COMP%]     img, mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.proveedor-logo[_ngcontent-%COMP%]     img{width:100%;height:100%}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .proveedor-nombre[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .proveedor-nombre[_ngcontent-%COMP%]{margin-bottom:.25em;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .servicio-nombre[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .servicio-nombre[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:12px;line-height:15px;color:var(--app-gris)}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]   span.date[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]   span.date[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:10px;line-height:12px;color:#999d9e}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:10px;line-height:12px;margin-top:3px;color:#00aad3}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]   .list-item-utils[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]   .list-item-utils[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:5px}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]   .list-item-utils[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]   .list-item-utils[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{height:20px;width:75px;margin-right:8px}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]   .list-item-utils[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]   .list-item-utils[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:27px;height:27px;width:27px}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]   .list-item-utils[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]     .mat-badge-content, mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   div.list-item-end[_ngcontent-%COMP%]   .list-item-utils[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]     .mat-badge-content{top:2px;right:-4px;font-size:7px;line-height:12px;width:12px;height:12px}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{text-align:right}"]}),t})();var kt=n(8378),Jt=n(9199),It=n(9241),Qt=n(5609),St=n(3841),Yt=n(2762),zt=n(6936);function Ft(t,e){if(1&t&&(d.TgZ(0,"mat-option",13),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function $t(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"th",51),d.TgZ(1,"mat-checkbox",52),d.NdJ("change",function(e){d.CHM(t);const n=d.oxw();return e?n.masterToggle():null}),d.qZA(),d.qZA()}if(2&t){const t=d.oxw();d.xp6(1),d.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function Et(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"td",53),d.NdJ("click",function(t){return t.stopPropagation()}),d.TgZ(1,"mat-checkbox",54),d.NdJ("click",function(t){return t.stopPropagation()})("change",function(e){const n=d.CHM(t).$implicit,o=d.oxw();return e?o.selection.toggle(n):null}),d.qZA(),d.qZA()}if(2&t){const t=e.$implicit,n=d.oxw();d.xp6(1),d.Q6J("checked",n.selection.isSelected(t))("aria-label",n.checkboxLabel(t))}}function Dt(t,e){1&t&&(d.TgZ(0,"th",55),d._uU(1," ID "),d.qZA())}function jt(t,e){if(1&t&&(d.TgZ(0,"td",56),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.id," ")}}function Bt(t,e){1&t&&(d.TgZ(0,"th",57),d._uU(1," Nombre del cliente "),d.qZA())}function Lt(t,e){if(1&t&&(d.TgZ(0,"td",58),d.TgZ(1,"a"),d._UZ(2,"app-profile-picture-avatar",59),d._uU(3),d.qZA(),d.qZA()),2&t){const t=e.$implicit;d.xp6(2),d.Q6J("profile_picture",null==t.company?null:t.company.profile_picture),d.xp6(1),d.hij(" ",null==t.company?null:t.company.name," ")}}function Gt(t,e){1&t&&(d.TgZ(0,"th",57),d._uU(1," Servicio "),d.qZA())}function Ht(t,e){if(1&t&&(d.TgZ(0,"td",58),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",(null==t.service?null:t.service.name)||"N/A"," ")}}function Rt(t,e){1&t&&(d.TgZ(0,"th",57),d._uU(1," Fecha "),d.qZA())}function Vt(t,e){if(1&t&&(d.TgZ(0,"td",58),d._uU(1),d.ALo(2,"date"),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",d.xi3(2,1,t.created_at,"dd/MM/yyyy")," ")}}function Xt(t,e){1&t&&(d.TgZ(0,"th",60),d._uU(1," Estado "),d.qZA())}function Wt(t,e){if(1&t&&(d.TgZ(0,"td",61),d.TgZ(1,"span"),d._uU(2),d.qZA(),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.Gre("pill pill-lg pill-",null==t.status?null:t.status.class," mx-auto"),d.xp6(1),d.Oqu(null==t.status?null:t.status.name)}}function Kt(t,e){1&t&&(d.TgZ(0,"th",60),d._uU(1," Precio "),d.qZA())}function te(t,e){if(1&t&&(d.TgZ(0,"td",62),d._uU(1),d.ALo(2,"currency"),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",d.lcZ(2,1,null==t.offer?null:t.offer.amount)||"-"," ")}}function ee(t,e){1&t&&d._UZ(0,"th",63)}function ne(t,e){1&t&&d._UZ(0,"mat-icon",73)}function oe(t,e){1&t&&d._UZ(0,"mat-icon",74)}function re(t,e){1&t&&d._UZ(0,"mat-icon",75)}function ae(t,e){1&t&&d._UZ(0,"mat-icon",76)}function ie(t,e){if(1&t&&d._UZ(0,"mat-icon",77),2&t){const t=d.oxw().$implicit;d.Q6J("matBadge",null==t.chat_room?null:t.chat_room.unread_b)("matBadgeHidden",!(null!=t.chat_room&&t.chat_room.unread_b))}}function ce(t,e){if(1&t&&d._UZ(0,"mat-icon",78),2&t){const t=d.oxw().$implicit;d.Q6J("matBadge",null==t.chat_room?null:t.chat_room.unread_b)("matBadgeHidden",!(null!=t.chat_room&&t.chat_room.unread_b))}}function le(t,e){1&t&&(d.ynx(0),d._UZ(1,"mat-icon",79),d.BQk())}function se(t,e){1&t&&(d.ynx(0),d._UZ(1,"mat-icon",80),d.BQk())}const ge=function(){return[1,2,3]},ue=function(){return[5,7]},de=function(){return[4,6]},pe=function(){return[3,5]};function me(t,e){if(1&t&&(d.TgZ(0,"td",64),d.ynx(1,65),d.YNc(2,ne,1,0,"mat-icon",66),d.YNc(3,oe,1,0,"mat-icon",67),d.YNc(4,re,1,0,"mat-icon",68),d.YNc(5,ae,1,0,"mat-icon",69),d.BQk(),d.ynx(6,65),d.YNc(7,ie,1,2,"mat-icon",70),d.YNc(8,ce,1,2,"mat-icon",71),d.BQk(),d.YNc(9,le,2,0,"ng-container",72),d.YNc(10,se,2,0,"ng-container",72),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.Q6J("ngSwitch",null==t.status?null:t.status.id),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(8,ge)),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(9,ue)),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(10,de)),d.xp6(2),d.Q6J("ngSwitch",null==t.status?null:t.status.id),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(11,pe)),d.xp6(2),d.Q6J("ngIf",t.rating),d.xp6(1),d.Q6J("ngIf",!t.rating)}}function fe(t,e){1&t&&d._UZ(0,"th",51)}function he(t,e){if(1&t&&(d.TgZ(0,"td",81),d.NdJ("click",function(t){return t.stopPropagation()}),d.TgZ(1,"a",82),d.TgZ(2,"mat-icon"),d._uU(3,"chevron_right"),d.qZA(),d.qZA(),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.Q6J("routerLink",t.id)}}function _e(t,e){1&t&&d._UZ(0,"tr",83)}function Ze(t,e){1&t&&d._UZ(0,"tr",84),2&t&&d.Q6J("routerLink",e.$implicit.id)}function Ce(t,e){1&t&&(d.TgZ(0,"tr",85),d.TgZ(1,"td",86),d._uU(2,"No tienes cotizaci\xf3nes."),d.qZA(),d.qZA())}const Me=function(){return[5,10,20]};let Oe=(()=>{class t{constructor(t,e,n,o,r){this.http=t,this.router=e,this.route=n,this.alert=o,this.authenticationService=r,this.displayedColumns=["select","id","company","service","date","status","price","badges","actions"],this.dataSource=new Jt.by([]),this.selection=new kt.Ov(!0,[]),this.users=[],this.motives=[],this.statuses=[],this.filters={_q:null,status:null,unread:null,tab:"open"},this._statusInTab={open:[1,3,5],pending:[2],discarded:[4,6],finalized:[7]},this.currentUser=this.authenticationService.currentUserValue,this.querySubscription=this.route.queryParamMap.subscribe(t=>{this.filters._q=t.get("_q")?t.get("_q"):null,this.filters.status=t.get("status")?Number(t.get("status")):null,this.filters.user=t.get("user")?Number(t.get("user")):null,this.filters.unread=t.get("unread")?"true"==t.get("unread"):null,t.get("tab")&&(this.filters.tab=t.get("tab")),this.applyFilter(!1)}),this.dataSource.sortingDataAccessor=(t,e)=>{var n,o,r,a;switch(e){case"id":return t.id;case"company":return null===(n=t.company)||void 0===n?void 0:n.name;case"service":return null===(o=t.service)||void 0===o?void 0:o.name;case"date":return t.created_at;case"status":return null===(r=t.status)||void 0===r?void 0:r.id;case"price":return null===(a=t.offer)||void 0===a?void 0:a.amount;default:return t[e]}},this.dataSource.filterPredicate=(t,e)=>{var n,o,r,a;return!(!this.statusInTab(null===(n=t.status)||void 0===n?void 0:n.id)||null!==this.filters.status&&t.status.id!=this.filters.status||null!==this.filters.user&&t.user.id!=this.filters.user||this.filters.unread&&!(null===(o=t.chat_room)||void 0===o?void 0:o.unread_b)||(null==e?void 0:e._q)&&e._q.trim()&&-1==JSON.stringify([t.id,null===(r=t.company)||void 0===r?void 0:r.name,null===(a=t.service)||void 0===a?void 0:a.name]).toLowerCase().indexOf(e._q.toLowerCase()))}}ngOnInit(){this.loadQuotations(),this.loadQuotationStatuses(),this.loadUsers(),this.loadDiscardMotives()}ngOnDestroy(){this.querySubscription.unsubscribe()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}loadQuotations(){const t=(new i.LE).append("_sort","status:ASC,published_at:DESC");this.http.get(`${J.N.apiUrl}/quotations`,{params:t}).subscribe(t=>{this.dataSource.data=t},t=>{})}loadQuotationStatuses(){this.http.get(`${J.N.apiUrl}/quotation-statuses`).subscribe(t=>{this.statuses=t},t=>{})}loadUsers(){this.http.get(`${J.N.apiUrl}/users`).subscribe(t=>{this.users=t.map(t=>({id:t.id,name:t.username}))},t=>{})}loadDiscardMotives(){const t=new i.LE;this.http.get(`${J.N.apiUrl}/discard-motives`,{params:t}).subscribe(t=>{this.motives=t},t=>{})}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.id+1}`:(this.isAllSelected()?"deselect":"select")+" all"}statusInTab(t){return null!==this.filters.tab&&void 0!==this._statusInTab[this.filters.tab]&&this._statusInTab[this.filters.tab].includes(t)}tabChangue(t){this.filters.status=null,this.applyFilter()}applyFilter(t=!0){this.dataSource.filter=this.filters,t&&this.router.navigate([],{queryParams:this.filters,queryParamsHandling:"merge",replaceUrl:!0})}bulkAction(){console.log(this.selection.isEmpty())}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.F0),d.Y36(r.gz),d.Y36(C.c9),d.Y36(C.$h))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-cotizaciones"]],viewQuery:function(t,e){if(1&t&&(d.Gf(It.YE,5),d.Gf(Qt.NW,5)),2&t){let t;d.iGM(t=d.CRH())&&(e.sort=t.first),d.iGM(t=d.CRH())&&(e.paginator=t.first)}},decls:75,vars:11,consts:[[1,"container-fluid","pt-5","px-md-5"],[1,"row"],[1,"col","page-title"],[1,"col","page-actions"],[1,"row","search-form"],[1,"form-group","col-auto","mt-2"],["for","search_name",1,"form-label"],["appearance","outline",1,"search-name"],["matPrefix",""],["matInput","","id","search_name","placeholder","Buscar por nombre del cliente o servicio",3,"ngModel","ngModelChange","keyup"],["for","tipo",1,"form-label"],["appearance","outline"],["id","order","placeholder","Todas","disableOptionCentering","",3,"ngModel","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row","actions-form","pt-3"],[1,"form-group","col-auto","mt-1"],[3,"ngModel","ngModelChange","change"],[1,"col","py-4"],["name","estatus",1,"tabs",3,"ngModel","ngModelChange","change"],["value","open"],["value","pending"],["value","discarded"],["value","finalized"],[1,"col"],["mat-table","","matSort","",1,"cotizacion-table",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","class","px-3","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","px-3 text-nowrap",4,"matCellDef"],["matColumnDef","company"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","service"],["matColumnDef","date"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","status-cell text-center",4,"matCellDef"],["matColumnDef","price"],["mat-cell","","class","price-cell text-center",4,"matCellDef"],["matColumnDef","badges"],["mat-header-cell","","class","text-end",4,"matHeaderCellDef"],["mat-cell","","class","badges-cell text-end text-nowrap",4,"matCellDef"],["matColumnDef","actions"],["mat-cell","","class","actions-cell text-end",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"routerLink",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",3,"click"],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header","",1,"px-3"],["mat-cell","",1,"px-3","text-nowrap"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"profile_picture"],["mat-header-cell","","mat-sort-header","",1,"text-center"],["mat-cell","",1,"status-cell","text-center"],["mat-cell","",1,"price-cell","text-center"],["mat-header-cell","",1,"text-end"],["mat-cell","",1,"badges-cell","text-end","text-nowrap"],[3,"ngSwitch"],["svgIcon","cotizacion-pending",4,"jrSwitchCases"],["svgIcon","cotizacion-active",4,"jrSwitchCases"],["svgIcon","cotizacion-reject",4,"jrSwitchCases"],["svgIcon","cotizacion",4,"ngSwitchDefault"],["svgIcon","mnsg",3,"matBadge","matBadgeHidden",4,"jrSwitchCases"],["svgIcon","mnsg-disable",3,"matBadge","matBadgeHidden",4,"ngSwitchDefault"],[4,"ngIf"],["svgIcon","cotizacion-pending"],["svgIcon","cotizacion-active"],["svgIcon","cotizacion-reject"],["svgIcon","cotizacion"],["svgIcon","mnsg",3,"matBadge","matBadgeHidden"],["svgIcon","mnsg-disable",3,"matBadge","matBadgeHidden"],["svgIcon","star-active",1,"ms-1"],["svgIcon","star-disable"],["mat-cell","",1,"actions-cell","text-end",3,"click"],["mat-button","","color","primary",3,"routerLink"],["mat-header-row",""],["mat-row","",3,"routerLink"],[1,"mat-row"],["colspan","7",1,"mat-cell"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h1"),d._uU(4,"Cotizaciones"),d.qZA(),d.TgZ(5,"p"),d._uU(6,"Revisa el estado de las solicitudes de tus clientes"),d.qZA(),d.qZA(),d._UZ(7,"div",3),d.qZA(),d._UZ(8,"mat-divider"),d.TgZ(9,"div",4),d.TgZ(10,"div",5),d.TgZ(11,"label",6),d._uU(12,"\xa0"),d.qZA(),d.TgZ(13,"mat-form-field",7),d.TgZ(14,"mat-icon",8),d._uU(15,"search"),d.qZA(),d.TgZ(16,"input",9),d.NdJ("ngModelChange",function(t){return e.filters._q=t})("keyup",function(){return e.applyFilter()}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(17,"div",5),d.TgZ(18,"label",10),d._uU(19,"Estado"),d.qZA(),d.TgZ(20,"mat-form-field",11),d.TgZ(21,"mat-select",12),d.NdJ("ngModelChange",function(t){return e.filters.status=t})("selectionChange",function(){return e.applyFilter()}),d.TgZ(22,"mat-option",13),d._uU(23,"Todas"),d.qZA(),d.YNc(24,Ft,2,2,"mat-option",14),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(25,"mat-divider"),d.TgZ(26,"div",15),d.TgZ(27,"div",16),d.TgZ(28,"mat-checkbox",17),d.NdJ("ngModelChange",function(t){return e.filters.unread=t})("change",function(){return e.applyFilter()}),d._uU(29,"Conversaciones sin leer"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(30,"div",1),d.TgZ(31,"div",18),d.TgZ(32,"mat-button-toggle-group",19),d.NdJ("ngModelChange",function(t){return e.filters.tab=t})("change",function(t){return e.tabChangue(t)}),d.TgZ(33,"mat-button-toggle",20),d._uU(34,"Abiertas"),d.qZA(),d.TgZ(35,"mat-button-toggle",21),d._uU(36,"Pendientes"),d.qZA(),d.TgZ(37,"mat-button-toggle",22),d._uU(38,"Descartadas"),d.qZA(),d.TgZ(39,"mat-button-toggle",23),d._uU(40,"Finalizadas"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(41,"div",1),d.TgZ(42,"div",24),d.TgZ(43,"table",25),d.ynx(44,26),d.YNc(45,$t,2,3,"th",27),d.YNc(46,Et,2,2,"td",28),d.BQk(),d.ynx(47,29),d.YNc(48,Dt,2,0,"th",30),d.YNc(49,jt,2,1,"td",31),d.BQk(),d.ynx(50,32),d.YNc(51,Bt,2,0,"th",33),d.YNc(52,Lt,4,2,"td",34),d.BQk(),d.ynx(53,35),d.YNc(54,Gt,2,0,"th",33),d.YNc(55,Ht,2,1,"td",34),d.BQk(),d.ynx(56,36),d.YNc(57,Rt,2,0,"th",33),d.YNc(58,Vt,3,4,"td",34),d.BQk(),d.ynx(59,37),d.YNc(60,Xt,2,0,"th",38),d.YNc(61,Wt,3,4,"td",39),d.BQk(),d.ynx(62,40),d.YNc(63,Kt,2,0,"th",38),d.YNc(64,te,3,3,"td",41),d.BQk(),d.ynx(65,42),d.YNc(66,ee,1,0,"th",43),d.YNc(67,me,11,12,"td",44),d.BQk(),d.ynx(68,45),d.YNc(69,fe,1,0,"th",27),d.YNc(70,he,4,1,"td",46),d.BQk(),d.YNc(71,_e,1,0,"tr",47),d.YNc(72,Ze,1,1,"tr",48),d.YNc(73,Ce,3,0,"tr",49),d.qZA(),d._UZ(74,"mat-paginator",50),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(16),d.Q6J("ngModel",e.filters._q),d.xp6(5),d.Q6J("ngModel",e.filters.status),d.xp6(1),d.Q6J("value",null),d.xp6(2),d.Q6J("ngForOf",e.statuses),d.xp6(4),d.Q6J("ngModel",e.filters.unread),d.xp6(4),d.Q6J("ngModel",e.filters.tab),d.xp6(11),d.Q6J("dataSource",e.dataSource),d.xp6(28),d.Q6J("matHeaderRowDef",e.displayedColumns),d.xp6(1),d.Q6J("matRowDefColumns",e.displayedColumns),d.xp6(2),d.Q6J("pageSizeOptions",d.DdM(10,Me)))},directives:[T.d,F.KE,b.Hw,F.qo,$.Nt,a.Fj,a.JJ,a.On,St.gD,w.ey,o.sg,E.oG,Yt.A9,Yt.Yi,Jt.BZ,It.YE,Jt.w1,Jt.fO,Jt.Dz,Jt.as,Jt.nj,Jt.Ee,Qt.NW,Jt.ge,Jt.ev,It.nU,zt.X,o.RF,pt.I,o.ED,o.O5,P.k,v.zs,r.yS,Jt.XQ,Jt.Gk,r.rH],pipes:[o.uU,o.H9],styles:[".search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{display:block;width:130px;max-width:100%}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-name[_ngcontent-%COMP%]{width:330px}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-name[_ngcontent-%COMP%]  .mat-form-field-prefix{align-self:center}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-user[_ngcontent-%COMP%]{width:156px}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--app-amarillo-claro)}.actions-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.actions-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{line-height:40px}table.mat-table[_ngcontent-%COMP%]{display:table;width:100%;border-radius:10px;overflow:hidden;filter:drop-shadow(0 5px 5px rgba(64,148,171,.24))}table.mat-table[_ngcontent-%COMP%]     .mat-header-cell{background-color:var(--app-blue-cyan);color:#fff}table.mat-table[_ngcontent-%COMP%]     .mat-row:nth-child(odd){background-color:#fff}table.mat-table[_ngcontent-%COMP%]     .mat-row:not(:nth-child(odd)){background-color:#f6f9fa}table.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{cursor:pointer}table.mat-table[_ngcontent-%COMP%]   .status-cell[_ngcontent-%COMP%]   span.pill[_ngcontent-%COMP%]{width:100px}table.mat-table[_ngcontent-%COMP%]   .price-cell[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:10px;line-height:12px;color:#64c97a}table.mat-table[_ngcontent-%COMP%]   .badges-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:27px;height:27px;width:27px;margin-right:5px}table.mat-table[_ngcontent-%COMP%]   .badges-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]     .mat-badge-content{top:2px;right:-4px;font-size:7px;line-height:12px;width:12px;height:12px}table.mat-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]{cursor:unset}table.mat-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]   mat-badge-medium.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:unset;right:unset}"]}),t})();var xe=n(2935),ve=n(1895);function qe(t,e){if(1&t&&(d.TgZ(0,"mat-option",17),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function be(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Selecciona el problema que quieres reportar."),d.qZA())}function Pe(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Describe el problema."),d.qZA())}let Ae=(()=>{class t{constructor(t,e,n,o,r,i,c){var l;this.http=t,this.router=e,this.route=n,this.alert=o,this.authenticationService=r,this.formBuilder=i,this.dialogRef=c,this.typesList=[],this.wait=!1,this.currentUser=r.currentUserValue,this.issueForm=this.formBuilder.group({type:[null,[a.kI.required]],details:[null,[a.kI.required]],screenshot:[null],screenshot_source:[null],user:[this.currentUser.id],supplier:[null===(l=this.currentUser.supplier)||void 0===l?void 0:l.id],status:[1]})}ngOnInit(){this.loadTypes()}loadTypes(){const t=new i.LE;this.http.get(`${J.N.apiUrl}/issue-types`,{params:t}).subscribe(t=>{this.typesList=t},t=>{})}onSubmit(){var t,e,n;if(this.issueForm.invalid)return console.log("form invalid"),void this.issueForm.markAllAsTouched();console.log("submit..."),this.wait=!0;const o=new FormData;let r=this.issueForm.getRawValue();delete r.screenshot,delete r.screenshot_source,o.append("data",JSON.stringify(r)),(null===(t=this.issueForm.get("screenshot"))||void 0===t?void 0:t.value)&&o.append("files.screenshot",null===(e=this.issueForm.get("screenshot_source"))||void 0===e?void 0:e.value,null===(n=this.issueForm.get("screenshot"))||void 0===n?void 0:n.value.split("\\").pop()),this.http.post(`${J.N.apiUrl}/issues`,o).subscribe(t=>{this.wait=!1,this.dialogRef.close(t)},t=>{this.wait=!1,console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.F0),d.Y36(r.gz),d.Y36(C.c9),d.Y36(C.$h),d.Y36(a.qu),d.Y36(xe.so))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-incidencia-reportar"]],decls:31,vars:6,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title","",1,"text-center"],[1,"pb-3"],[1,"row","justify-content-center","pt-3"],[1,"col-sm-8"],["for","type"],["appearance","outline"],["id","type","placeholder","Origen del problema","formControlName","type","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-sm-11"],["matInput","","id","details","formControlName","details","rows","6","placeholder","Escribenos mas detalles"],[1,"col-auto"],["field","screenshot","placeholder","Adjuntar una captura","hint","JPG o PNG","accept","image/png, image/jpeg","direction","col",3,"form","showStatus"],[1,"row","justify-content-center","py-3"],["type","submit","mat-flat-button","","color","accent","cdkFocusInitial","",1,"btn-round"],["type","button","mat-flat-button","","color","primary","mat-dialog-close","",1,"btn-round"],[3,"value"]],template:function(t,e){if(1&t&&(d.TgZ(0,"form",0),d.NdJ("ngSubmit",function(){return e.onSubmit()}),d.TgZ(1,"h2",1),d._uU(2,"\xbfTienes algun problema?"),d.qZA(),d.TgZ(3,"mat-dialog-content",2),d.TgZ(4,"p"),d._uU(5,"No te preocupes estamos para ayudarte, ayudanos con el siguiente formulario para poder atender tu problema, podr\xe1s consultar el status de tu solicitud en el panel de incidencias. Puedes adjuntar una captura para entender mejor la situaci\xf3n"),d.qZA(),d._UZ(6,"mat-divider"),d.TgZ(7,"div",3),d.TgZ(8,"div",4),d.TgZ(9,"label",5),d._uU(10,"Tipo de problema"),d.qZA(),d.TgZ(11,"mat-form-field",6),d.TgZ(12,"mat-select",7),d.YNc(13,qe,2,2,"mat-option",8),d.qZA(),d.YNc(14,be,2,0,"mat-error",9),d.qZA(),d.qZA(),d.qZA(),d.TgZ(15,"div",3),d.TgZ(16,"div",10),d.TgZ(17,"mat-form-field",6),d._UZ(18,"textarea",11),d.YNc(19,Pe,2,0,"mat-error",9),d.qZA(),d.qZA(),d.qZA(),d.TgZ(20,"div",3),d.TgZ(21,"div",12),d._UZ(22,"app-file-field",13),d.qZA(),d.qZA(),d.qZA(),d._UZ(23,"mat-divider"),d.TgZ(24,"mat-dialog-actions",14),d.TgZ(25,"div",12),d.TgZ(26,"button",15),d._uU(27,"Aceptar"),d.qZA(),d.qZA(),d.TgZ(28,"div",12),d.TgZ(29,"button",16),d._uU(30,"Cancelar"),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){let t,n;d.Q6J("formGroup",e.issueForm),d.xp6(13),d.Q6J("ngForOf",e.typesList),d.xp6(1),d.Q6J("ngIf",null==(t=e.issueForm.get("type"))?null:t.hasError("required")),d.xp6(5),d.Q6J("ngIf",null==(n=e.issueForm.get("type"))?null:n.hasError("required")),d.xp6(3),d.Q6J("form",e.issueForm)("showStatus",!1)}},directives:[a._Y,a.JL,a.sg,xe.uh,xe.xY,T.d,F.KE,St.gD,a.JJ,a.u,o.sg,o.O5,$.Nt,a.Fj,ve.O,xe.H8,v.lW,xe.ZT,w.ey,F.TO],styles:[".mat-dialog-title[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:18px;line-height:22px;text-align:center;color:var(--app-azul-marino)}mat-dialog-content[_ngcontent-%COMP%]{font-weight:500}mat-dialog-content[_ngcontent-%COMP%], mat-dialog-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-size:12px;line-height:15px;color:#5a6a6f}mat-dialog-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;margin-left:6px;font-weight:700;display:flex;align-items:center}mat-dialog-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;color:#062ebd}mat-dialog-content[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:100%}mat-dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:103px}"]}),t})();var Te=n(8417),we=n(5972);function ye(t,e){if(1&t&&(d.ynx(0),d.TgZ(1,"dt",14),d._uU(2,"Plazo de entrega:"),d.qZA(),d.TgZ(3,"dd",14),d._uU(4),d.ALo(5,"date"),d.qZA(),d._UZ(6,"div",16),d.BQk()),2&t){const t=d.oxw(2);d.xp6(4),d.Oqu(d.xi3(5,1,null==t.quotation.offer?null:t.quotation.offer.deliver_at,"dd/MM/yyyy"))}}function Ue(t,e){1&t&&d._UZ(0,"mat-icon",29)}function Ne(t,e){1&t&&d._UZ(0,"mat-icon",30)}function ke(t,e){1&t&&d._UZ(0,"mat-icon",31)}function Je(t,e){1&t&&d._UZ(0,"mat-icon",32)}function Ie(t,e){if(1&t&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"date"),d.qZA()),2&t){const t=d.oxw(3);d.xp6(1),d.hij("Aceptada el ",d.xi3(2,1,null==t.quotation.offer?null:t.quotation.offer.accepted_at,"dd/MM/yyyy")||"--/--/----","")}}function Qe(t,e){if(1&t&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"date"),d.qZA()),2&t){const t=d.oxw(3);d.xp6(1),d.hij("Rechazada el ",d.xi3(2,1,null==t.quotation.offer?null:t.quotation.offer.rejected_at,"dd/MM/yyyy")||"--/--/----","")}}function Se(t,e){if(1&t&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"date"),d.qZA()),2&t){const t=d.oxw(3);d.xp6(1),d.hij("Rechazada el ",d.xi3(2,1,null==t.quotation?null:t.quotation.discarded_at,"dd/MM/yyyy")||"--/--/----","")}}function Ye(t,e){if(1&t&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"date"),d.qZA()),2&t){const t=d.oxw(3);d.xp6(1),d.hij("Enviada el ",d.xi3(2,1,null==t.quotation.offer?null:t.quotation.offer.created_at,"dd/MM/yyyy")||"--/--/----","")}}const ze=function(){return[5,7]};function Fe(t,e){if(1&t&&(d.TgZ(0,"div",33),d.TgZ(1,"div",34),d.TgZ(2,"h5",35),d._uU(3),d.ALo(4,"currency"),d.qZA(),d.TgZ(5,"div",36),d.YNc(6,Ie,3,4,"span",37),d.YNc(7,Qe,3,4,"span",38),d.YNc(8,Se,3,4,"span",38),d.YNc(9,Ye,3,4,"span",39),d.qZA(),d.qZA(),d.TgZ(10,"div",34),d.TgZ(11,"a",40),d._uU(12,"Ver cotizaci\xf3n"),d.qZA(),d.qZA(),d.qZA()),2&t){const t=d.oxw(2);d.xp6(3),d.Oqu(d.lcZ(4,7,null==t.quotation.offer?null:t.quotation.offer.amount)||"-"),d.xp6(2),d.Q6J("ngSwitch",null==t.quotation.status?null:t.quotation.status.id),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(9,ze)),d.xp6(1),d.Q6J("ngSwitchCase",6),d.xp6(1),d.Q6J("ngSwitchCase",4),d.xp6(3),d.s9C("href",t.publicUrl(null==t.quotation.offer||null==t.quotation.offer.file?null:t.quotation.offer.file.url),d.LSH),d.Q6J("disabled",!(null!=t.quotation.offer&&t.quotation.offer.file))}}function $e(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese un monto a ofrecer para esta cotizacion."),d.qZA())}function Ee(t,e){if(1&t){const t=d.EpF();d.ynx(0),d.TgZ(1,"p"),d._uU(2,"Por favor envia tu cotizaci\xf3n a este cliente"),d.qZA(),d.TgZ(3,"form",41),d.NdJ("ngSubmit",function(){return d.CHM(t),d.oxw(2).setOffer()}),d.TgZ(4,"div",42),d.TgZ(5,"div",43),d.TgZ(6,"label",44),d._uU(7,"Precio"),d.TgZ(8,"span",45),d._uU(9,"*"),d.qZA(),d.qZA(),d.TgZ(10,"mat-form-field",46),d._UZ(11,"input",47),d.YNc(12,$e,2,0,"mat-error",17),d.qZA(),d.qZA(),d.qZA(),d.TgZ(13,"div",42),d.TgZ(14,"div",48),d._UZ(15,"app-file-field",49),d.qZA(),d.qZA(),d.TgZ(16,"div",50),d.TgZ(17,"p"),d.TgZ(18,"mat-checkbox",51),d._uU(19,"Acepto enviar y respetar esta cotizaci\xf3n al cliente."),d.qZA(),d.qZA(),d.qZA(),d.TgZ(20,"div",52),d.TgZ(21,"button",53),d._uU(22,"Enviar"),d.qZA(),d.qZA(),d.qZA(),d.BQk()}if(2&t){const t=d.oxw(2);let e;d.xp6(3),d.Q6J("formGroup",t.offerForm),d.xp6(9),d.Q6J("ngIf",null==(e=t.offerForm.get("amount"))?null:e.hasError("required")),d.xp6(3),d.Q6J("form",t.offerForm)("showStatus",!0),d.xp6(6),d.Q6J("disabled",t.offerForm.invalid)}}function De(t,e){1&t&&(d.ynx(0),d._UZ(1,"mat-divider"),d.TgZ(2,"div",54),d.TgZ(3,"div",55),d.TgZ(4,"p"),d._uU(5,"El cliente no ha aceptado tu cotizaci\xf3n"),d.qZA(),d.qZA(),d.qZA(),d.BQk())}function je(t,e){1&t&&(d.ynx(0),d._UZ(1,"mat-divider"),d.TgZ(2,"div",54),d.TgZ(3,"div",55),d.TgZ(4,"p"),d._uU(5,"El cliente no ha cerrado el trato"),d.qZA(),d.qZA(),d.qZA(),d.BQk())}function Be(t,e){if(1&t&&(d.TgZ(0,"mat-chip",60,61),d._uU(2),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id)("selected",!0)("selectable",!1),d.xp6(2),d.Oqu(t.name)}}function Le(t,e){if(1&t&&(d.ynx(0),d.TgZ(1,"div",56),d.TgZ(2,"div",62),d.TgZ(3,"p"),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.BQk()),2&t){const t=d.oxw(3);d.xp6(4),d.Oqu(t.quotation.discard_details)}}function Ge(t,e){if(1&t&&(d.ynx(0),d.TgZ(1,"div",56),d.TgZ(2,"div",57),d.TgZ(3,"mat-chip-list",58),d.YNc(4,Be,3,4,"mat-chip",59),d.qZA(),d.qZA(),d.qZA(),d.YNc(5,Le,5,1,"ng-container",17),d.BQk()),2&t){const t=d.oxw(2);d.xp6(3),d.Q6J("multiple",!0),d.xp6(1),d.Q6J("ngForOf",t.quotation.discard_motives),d.xp6(1),d.Q6J("ngIf",t.quotation.discard_details)}}function He(t,e){if(1&t&&(d.ynx(0),d._UZ(1,"mat-divider"),d.TgZ(2,"div",54),d.TgZ(3,"div",63),d.TgZ(4,"p"),d._uU(5,"El cliente establecio el plazo de entrega para esta cotizaci\xf3n:"),d.qZA(),d.TgZ(6,"span",64),d._uU(7),d.ALo(8,"date"),d.qZA(),d.qZA(),d.qZA(),d.BQk()),2&t){const t=d.oxw(2);d.xp6(7),d.Oqu(d.xi3(8,1,null==t.quotation.offer?null:t.quotation.offer.deliver_at,"dd/MM/yyyy")||"--/--/----")}}function Re(t,e){if(1&t&&(d.TgZ(0,"div",67),d.TgZ(1,"h5",68),d._uU(2,"Motivo del rechazo"),d.qZA(),d.TgZ(3,"p",69),d._uU(4),d.qZA(),d.qZA()),2&t){const t=d.oxw(3);d.xp6(4),d.Oqu(null==t.quotation.offer?null:t.quotation.offer.reject_details)}}function Ve(t,e){if(1&t&&(d.ynx(0),d._UZ(1,"mat-divider"),d.TgZ(2,"div",65),d.YNc(3,Re,5,1,"div",66),d.qZA(),d.BQk()),2&t){const t=d.oxw(2);d.xp6(3),d.Q6J("ngIf",null==t.quotation.offer?null:t.quotation.offer.reject_details)}}function Xe(t,e){if(1&t&&(d.TgZ(0,"mat-chip",60,61),d._uU(2),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id)("selected",!0)("selectable",!1),d.xp6(2),d.Oqu(t.name)}}function We(t,e){if(1&t&&(d.ynx(0),d.TgZ(1,"div",56),d.TgZ(2,"div",62),d.TgZ(3,"p"),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.BQk()),2&t){const t=d.oxw(3);d.xp6(4),d.Oqu(t.quotation.rating.rating_details)}}function Ke(t,e){if(1&t&&(d.TgZ(0,"mat-card",70),d.TgZ(1,"mat-card-header"),d.TgZ(2,"mat-card-title"),d._UZ(3,"mat-icon",71),d._uU(4," Calificai\xf3n "),d.qZA(),d.qZA(),d.TgZ(5,"mat-card-content",72),d.TgZ(6,"div",73),d.TgZ(7,"div",74),d._UZ(8,"ngx-stars",75),d.qZA(),d.qZA(),d.TgZ(9,"div",56),d.TgZ(10,"div",57),d.TgZ(11,"mat-chip-list",58),d.YNc(12,Xe,3,4,"mat-chip",59),d.qZA(),d.qZA(),d.qZA(),d.YNc(13,We,5,1,"ng-container",17),d.qZA(),d.qZA()),2&t){const t=d.oxw(2);d.xp6(8),d.ekj("unrated",!t.quotation.rating.rating),d.Q6J("initialStars",t.quotation.rating.rating)("color","#DFBF03")("size",3)("maxStars",5)("customStarIcons",t.matStars)("readonly",!0),d.xp6(3),d.Q6J("multiple",!0),d.xp6(1),d.Q6J("ngForOf",t.quotation.rating.motives),d.xp6(1),d.Q6J("ngIf",t.quotation.rating.rating_details)}}function tn(t,e){if(1&t&&(d.TgZ(0,"mat-card",79),d.TgZ(1,"mat-card-title"),d._uU(2),d.qZA(),d.TgZ(3,"mat-card-content"),d.TgZ(4,"div",80),d.TgZ(5,"div",14),d.TgZ(6,"mat-icon"),d._uU(7,"phone"),d.qZA(),d.TgZ(8,"span",81),d._uU(9),d.ALo(10,"phone"),d.qZA(),d.qZA(),d.TgZ(11,"div",14),d.TgZ(12,"mat-icon"),d._uU(13,"mail"),d.qZA(),d.TgZ(14,"span",82),d._uU(15),d.qZA(),d.qZA(),d.TgZ(16,"div",67),d.TgZ(17,"mat-icon"),d._uU(18,"place"),d.qZA(),d.TgZ(19,"p"),d._uU(20),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){const t=d.oxw(3);d.xp6(2),d.AsE("",null==t.quotation.offer||null==t.quotation.offer.author?null:t.quotation.offer.author.firstname," ",null==t.quotation.offer||null==t.quotation.offer.author?null:t.quotation.offer.author.lastname,""),d.xp6(7),d.Oqu(d.lcZ(10,10,null==t.quotation.supplier?null:t.quotation.supplier.phone)),d.xp6(6),d.Oqu(null==t.quotation.offer||null==t.quotation.offer.author?null:t.quotation.offer.author.email),d.xp6(5),d.gL8("",null==t.quotation.supplier?null:t.quotation.supplier.address,", col. ",null==t.quotation.supplier?null:t.quotation.supplier.neighborhood,", ",null==t.quotation.supplier?null:t.quotation.supplier.city,", ",null==t.quotation.supplier?null:t.quotation.supplier.state,", ",null==t.quotation.supplier?null:t.quotation.supplier.country," C.P. ",null==t.quotation.supplier?null:t.quotation.supplier.postal_code,"")}}function en(t,e){if(1&t&&(d.TgZ(0,"div",76),d._UZ(1,"app-chat-card",77),d.YNc(2,tn,21,12,"mat-card",78),d.qZA()),2&t){const t=d.oxw(2);d.xp6(1),d.Q6J("id",t.quotation.id)("type","quotation")("room","cotizacion_"+t.quotation.id)("titleName",null==t.quotation.supplier?null:t.quotation.supplier.name)("titlePicture",null==t.quotation.supplier?null:t.quotation.supplier.profile_picture)("canChat",t.canChat()),d.xp6(1),d.Q6J("ngIf",(null==t.quotation.offer?null:t.quotation.offer.author)&&d.DdM(7,ze).includes(null==t.quotation.status?null:t.quotation.status.id))}}const nn=function(){return[1,2,3]},on=function(){return[4,6]},rn=function(){return[3,5,6,7]};function an(t,e){if(1&t&&(d.TgZ(0,"div",7),d.TgZ(1,"div",8),d.TgZ(2,"mat-card",9),d.TgZ(3,"mat-card-header"),d.TgZ(4,"mat-card-title"),d._UZ(5,"app-profile-picture-avatar",10),d._uU(6),d.qZA(),d.TgZ(7,"span",11),d._uU(8),d.qZA(),d.TgZ(9,"div"),d.TgZ(10,"span"),d._uU(11),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(12,"mat-card",12),d.TgZ(13,"mat-card-content"),d.TgZ(14,"dl",13),d.TgZ(15,"dt",14),d._uU(16,"Servicio solicitado:"),d.qZA(),d.TgZ(17,"dd",15),d._uU(18),d.qZA(),d._UZ(19,"div",16),d.TgZ(20,"dt",14),d._uU(21,"Fecha de la solicitud:"),d.qZA(),d.TgZ(22,"dd",14),d._uU(23),d.ALo(24,"date"),d.qZA(),d._UZ(25,"div",16),d.TgZ(26,"dt",14),d._uU(27,"Usuario de la solicitud:"),d.qZA(),d.TgZ(28,"dd",14),d._uU(29),d.qZA(),d._UZ(30,"div",16),d.TgZ(31,"dt",14),d._uU(32,"Cantidad:"),d.qZA(),d.TgZ(33,"dd",14),d._uU(34),d.qZA(),d._UZ(35,"div",16),d.YNc(36,ye,7,4,"ng-container",17),d.qZA(),d._UZ(37,"mat-divider"),d.TgZ(38,"div",18),d.TgZ(39,"h2"),d._uU(40,"Detalles"),d.qZA(),d.TgZ(41,"p"),d._uU(42),d.qZA(),d.qZA(),d.TgZ(43,"a",19),d.TgZ(44,"mat-icon"),d._uU(45,"note_add"),d.qZA(),d._uU(46," Ver documento "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(47,"mat-card",20),d.TgZ(48,"mat-card-header"),d.TgZ(49,"mat-card-title",21),d.YNc(50,Ue,1,0,"mat-icon",22),d.YNc(51,Ne,1,0,"mat-icon",23),d.YNc(52,ke,1,0,"mat-icon",24),d.YNc(53,Je,1,0,"mat-icon",25),d._uU(54," Cotizaci\xf3n "),d.qZA(),d.qZA(),d.TgZ(55,"mat-card-content"),d.YNc(56,Fe,13,10,"div",26),d.YNc(57,Ee,23,5,"ng-container",17),d.YNc(58,De,6,0,"ng-container",17),d.YNc(59,je,6,0,"ng-container",17),d.YNc(60,Ge,6,3,"ng-container",17),d.YNc(61,He,9,4,"ng-container",17),d.YNc(62,Ve,4,1,"ng-container",17),d.qZA(),d.qZA(),d.YNc(63,Ke,14,11,"mat-card",27),d.qZA(),d.YNc(64,en,3,8,"div",28),d.qZA()),2&t){const t=d.oxw();d.xp6(5),d.Q6J("profile_picture",null==t.quotation.company?null:t.quotation.company.profile_picture),d.xp6(1),d.hij(" ",null==t.quotation.company?null:t.quotation.company.name," "),d.xp6(2),d.AsE("ID: ",null==t.quotation.group?null:t.quotation.group.id,"-",t.quotation.id,""),d.xp6(2),d.Gre("pill pill-lg pill-",null==t.quotation.status?null:t.quotation.status.class," mx-auto"),d.xp6(1),d.Oqu(null==t.quotation.status?null:t.quotation.status.name),d.xp6(7),d.Oqu((null==t.quotation.service?null:t.quotation.service.name)||"N/A"),d.xp6(5),d.Oqu(d.xi3(24,29,t.quotation.created_at,"dd/MM/yyyy")),d.xp6(6),d.Oqu((null==t.quotation.user?null:t.quotation.user.firstname)+" "+(null==t.quotation.user?null:t.quotation.user.lastname)),d.xp6(5),d.Oqu(t.quotation.qty),d.xp6(2),d.Q6J("ngIf",null==t.quotation.offer?null:t.quotation.offer.deliver_at),d.xp6(6),d.Oqu(t.quotation.details),d.xp6(1),d.s9C("href",t.publicUrl(null==t.quotation.file?null:t.quotation.file.url),d.LSH),d.Q6J("disabled",!t.quotation.file),d.xp6(6),d.Q6J("ngSwitch",null==t.quotation.status?null:t.quotation.status.id),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(32,nn)),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(33,ze)),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(34,on)),d.xp6(4),d.Q6J("ngIf",t.quotation.offer),d.xp6(1),d.Q6J("ngIf",1==(null==t.quotation.status?null:t.quotation.status.id)),d.xp6(1),d.Q6J("ngIf",2==(null==t.quotation.status?null:t.quotation.status.id)),d.xp6(1),d.Q6J("ngIf",3==(null==t.quotation.status?null:t.quotation.status.id)),d.xp6(1),d.Q6J("ngIf",4==(null==t.quotation.status?null:t.quotation.status.id)),d.xp6(1),d.Q6J("ngIf",5==(null==t.quotation.status?null:t.quotation.status.id)&&null!==(null==t.quotation.offer?null:t.quotation.offer.deliver_at)),d.xp6(1),d.Q6J("ngIf",6==(null==t.quotation.status?null:t.quotation.status.id)),d.xp6(1),d.Q6J("ngIf",7==(null==t.quotation.status?null:t.quotation.status.id)&&t.quotation.rating),d.xp6(1),d.Q6J("ngIf",d.DdM(35,rn).includes(null==t.quotation.status?null:t.quotation.status.id))}}let cn=(()=>{class t{constructor(t,e,n,o,r,a,i){this.http=t,this.router=e,this.route=n,this.dialog=o,this.alert=r,this.authenticationService=a,this.formBuilder=i,this.wait=!1,this.matStars={empty:`${J.N.basehref}assets/images/star_outline.svg`,half:`${J.N.basehref}assets/images/star_half.svg`,full:`${J.N.basehref}assets/images/star.svg`},this.currentUser=a.currentUserValue,this.route.paramMap.subscribe(t=>{this.id=t.get("id"),this.ngOnInit()})}ngOnInit(){this.offerForm=this.formBuilder.group({amount:[null,[a.kI.required]],file:[null],file_source:[null],check:[!1,[a.kI.requiredTrue]]}),this.loadQuotation()}loadQuotation(){this.http.get(`${J.N.apiUrl}/quotations/${this.id}`).subscribe(t=>{this.quotation=t},t=>{})}openReport(){this.dialog.open(Ae,{width:"677px",panelClass:["dialog-py-48","dialog-px-75"],data:{}}).afterClosed().subscribe(t=>{console.log("The dialog was closed")})}setOffer(){if(this.offerForm.invalid)return console.log("form invalid"),void this.offerForm.markAllAsTouched();this.alert.open({title:"\xbfEst\xe1s seguro de establecer este monto?",text:"Una vez establecido el monto de la cotizaci\xf3n esta quedar\xe1 pendiente y para ser revisado por el cliente."}).then(t=>{var e,n,o;if(t){const t=new FormData;let r=this.offerForm.getRawValue();delete r.file,delete r.file_source,delete r.check,t.append("data",JSON.stringify(r)),(null===(e=this.offerForm.get("file"))||void 0===e?void 0:e.value)&&t.append("files.file",null===(n=this.offerForm.get("file_source"))||void 0===n?void 0:n.value,null===(o=this.offerForm.get("file"))||void 0===o?void 0:o.value.split("\\").pop()),this.wait=!0,this.http.put(`${J.N.apiUrl}/quotations/set-offer/${this.id}`,t).subscribe(t=>{console.log(t),this.wait=!1,this.quotation=t},t=>{this.wait=!1})}})}canChat(){var t;return!!this.quotation&&[3,5].includes(null===(t=this.quotation.status)||void 0===t?void 0:t.id)}publicUrl(t){return`${J.N.apiUrl}${t}`}assetUrl(t){return`${J.N.basehref}${t}`}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.F0),d.Y36(r.gz),d.Y36(xe.uw),d.Y36(C.c9),d.Y36(C.$h),d.Y36(a.qu))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-cotizacion-detalles"]],decls:13,vars:1,consts:[[1,"container","pt-5","px-md-5"],[1,"row"],[1,"col","page-title"],["routerLink","..",1,"btn-return"],[1,"col","page-actions"],["mat-button","","color","warn",1,"btn-round","btn-sm","btn-report",3,"click"],["class","row pt-3 gy-5",4,"ngIf"],[1,"row","pt-3","gy-5"],[1,"col-lg-7"],[1,"card-empresa"],[3,"profile_picture"],[1,"empresa-id"],[1,"card-info","mt-3"],[1,"row","list-info"],[1,"col-auto"],[1,"col-auto","serv-name"],[1,"w-100"],[4,"ngIf"],[1,"details","pt-4"],["mat-flat-button","","color","primary","target","_blank",1,"btn-round","btn-sm",3,"href","disabled"],[1,"card-offer","mt-5"],[3,"ngSwitch"],["svgIcon","cotizacion-pending",4,"jrSwitchCases"],["svgIcon","cotizacion-active",4,"jrSwitchCases"],["svgIcon","cotizacion-reject",4,"jrSwitchCases"],["svgIcon","cotizacion",4,"ngSwitchDefault"],["class","row gx-5 justify-content-center align-items-center row-info",4,"ngIf"],["class","card-rating mt-5",4,"ngIf"],["class","col-lg-5",4,"ngIf"],["svgIcon","cotizacion-pending"],["svgIcon","cotizacion-active"],["svgIcon","cotizacion-reject"],["svgIcon","cotizacion"],[1,"row","gx-5","justify-content-center","align-items-center","row-info"],[1,"col-auto","my-3"],[1,"price"],[1,"date",3,"ngSwitch"],[4,"jrSwitchCases"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["mat-flat-button","","color","accent","target","_blank",1,"btn-round","btn-view",3,"href","disabled"],[3,"formGroup","ngSubmit"],[1,"row","justify-content-center"],[1,"form-group","col-md-10","col-xl-8"],["for","amount",1,"form-label"],[1,"input-req"],["appearance","outline",1,"w-100"],["matInput","","type","number","step","any","id","amount","formControlName","amount","placeholder","Ingresa el monto final de la cotizaci\xf3n"],[1,"form-group","col-auto","ps-5"],["field","file","size","sm","placeholder","Adjuntar un documento","hint","PDF o XLS","accept","application/pdf, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","direction","row","itemAlign","start","statusPosition","after",3,"form","showStatus"],[1,"checks-seccion","text-center"],["formControlName","check"],[1,"d-flex","justify-content-center","mt-4"],["type","submit","mat-flat-button","","color","accent",1,"btn-round","btn-sm",3,"disabled"],[1,"row","gx-4","justify-content-center","align-items-center"],[1,"col-12","mt-3"],[1,"row","justify-content-center","pt-3"],[1,"col-sm-10"],[3,"multiple"],[3,"value","selected","selectable",4,"ngFor","ngForOf"],[3,"value","selected","selectable"],["c","matChip"],[1,"col-sm-11"],[1,"col-10","mt-3","text-center"],[1,"date"],[1,"row","gx-4","justify-content-center","align-items-center","row-reject-info"],["class","col-12 ",4,"ngIf"],[1,"col-12"],[1,"mt-4"],[1,"text-right"],[1,"card-rating","mt-5"],["svgIcon","star-active"],[1,"pb-4"],[1,"row","pt-4","justify-content-center","align-items-center","row-controls"],[1,"form-group","col-auto"],[3,"initialStars","color","size","maxStars","customStarIcons","readonly"],[1,"col-lg-5"],[3,"id","type","room","titleName","titlePicture","canChat"],["class","card-in-chargue mt-3",4,"ngIf"],[1,"card-in-chargue","mt-3"],[1,"row","g-3"],[1,"phone"],[1,"email"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"a",3),d.TgZ(4,"mat-icon"),d._uU(5,"arrow_back_ios"),d.qZA(),d._uU(6," Cotizaciones "),d.qZA(),d.qZA(),d.TgZ(7,"div",4),d.TgZ(8,"button",5),d.NdJ("click",function(){return e.openReport()}),d.TgZ(9,"mat-icon"),d._uU(10,"error"),d.qZA(),d._uU(11," Reportar un problema "),d.qZA(),d.qZA(),d.qZA(),d.YNc(12,an,65,36,"div",6),d.qZA()),2&t&&(d.xp6(12),d.Q6J("ngIf",e.quotation))},directives:[r.yS,b.Hw,v.lW,o.O5,V.a8,V.dk,V.n5,zt.X,V.dn,T.d,v.zs,o.RF,pt.I,o.ED,o.n9,a._Y,a.JL,a.sg,F.KE,$.Nt,a.wV,a.Fj,a.JJ,a.u,ve.O,E.oG,F.TO,D.qn,o.sg,D.HS,c.ve,Te.a],pipes:[o.uU,o.H9,we.E],styles:["mat-card[_ngcontent-%COMP%]{background:#fff;box-shadow:0 5px 5px #4094ab3d!important;border-radius:10px}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;display:flex;align-items:center;color:#062ebd}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:1em}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]     .mat-card-header-text{margin:0}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{position:relative}mat-card.card-empresa[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}mat-card.card-empresa[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:14px;display:flex;align-items:center;color:#062ebd;margin-bottom:0}mat-card.card-empresa[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]     img{margin-right:15px;background:#fbfbfb;border:1px solid #97bcc566;box-sizing:border-box}mat-card.card-empresa[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .empresa-id[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:11px;line-height:13px;color:#5a6a6f}mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{color:var(--app-text-gris-oscuro)}mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%], mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px}mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{color:var(--app-text-cyan)}mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dd.serv-name[_ngcontent-%COMP%]{color:var(--app-azul-marino)}mat-card.card-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#062ebd}mat-card.card-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], mat-card.card-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-size:12px;line-height:15px}mat-card.card-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;color:#5a6a6f}mat-card.card-offer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:11px;line-height:13px}mat-card.card-offer[_ngcontent-%COMP%]   .row-info[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%], mat-card.card-offer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;text-align:center;color:#5a6a6f}mat-card.card-offer[_ngcontent-%COMP%]   .row-info[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;font-size:14px;line-height:17px}mat-card.card-offer[_ngcontent-%COMP%]   .row-info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:11px;line-height:13px;color:#5a6a6f}mat-card.card-offer[_ngcontent-%COMP%]   .row-info[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]{width:160px}mat-card.card-offer[_ngcontent-%COMP%]   .row-reject-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;display:flex;align-items:center;color:#062ebd}mat-card.card-offer[_ngcontent-%COMP%]   .row-reject-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:12px;line-height:15px;text-align:left;color:#5a6a6f}mat-card.card-rating[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:12px;line-height:14px;text-align:center;color:#5a6a6f}mat-card.card-in-chargue[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:13px;line-height:16px;color:var(--app-gris-muy-oscuro)}mat-card.card-in-chargue[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}mat-card.card-in-chargue[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px;color:var(--app-amarillo-claro)}mat-card.card-in-chargue[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:13px;line-height:16px;color:var(--app-text-cyan)}mat-card.card-in-chargue[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:Montserrat;font-style:normal;font-weight:500;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}mat-chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:9px;line-height:11px;display:flex;justify-content:center;align-items:center;text-align:center;color:#5a6a6f;min-width:calc(33.3% - 8px);height:37px;background:#f7f7f7;border:1px solid #c4c4c4;box-sizing:border-box;border-radius:50px}mat-chip-list[_ngcontent-%COMP%]   mat-chip.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary[_ngcontent-%COMP%]{background:#fed00114;border:1px solid #fed001;color:#5a6a6f}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:not(.text-center)   label[_ngcontent-%COMP%]{margin-left:.5em;margin-right:-1.6em}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span.input-req[_ngcontent-%COMP%]{margin-left:.3em;color:var(--app-rojo)}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   mat-icon.input-info[_ngcontent-%COMP%]{margin-left:.3em;width:auto;height:auto;font-size:15px;line-height:1em;vertical-align:middle;color:var(--app-cyan)}form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--app-gris-muy-oscuro)}form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--app-cyan)}.date[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;color:var(--app-text-cyan)}"]}),t})();function ln(t,e){if(1&t&&(d.TgZ(0,"mat-option",13),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function sn(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"th",45),d.TgZ(1,"mat-checkbox",46),d.NdJ("change",function(e){d.CHM(t);const n=d.oxw();return e?n.masterToggle():null}),d.qZA(),d.qZA()}if(2&t){const t=d.oxw();d.xp6(1),d.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function gn(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"td",47),d.NdJ("click",function(t){return t.stopPropagation()}),d.TgZ(1,"mat-checkbox",48),d.NdJ("click",function(t){return t.stopPropagation()})("change",function(e){const n=d.CHM(t).$implicit,o=d.oxw();return e?o.selection.toggle(n):null}),d.qZA(),d.qZA()}if(2&t){const t=e.$implicit,n=d.oxw();d.xp6(1),d.Q6J("checked",n.selection.isSelected(t))("aria-label",n.checkboxLabel(t))}}function un(t,e){1&t&&(d.TgZ(0,"th",49),d._uU(1," ID "),d.qZA())}function dn(t,e){if(1&t&&(d.TgZ(0,"td",50),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.id," ")}}function pn(t,e){1&t&&(d.TgZ(0,"th",51),d._uU(1," Nombre del cliente "),d.qZA())}function mn(t,e){if(1&t&&(d.TgZ(0,"td",52),d.TgZ(1,"a"),d._UZ(2,"app-profile-picture-avatar",53),d._uU(3),d.qZA(),d.qZA()),2&t){const t=e.$implicit;d.xp6(2),d.Q6J("profile_picture",null==t.company?null:t.company.profile_picture),d.xp6(1),d.hij(" ",null==t.company?null:t.company.name," ")}}function fn(t,e){1&t&&(d.TgZ(0,"th",51),d._uU(1," Servicio "),d.qZA())}function hn(t,e){if(1&t&&(d.TgZ(0,"td",52),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",null==t.offer?null:t.offer.name," ")}}function _n(t,e){1&t&&(d.TgZ(0,"th",51),d._uU(1," Fecha "),d.qZA())}function Zn(t,e){if(1&t&&(d.TgZ(0,"td",52),d._uU(1),d.ALo(2,"date"),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",d.xi3(2,1,t.created_at,"dd/MM/yyyy")," ")}}function Cn(t,e){1&t&&(d.TgZ(0,"th",54),d._uU(1," Estado "),d.qZA())}function Mn(t,e){if(1&t&&(d.TgZ(0,"td",55),d.TgZ(1,"span"),d._uU(2),d.qZA(),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.Gre("pill pill-lg pill-",null==t.status?null:t.status.class," mx-auto"),d.xp6(1),d.Oqu(null==t.status?null:t.status.name)}}function On(t,e){1&t&&(d.TgZ(0,"th",54),d._uU(1," Precio "),d.qZA())}function xn(t,e){if(1&t&&(d.TgZ(0,"td",56),d._uU(1),d.ALo(2,"currency"),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",d.lcZ(2,1,null==t.offer?null:t.offer.price)||"-"," ")}}function vn(t,e){1&t&&d._UZ(0,"th",57)}function qn(t,e){1&t&&d._UZ(0,"mat-icon",67)}function bn(t,e){1&t&&d._UZ(0,"mat-icon",68)}function Pn(t,e){1&t&&d._UZ(0,"mat-icon",69)}function An(t,e){1&t&&d._UZ(0,"mat-icon",70)}function Tn(t,e){if(1&t&&d._UZ(0,"mat-icon",71),2&t){const t=d.oxw().$implicit;d.Q6J("matBadge",null==t.chat_room?null:t.chat_room.unread_b)("matBadgeHidden",!(null!=t.chat_room&&t.chat_room.unread_b))}}function wn(t,e){if(1&t&&d._UZ(0,"mat-icon",72),2&t){const t=d.oxw().$implicit;d.Q6J("matBadge",null==t.chat_room?null:t.chat_room.unread_b)("matBadgeHidden",!(null!=t.chat_room&&t.chat_room.unread_b))}}function yn(t,e){1&t&&(d.ynx(0),d._UZ(1,"mat-icon",73),d.BQk())}function Un(t,e){1&t&&(d.ynx(0),d._UZ(1,"mat-icon",74),d.BQk())}const Nn=function(){return[1,2,3]},kn=function(){return[5,7]},Jn=function(){return[4,6]},In=function(){return[3,5]};function Qn(t,e){if(1&t&&(d.TgZ(0,"td",58),d.ynx(1,59),d.YNc(2,qn,1,0,"mat-icon",60),d.YNc(3,bn,1,0,"mat-icon",61),d.YNc(4,Pn,1,0,"mat-icon",62),d.YNc(5,An,1,0,"mat-icon",63),d.BQk(),d.ynx(6,59),d.YNc(7,Tn,1,2,"mat-icon",64),d.YNc(8,wn,1,2,"mat-icon",65),d.BQk(),d.YNc(9,yn,2,0,"ng-container",66),d.YNc(10,Un,2,0,"ng-container",66),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.Q6J("ngSwitch",null==t.status?null:t.status.id),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(8,Nn)),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(9,kn)),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(10,Jn)),d.xp6(2),d.Q6J("ngSwitch",null==t.status?null:t.status.id),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(11,In)),d.xp6(2),d.Q6J("ngIf",t.rating),d.xp6(1),d.Q6J("ngIf",!t.rating)}}function Sn(t,e){1&t&&d._UZ(0,"th",45)}function Yn(t,e){if(1&t&&(d.TgZ(0,"td",75),d.NdJ("click",function(t){return t.stopPropagation()}),d.TgZ(1,"a",76),d.TgZ(2,"mat-icon"),d._uU(3,"chevron_right"),d.qZA(),d.qZA(),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.Q6J("routerLink",t.id)}}function zn(t,e){1&t&&d._UZ(0,"tr",77)}function Fn(t,e){1&t&&d._UZ(0,"tr",78),2&t&&d.Q6J("routerLink",e.$implicit.id)}function $n(t,e){1&t&&(d.TgZ(0,"tr",79),d.TgZ(1,"td",80),d._uU(2,"No tienes ofertas."),d.qZA(),d.qZA())}const En=function(){return[5,10,20]};let Dn=(()=>{class t{constructor(t,e,n,o,r){this.http=t,this.router=e,this.route=n,this.alert=o,this.authenticationService=r,this.displayedColumns=["select","id","company","offer","date","status","price","badges","actions"],this.dataSource=new Jt.by([]),this.selection=new kt.Ov(!0,[]),this.users=[],this.motives=[],this.statuses=[],this.filters={_q:null,status:null,unread:null,tab:"open"},this.currentUser=this.authenticationService.currentUserValue,this.querySubscription=this.route.queryParamMap.subscribe(t=>{this.filters._q=t.get("_q")?t.get("_q"):null,this.filters.status=t.get("status")?Number(t.get("status")):null,this.filters.user=t.get("user")?Number(t.get("user")):null,this.filters.unread=t.get("unread")?"true"==t.get("unread"):null,t.get("tab")&&(this.filters.tab=t.get("tab")),this.applyFilter(!1)}),this.dataSource.sortingDataAccessor=(t,e)=>{var n,o,r,a;switch(e){case"id":return t.id;case"company":return null===(n=t.company)||void 0===n?void 0:n.name;case"offer":return null===(o=t.offer)||void 0===o?void 0:o.name;case"date":return t.created_at;case"status":return null===(r=t.status)||void 0===r?void 0:r.id;case"price":return null===(a=t.offer)||void 0===a?void 0:a.price;default:return t[e]}},this.dataSource.filterPredicate=(t,e)=>{var n,o,r;return!(null!==this.filters.status&&t.status.id!=this.filters.status||null!==this.filters.user&&t.user.id!=this.filters.user||this.filters.unread&&!(null===(n=t.chat_room)||void 0===n?void 0:n.unread_b)||(null==e?void 0:e._q)&&e._q.trim()&&-1==JSON.stringify([t.id,null===(o=t.company)||void 0===o?void 0:o.name,null===(r=t.offer)||void 0===r?void 0:r.name]).toLowerCase().indexOf(e._q.toLowerCase()))}}ngOnInit(){this.loadQuotationStatuses(),this.loadUsers(),this.loadDiscardMotives(),this.loadRequests()}ngOnDestroy(){this.querySubscription.unsubscribe()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}loadRequests(){const t=new i.LE;this.http.get(`${J.N.apiUrl}/offer-requests`,{params:t}).subscribe(t=>{this.dataSource.data=t},t=>{})}loadQuotationStatuses(){this.http.get(`${J.N.apiUrl}/quotation-statuses`).subscribe(t=>{this.statuses=t},t=>{})}loadUsers(){this.http.get(`${J.N.apiUrl}/users`).subscribe(t=>{this.users=t.map(t=>({id:t.id,name:t.username}))},t=>{})}loadDiscardMotives(){const t=new i.LE;this.http.get(`${J.N.apiUrl}/discard-motives`,{params:t}).subscribe(t=>{this.motives=t},t=>{})}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.id+1}`:(this.isAllSelected()?"deselect":"select")+" all"}applyFilter(t=!0){this.dataSource.filter=this.filters,t&&this.router.navigate([],{queryParams:this.filters,queryParamsHandling:"merge",replaceUrl:!0})}bulkAction(){console.log(this.selection.isEmpty())}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.F0),d.Y36(r.gz),d.Y36(C.c9),d.Y36(C.$h))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-ofertas-relampago"]],viewQuery:function(t,e){if(1&t&&(d.Gf(It.YE,5),d.Gf(Qt.NW,5)),2&t){let t;d.iGM(t=d.CRH())&&(e.sort=t.first),d.iGM(t=d.CRH())&&(e.paginator=t.first)}},decls:64,vars:10,consts:[[1,"container-fluid","pt-5","px-md-5"],[1,"row"],[1,"col","page-title"],[1,"col","page-actions"],[1,"row","search-form"],[1,"form-group","col-auto","mt-2"],["for","search_name",1,"form-label"],["appearance","outline",1,"search-name"],["matPrefix",""],["matInput","","id","search_name","placeholder","Buscar por nombre del cliente o servicio",3,"ngModel","ngModelChange","keyup"],["for","tipo",1,"form-label"],["appearance","outline"],["id","order","placeholder","Todas","disableOptionCentering","",3,"ngModel","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row","actions-form","pt-3"],[1,"form-group","col-auto","mt-1"],[3,"ngModel","ngModelChange","change"],[1,"col"],["mat-table","","matSort","",1,"cotizacion-table",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","","class","px-3","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","px-3 text-nowrap",4,"matCellDef"],["matColumnDef","company"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","offer"],["matColumnDef","date"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","","class","text-center",4,"matHeaderCellDef"],["mat-cell","","class","status-cell text-center",4,"matCellDef"],["matColumnDef","price"],["mat-cell","","class","price-cell text-center",4,"matCellDef"],["matColumnDef","badges"],["mat-header-cell","","class","text-end",4,"matHeaderCellDef"],["mat-cell","","class","badges-cell text-end text-nowrap",4,"matCellDef"],["matColumnDef","actions"],["mat-cell","","class","actions-cell text-end",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"routerLink",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",3,"click"],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header","",1,"px-3"],["mat-cell","",1,"px-3","text-nowrap"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"profile_picture"],["mat-header-cell","","mat-sort-header","",1,"text-center"],["mat-cell","",1,"status-cell","text-center"],["mat-cell","",1,"price-cell","text-center"],["mat-header-cell","",1,"text-end"],["mat-cell","",1,"badges-cell","text-end","text-nowrap"],[3,"ngSwitch"],["svgIcon","cotizacion-pending",4,"jrSwitchCases"],["svgIcon","cotizacion-active",4,"jrSwitchCases"],["svgIcon","cotizacion-reject",4,"jrSwitchCases"],["svgIcon","cotizacion",4,"ngSwitchDefault"],["svgIcon","mnsg",3,"matBadge","matBadgeHidden",4,"jrSwitchCases"],["svgIcon","mnsg-disable",3,"matBadge","matBadgeHidden",4,"ngSwitchDefault"],[4,"ngIf"],["svgIcon","cotizacion-pending"],["svgIcon","cotizacion-active"],["svgIcon","cotizacion-reject"],["svgIcon","cotizacion"],["svgIcon","mnsg",3,"matBadge","matBadgeHidden"],["svgIcon","mnsg-disable",3,"matBadge","matBadgeHidden"],["svgIcon","star-active",1,"ms-1"],["svgIcon","star-disable"],["mat-cell","",1,"actions-cell","text-end",3,"click"],["mat-button","","color","primary",3,"routerLink"],["mat-header-row",""],["mat-row","",3,"routerLink"],[1,"mat-row"],["colspan","7",1,"mat-cell"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h1"),d._uU(4,"Ofertas rel\xe1mpago"),d.qZA(),d.TgZ(5,"p"),d._uU(6,"Revisa el estado de las solicitudes de ofertas de tus clientes"),d.qZA(),d.qZA(),d._UZ(7,"div",3),d.qZA(),d._UZ(8,"mat-divider"),d.TgZ(9,"div",4),d.TgZ(10,"div",5),d.TgZ(11,"label",6),d._uU(12,"\xa0"),d.qZA(),d.TgZ(13,"mat-form-field",7),d.TgZ(14,"mat-icon",8),d._uU(15,"search"),d.qZA(),d.TgZ(16,"input",9),d.NdJ("ngModelChange",function(t){return e.filters._q=t})("keyup",function(){return e.applyFilter()}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(17,"div",5),d.TgZ(18,"label",10),d._uU(19,"Estado"),d.qZA(),d.TgZ(20,"mat-form-field",11),d.TgZ(21,"mat-select",12),d.NdJ("ngModelChange",function(t){return e.filters.status=t})("selectionChange",function(){return e.applyFilter()}),d.TgZ(22,"mat-option",13),d._uU(23,"Todas"),d.qZA(),d.YNc(24,ln,2,2,"mat-option",14),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(25,"mat-divider"),d.TgZ(26,"div",15),d.TgZ(27,"div",16),d.TgZ(28,"mat-checkbox",17),d.NdJ("ngModelChange",function(t){return e.filters.unread=t})("change",function(){return e.applyFilter()}),d._uU(29,"Conversaciones sin leer"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(30,"div",1),d.TgZ(31,"div",18),d.TgZ(32,"table",19),d.ynx(33,20),d.YNc(34,sn,2,3,"th",21),d.YNc(35,gn,2,2,"td",22),d.BQk(),d.ynx(36,23),d.YNc(37,un,2,0,"th",24),d.YNc(38,dn,2,1,"td",25),d.BQk(),d.ynx(39,26),d.YNc(40,pn,2,0,"th",27),d.YNc(41,mn,4,2,"td",28),d.BQk(),d.ynx(42,29),d.YNc(43,fn,2,0,"th",27),d.YNc(44,hn,2,1,"td",28),d.BQk(),d.ynx(45,30),d.YNc(46,_n,2,0,"th",27),d.YNc(47,Zn,3,4,"td",28),d.BQk(),d.ynx(48,31),d.YNc(49,Cn,2,0,"th",32),d.YNc(50,Mn,3,4,"td",33),d.BQk(),d.ynx(51,34),d.YNc(52,On,2,0,"th",32),d.YNc(53,xn,3,3,"td",35),d.BQk(),d.ynx(54,36),d.YNc(55,vn,1,0,"th",37),d.YNc(56,Qn,11,12,"td",38),d.BQk(),d.ynx(57,39),d.YNc(58,Sn,1,0,"th",21),d.YNc(59,Yn,4,1,"td",40),d.BQk(),d.YNc(60,zn,1,0,"tr",41),d.YNc(61,Fn,1,1,"tr",42),d.YNc(62,$n,3,0,"tr",43),d.qZA(),d._UZ(63,"mat-paginator",44),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(16),d.Q6J("ngModel",e.filters._q),d.xp6(5),d.Q6J("ngModel",e.filters.status),d.xp6(1),d.Q6J("value",null),d.xp6(2),d.Q6J("ngForOf",e.statuses),d.xp6(4),d.Q6J("ngModel",e.filters.unread),d.xp6(4),d.Q6J("dataSource",e.dataSource),d.xp6(28),d.Q6J("matHeaderRowDef",e.displayedColumns),d.xp6(1),d.Q6J("matRowDefColumns",e.displayedColumns),d.xp6(2),d.Q6J("pageSizeOptions",d.DdM(9,En)))},directives:[T.d,F.KE,b.Hw,F.qo,$.Nt,a.Fj,a.JJ,a.On,St.gD,w.ey,o.sg,E.oG,Jt.BZ,It.YE,Jt.w1,Jt.fO,Jt.Dz,Jt.as,Jt.nj,Jt.Ee,Qt.NW,Jt.ge,Jt.ev,It.nU,zt.X,o.RF,pt.I,o.ED,o.O5,P.k,v.zs,r.yS,Jt.XQ,Jt.Gk,r.rH],pipes:[o.uU,o.H9],styles:[".search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{display:block;width:130px;max-width:100%}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-name[_ngcontent-%COMP%]{width:330px}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-name[_ngcontent-%COMP%]  .mat-form-field-prefix{align-self:center}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-user[_ngcontent-%COMP%]{width:156px}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--app-amarillo-claro)}.actions-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.actions-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{line-height:40px}table.mat-table[_ngcontent-%COMP%]{margin-top:2em;display:table;width:100%;border-radius:10px;overflow:hidden;filter:drop-shadow(0 5px 5px rgba(64,148,171,.24))}table.mat-table[_ngcontent-%COMP%]     .mat-header-cell{background-color:var(--app-blue-cyan);color:#fff}table.mat-table[_ngcontent-%COMP%]     .mat-row:nth-child(odd){background-color:#fff}table.mat-table[_ngcontent-%COMP%]     .mat-row:not(:nth-child(odd)){background-color:#f6f9fa}table.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{cursor:pointer}table.mat-table[_ngcontent-%COMP%]   .status-cell[_ngcontent-%COMP%]   span.pill[_ngcontent-%COMP%]{width:100px}table.mat-table[_ngcontent-%COMP%]   .price-cell[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:10px;line-height:12px;color:#64c97a}table.mat-table[_ngcontent-%COMP%]   .badges-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:27px;height:27px;width:27px;margin-right:5px}table.mat-table[_ngcontent-%COMP%]   .badges-cell[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]     .mat-badge-content{top:2px;right:-4px;font-size:7px;line-height:12px;width:12px;height:12px}table.mat-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]{cursor:unset}table.mat-table[_ngcontent-%COMP%]   .actions-cell[_ngcontent-%COMP%]   mat-badge-medium.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:unset;right:unset}"]}),t})();function jn(t,e){if(1&t&&(d.ynx(0),d.TgZ(1,"dt",14),d._uU(2,"Plazo de entrega:"),d.qZA(),d.TgZ(3,"dd",14),d._uU(4),d.ALo(5,"date"),d.qZA(),d._UZ(6,"div",16),d.BQk()),2&t){const t=d.oxw(2);d.xp6(4),d.Oqu(d.xi3(5,1,t.request.deliver_at,"dd/MM/yyyy"))}}function Bn(t,e){1&t&&d._UZ(0,"mat-icon",34)}function Ln(t,e){1&t&&d._UZ(0,"mat-icon",35)}function Gn(t,e){1&t&&d._UZ(0,"mat-icon",36)}function Hn(t,e){1&t&&d._UZ(0,"mat-icon",37)}function Rn(t,e){if(1&t&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"date"),d.qZA()),2&t){const t=d.oxw(2);d.xp6(1),d.hij("Aceptada el ",d.xi3(2,1,t.request.accepted_at,"dd/MM/yyyy")||"--/--/----","")}}function Vn(t,e){if(1&t&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"date"),d.qZA()),2&t){const t=d.oxw(2);d.xp6(1),d.hij("Rechazada el ",d.xi3(2,1,t.request.rejected_at,"dd/MM/yyyy")||"--/--/----","")}}function Xn(t,e){if(1&t&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"date"),d.qZA()),2&t){const t=d.oxw(2);d.xp6(1),d.hij("Rechazada el ",d.xi3(2,1,t.request.discarded_at,"dd/MM/yyyy")||"--/--/----","")}}function Wn(t,e){if(1&t&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"date"),d.qZA()),2&t){const t=d.oxw(2);d.xp6(1),d.hij("Enviada el ",d.xi3(2,1,t.request.created_at,"dd/MM/yyyy")||"--/--/----","")}}function Kn(t,e){if(1&t){const t=d.EpF();d.ynx(0),d._UZ(1,"mat-divider"),d.TgZ(2,"div",38),d.TgZ(3,"div",39),d.TgZ(4,"button",40),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).accept()}),d._uU(5,"Aceptar"),d.qZA(),d.qZA(),d.TgZ(6,"div",39),d.TgZ(7,"button",41),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).discard()}),d._uU(8,"Rechazar"),d.qZA(),d.qZA(),d.TgZ(9,"div",42),d.TgZ(10,"p"),d._uU(11,"Para poder ver los datos y el chat con este cliente debes aceptar esta solicitud"),d.qZA(),d.qZA(),d.qZA(),d.BQk()}}function to(t,e){if(1&t&&(d.TgZ(0,"mat-chip",47,48),d._uU(2),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id)("selected",!0)("selectable",!1),d.xp6(2),d.Oqu(t.name)}}function eo(t,e){if(1&t&&(d.ynx(0),d.TgZ(1,"div",43),d.TgZ(2,"div",49),d.TgZ(3,"p"),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.BQk()),2&t){const t=d.oxw(3);d.xp6(4),d.Oqu(t.request.discard_details)}}function no(t,e){if(1&t&&(d.ynx(0),d.TgZ(1,"div",43),d.TgZ(2,"div",44),d.TgZ(3,"mat-chip-list",45),d.YNc(4,to,3,4,"mat-chip",46),d.qZA(),d.qZA(),d.qZA(),d.YNc(5,eo,5,1,"ng-container",17),d.BQk()),2&t){const t=d.oxw(2);d.xp6(3),d.Q6J("multiple",!0),d.xp6(1),d.Q6J("ngForOf",t.request.discard_motives),d.xp6(1),d.Q6J("ngIf",t.request.discard_details)}}function oo(t,e){if(1&t&&(d.ynx(0),d._UZ(1,"mat-divider"),d.TgZ(2,"div",50),d.TgZ(3,"div",51),d.TgZ(4,"p"),d._uU(5,"El cliente establecio el plazo de entrega para:"),d.qZA(),d.TgZ(6,"span",52),d._uU(7),d.ALo(8,"date"),d.qZA(),d.qZA(),d.qZA(),d.BQk()),2&t){const t=d.oxw(2);d.xp6(7),d.Oqu(d.xi3(8,1,t.request.deliver_at,"dd/MM/yyyy")||"--/--/----")}}function ro(t,e){if(1&t&&(d.TgZ(0,"div",42),d.TgZ(1,"h5",55),d._uU(2,"Motivo del rechazo"),d.qZA(),d.TgZ(3,"p",56),d._uU(4),d.qZA(),d.qZA()),2&t){const t=d.oxw(3);d.xp6(4),d.Oqu(t.request.reject_details)}}function ao(t,e){if(1&t&&(d.ynx(0),d._UZ(1,"mat-divider"),d.TgZ(2,"div",53),d.YNc(3,ro,5,1,"div",54),d.qZA(),d.BQk()),2&t){const t=d.oxw(2);d.xp6(3),d.Q6J("ngIf",t.request.reject_details)}}function io(t,e){if(1&t&&(d.TgZ(0,"mat-chip",47,48),d._uU(2),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id)("selected",!0)("selectable",!1),d.xp6(2),d.Oqu(t.name)}}function co(t,e){if(1&t&&(d.ynx(0),d.TgZ(1,"div",43),d.TgZ(2,"div",49),d.TgZ(3,"p"),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.BQk()),2&t){const t=d.oxw(3);d.xp6(4),d.Oqu(t.request.rating.rating_details)}}function lo(t,e){if(1&t&&(d.TgZ(0,"mat-card",57),d.TgZ(1,"mat-card-header"),d.TgZ(2,"mat-card-title"),d._UZ(3,"mat-icon",58),d._uU(4," Calificai\xf3n "),d.qZA(),d.qZA(),d.TgZ(5,"mat-card-content",59),d.TgZ(6,"div",60),d.TgZ(7,"div",61),d._UZ(8,"ngx-stars",62),d.qZA(),d.qZA(),d.TgZ(9,"div",43),d.TgZ(10,"div",44),d.TgZ(11,"mat-chip-list",45),d.YNc(12,io,3,4,"mat-chip",46),d.qZA(),d.qZA(),d.qZA(),d.YNc(13,co,5,1,"ng-container",17),d.qZA(),d.qZA()),2&t){const t=d.oxw(2);d.xp6(8),d.ekj("unrated",!t.request.rating.rating),d.Q6J("initialStars",t.request.rating.rating)("color","#DFBF03")("size",3)("maxStars",5)("customStarIcons",t.matStars)("readonly",!0),d.xp6(3),d.Q6J("multiple",!0),d.xp6(1),d.Q6J("ngForOf",t.request.rating.motives),d.xp6(1),d.Q6J("ngIf",t.request.rating.rating_details)}}function so(t,e){if(1&t&&(d.TgZ(0,"mat-card",66),d.TgZ(1,"mat-card-title"),d._uU(2),d.qZA(),d.TgZ(3,"mat-card-content"),d.TgZ(4,"div",67),d.TgZ(5,"div",14),d.TgZ(6,"mat-icon"),d._uU(7,"phone"),d.qZA(),d.TgZ(8,"span",68),d._uU(9),d.ALo(10,"phone"),d.qZA(),d.qZA(),d.TgZ(11,"div",14),d.TgZ(12,"mat-icon"),d._uU(13,"mail"),d.qZA(),d.TgZ(14,"span",69),d._uU(15),d.qZA(),d.qZA(),d.TgZ(16,"div",42),d.TgZ(17,"mat-icon"),d._uU(18,"place"),d.qZA(),d.TgZ(19,"p"),d._uU(20),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){const t=d.oxw(3);d.xp6(2),d.AsE("",null==t.request.offer||null==t.request.offer.author?null:t.request.offer.author.firstname," ",null==t.request.offer||null==t.request.offer.author?null:t.request.offer.author.lastname,""),d.xp6(7),d.Oqu(d.lcZ(10,10,null==t.request.supplier?null:t.request.supplier.phone)),d.xp6(6),d.Oqu(null==t.request.offer||null==t.request.offer.author?null:t.request.offer.author.email),d.xp6(5),d.gL8("",null==t.request.supplier?null:t.request.supplier.address,", col. ",null==t.request.supplier?null:t.request.supplier.neighborhood,", ",null==t.request.supplier?null:t.request.supplier.city,", ",null==t.request.supplier?null:t.request.supplier.state,", ",null==t.request.supplier?null:t.request.supplier.country," C.P. ",null==t.request.supplier?null:t.request.supplier.postal_code,"")}}const go=function(){return[5,7]};function uo(t,e){if(1&t&&(d.TgZ(0,"div",63),d._UZ(1,"app-chat-card",64),d.YNc(2,so,21,12,"mat-card",65),d.qZA()),2&t){const t=d.oxw(2);d.xp6(1),d.Q6J("id",t.request.id)("type","offer_request")("room","oferta_"+t.request.id)("titleName",null==t.request.supplier?null:t.request.supplier.name)("titlePicture",null==t.request.supplier?null:t.request.supplier.profile_picture)("canChat",t.canChat()),d.xp6(1),d.Q6J("ngIf",(null==t.request.offer?null:t.request.offer.author)&&d.DdM(7,go).includes(null==t.request.status?null:t.request.status.id))}}const po=function(){return[1,2,3]},mo=function(){return[4,6]},fo=function(){return[3,5,6,7]};function ho(t,e){if(1&t&&(d.TgZ(0,"div",7),d.TgZ(1,"div",8),d.TgZ(2,"mat-card",9),d.TgZ(3,"mat-card-header"),d.TgZ(4,"mat-card-title"),d._UZ(5,"app-profile-picture-avatar",10),d._uU(6),d.qZA(),d.TgZ(7,"span",11),d._uU(8),d.qZA(),d.TgZ(9,"div"),d.TgZ(10,"span"),d._uU(11),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(12,"mat-card",12),d.TgZ(13,"mat-card-content"),d.TgZ(14,"dl",13),d.TgZ(15,"dt",14),d._uU(16,"Servicio solicitado:"),d.qZA(),d.TgZ(17,"dd",15),d._uU(18),d.qZA(),d._UZ(19,"div",16),d.TgZ(20,"dt",14),d._uU(21,"Fecha de la solicitud:"),d.qZA(),d.TgZ(22,"dd",14),d._uU(23),d.ALo(24,"date"),d.qZA(),d._UZ(25,"div",16),d.TgZ(26,"dt",14),d._uU(27,"Usuario de la solicitud:"),d.qZA(),d.TgZ(28,"dd",14),d._uU(29),d.qZA(),d._UZ(30,"div",16),d.YNc(31,jn,7,4,"ng-container",17),d.qZA(),d._UZ(32,"mat-divider"),d.TgZ(33,"div",18),d.TgZ(34,"h2"),d._uU(35,"Detalles"),d.qZA(),d.TgZ(36,"p"),d._uU(37),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(38,"mat-card",19),d.TgZ(39,"mat-card-header"),d.TgZ(40,"mat-card-title",20),d.YNc(41,Bn,1,0,"mat-icon",21),d.YNc(42,Ln,1,0,"mat-icon",22),d.YNc(43,Gn,1,0,"mat-icon",23),d.YNc(44,Hn,1,0,"mat-icon",24),d._uU(45," Precio "),d.qZA(),d.qZA(),d.TgZ(46,"mat-card-content"),d.TgZ(47,"div",25),d.TgZ(48,"div",26),d.TgZ(49,"h5",27),d._uU(50),d.ALo(51,"currency"),d.qZA(),d.TgZ(52,"div",28),d.YNc(53,Rn,3,4,"span",29),d.YNc(54,Vn,3,4,"span",30),d.YNc(55,Xn,3,4,"span",30),d.YNc(56,Wn,3,4,"span",31),d.qZA(),d.qZA(),d.qZA(),d.YNc(57,Kn,12,0,"ng-container",17),d.YNc(58,no,6,3,"ng-container",17),d.YNc(59,oo,9,4,"ng-container",17),d.YNc(60,ao,4,1,"ng-container",17),d.qZA(),d.qZA(),d.YNc(61,lo,14,11,"mat-card",32),d.qZA(),d.YNc(62,uo,3,8,"div",33),d.qZA()),2&t){const t=d.oxw();d.xp6(5),d.Q6J("profile_picture",null==t.request.company?null:t.request.company.profile_picture),d.xp6(1),d.hij(" ",null==t.request.company?null:t.request.company.name," "),d.xp6(2),d.hij("ID: ",t.request.id,""),d.xp6(2),d.Gre("pill pill-lg pill-",null==t.request.status?null:t.request.status.class," mx-auto"),d.xp6(1),d.Oqu(null==t.request.status?null:t.request.status.name),d.xp6(7),d.Oqu(null==t.request.offer?null:t.request.offer.name),d.xp6(5),d.Oqu(d.xi3(24,27,t.request.created_at,"dd/MM/yyyy")),d.xp6(6),d.Oqu((null==t.request.user?null:t.request.user.firstname)+" "+(null==t.request.user?null:t.request.user.lastname)),d.xp6(2),d.Q6J("ngIf",t.request.deliver_at),d.xp6(6),d.Oqu(t.request.details),d.xp6(3),d.Q6J("ngSwitch",null==t.request.status?null:t.request.status.id),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(32,po)),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(33,go)),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(34,mo)),d.xp6(7),d.Oqu(d.lcZ(51,30,null==t.request.offer?null:t.request.offer.price)||"-"),d.xp6(2),d.Q6J("ngSwitch",null==t.request.status?null:t.request.status.id),d.xp6(1),d.Q6J("jrSwitchCases",d.DdM(35,go)),d.xp6(1),d.Q6J("ngSwitchCase",6),d.xp6(1),d.Q6J("ngSwitchCase",4),d.xp6(2),d.Q6J("ngIf",2==(null==t.request.status?null:t.request.status.id)),d.xp6(1),d.Q6J("ngIf",4==(null==t.request.status?null:t.request.status.id)),d.xp6(1),d.Q6J("ngIf",5==(null==t.request.status?null:t.request.status.id)&&t.request.deliver_at),d.xp6(1),d.Q6J("ngIf",6==(null==t.request.status?null:t.request.status.id)),d.xp6(1),d.Q6J("ngIf",7==(null==t.request.status?null:t.request.status.id)&&t.request.rating),d.xp6(1),d.Q6J("ngIf",d.DdM(36,fo).includes(null==t.request.status?null:t.request.status.id))}}let _o=(()=>{class t{constructor(t,e,n,o,r,a){this.http=t,this.route=e,this.dialog=n,this.alert=o,this.authenticationService=r,this.formBuilder=a,this.wait=!1,this.matStars={empty:`${J.N.basehref}assets/images/star_outline.svg`,half:`${J.N.basehref}assets/images/star_half.svg`,full:`${J.N.basehref}assets/images/star.svg`},this.currentUser=r.currentUserValue,this.route.paramMap.subscribe(t=>{this.id=t.get("id"),this.ngOnInit()})}ngOnInit(){this.loadRequest()}loadRequest(){this.http.get(`${J.N.apiUrl}/offer-requests/${this.id}`).subscribe(t=>{this.request=t},t=>{})}openReport(){this.dialog.open(Ae,{width:"677px",panelClass:["dialog-py-48","dialog-px-75"],data:{}}).afterClosed().subscribe(t=>{console.log("The dialog was closed")})}accept(){this.alert.open({title:"\xbfEst\xe1s seguro de aceptar esta solicitud de oferta?",text:"Una vez aceptada esta oferta podr\xe1s acceder a los datos y al chat con la empresa, por favor solo acepta si est\xe1s seguro de continuar con el proceso."}).then(t=>{t&&this.http.put(`${J.N.apiUrl}/offer-requests/accept/${this.id}`,{}).subscribe(t=>{console.log(t),this.request=t},t=>{})})}discard(){this.alert.open({title:"\xbfEst\xe1s seguro de descartar esta solicitud de oferta?",text:"Una vez descartada esta cotizaci\xf3n no podr\xe1s acceder a los datos ni al chat con el cliente, por favor solo rechazala si estas seguro de no querer continuar con el proceso. tu oferta seguira siendo visible mientras este vigente."}).then(t=>{t&&this.http.put(`${J.N.apiUrl}/offer-requests/discard/${this.id}`,{}).subscribe(t=>{this.request=t},t=>{})})}canChat(){var t;return[3,5].includes(null===(t=this.request.status)||void 0===t?void 0:t.id)}publicUrl(t){return`${J.N.apiUrl}${t}`}assetUrl(t){return`${J.N.basehref}${t}`}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.gz),d.Y36(xe.uw),d.Y36(C.c9),d.Y36(C.$h),d.Y36(a.qu))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-oferta-relmpago-detalles"]],decls:13,vars:1,consts:[[1,"container","pt-5","px-md-5"],[1,"row"],[1,"col","page-title"],["routerLink","..",1,"btn-return"],[1,"col","page-actions"],["mat-button","","color","warn",1,"btn-round","btn-sm","btn-report",3,"click"],["class","row pt-3 gy-5",4,"ngIf"],[1,"row","pt-3","gy-5"],[1,"col-lg-7"],[1,"card-empresa"],[3,"profile_picture"],[1,"empresa-id"],[1,"card-info","mt-3"],[1,"row","list-info"],[1,"col-auto"],[1,"col-auto","serv-name"],[1,"w-100"],[4,"ngIf"],[1,"details","pt-4"],[1,"card-offer","mt-5"],[3,"ngSwitch"],["svgIcon","cotizacion-pending",4,"jrSwitchCases"],["svgIcon","cotizacion-active",4,"jrSwitchCases"],["svgIcon","cotizacion-reject",4,"jrSwitchCases"],["svgIcon","cotizacion",4,"ngSwitchDefault"],[1,"row","gx-5","justify-content-center","align-items-center","row-info"],[1,"col-auto","my-3"],[1,"price"],[1,"date",3,"ngSwitch"],[4,"jrSwitchCases"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","card-rating mt-5",4,"ngIf"],["class","col-lg-5",4,"ngIf"],["svgIcon","cotizacion-pending"],["svgIcon","cotizacion-active"],["svgIcon","cotizacion-reject"],["svgIcon","cotizacion"],[1,"row","gx-5","justify-content-center","align-items-center","row-controls"],[1,"col-auto","my-4"],["mat-flat-button","","color","accent",1,"btn-round","btn-md",3,"click"],["mat-flat-button","","color","primary",1,"btn-round","btn-md",3,"click"],[1,"col-12"],[1,"row","justify-content-center","pt-3"],[1,"col-sm-10"],[3,"multiple"],[3,"value","selected","selectable",4,"ngFor","ngForOf"],[3,"value","selected","selectable"],["c","matChip"],[1,"col-sm-11"],[1,"row","gx-4","justify-content-center","align-items-center"],[1,"col-10","mt-3","text-center"],[1,"date"],[1,"row","gx-4","justify-content-center","align-items-center","row-reject-info"],["class","col-12 ",4,"ngIf"],[1,"mt-4"],[1,"text-right"],[1,"card-rating","mt-5"],["svgIcon","star-active"],[1,"pb-4"],[1,"row","pt-4","justify-content-center","align-items-center","row-controls"],[1,"form-group","col-auto"],[3,"initialStars","color","size","maxStars","customStarIcons","readonly"],[1,"col-lg-5"],[3,"id","type","room","titleName","titlePicture","canChat"],["class","card-in-chargue mt-3",4,"ngIf"],[1,"card-in-chargue","mt-3"],[1,"row","g-3"],[1,"phone"],[1,"email"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"a",3),d.TgZ(4,"mat-icon"),d._uU(5,"arrow_back_ios"),d.qZA(),d._uU(6," Ofertas rel\xe1mpago "),d.qZA(),d.qZA(),d.TgZ(7,"div",4),d.TgZ(8,"button",5),d.NdJ("click",function(){return e.openReport()}),d.TgZ(9,"mat-icon"),d._uU(10,"error"),d.qZA(),d._uU(11," Reportar un problema "),d.qZA(),d.qZA(),d.qZA(),d.YNc(12,ho,63,37,"div",6),d.qZA()),2&t&&(d.xp6(12),d.Q6J("ngIf",e.request))},directives:[r.yS,b.Hw,v.lW,o.O5,V.a8,V.dk,V.n5,zt.X,V.dn,T.d,o.RF,pt.I,o.ED,o.n9,D.qn,o.sg,D.HS,c.ve,Te.a],pipes:[o.uU,o.H9,we.E],styles:["mat-card[_ngcontent-%COMP%]{background:#fff;box-shadow:0 5px 5px #4094ab3d!important;border-radius:10px}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;display:flex;align-items:center;color:#062ebd}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:1em}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]     .mat-card-header-text{margin:0}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{position:relative}mat-card.card-empresa[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}mat-card.card-empresa[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:14px;display:flex;align-items:center;color:#062ebd;margin-bottom:0}mat-card.card-empresa[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]     img{margin-right:15px;background:#fbfbfb;border:1px solid #97bcc566;box-sizing:border-box}mat-card.card-empresa[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .empresa-id[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:11px;line-height:13px;color:#5a6a6f}mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{color:var(--app-text-gris-oscuro)}mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%], mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px}mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{color:var(--app-text-cyan)}mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dd.serv-name[_ngcontent-%COMP%]{color:var(--app-azul-marino)}mat-card.card-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#062ebd}mat-card.card-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], mat-card.card-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-size:12px;line-height:15px}mat-card.card-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;color:#5a6a6f}mat-card.card-offer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;font-size:11px;line-height:13px}mat-card.card-offer[_ngcontent-%COMP%]   .row-info[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%], mat-card.card-offer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;text-align:center;color:#5a6a6f}mat-card.card-offer[_ngcontent-%COMP%]   .row-info[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{margin-bottom:5px;font-weight:700;font-size:14px;line-height:17px}mat-card.card-offer[_ngcontent-%COMP%]   .row-info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:11px;line-height:13px;color:#5a6a6f}mat-card.card-offer[_ngcontent-%COMP%]   .row-info[_ngcontent-%COMP%]   .btn-view[_ngcontent-%COMP%]{width:160px}mat-card.card-offer[_ngcontent-%COMP%]   .row-reject-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;display:flex;align-items:center;color:#062ebd}mat-card.card-offer[_ngcontent-%COMP%]   .row-reject-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:12px;line-height:15px;text-align:left;color:#5a6a6f}mat-card.card-rating[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:12px;line-height:14px;text-align:center;color:#5a6a6f}mat-card.card-in-chargue[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:13px;line-height:16px;color:var(--app-gris-muy-oscuro)}mat-card.card-in-chargue[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center}mat-card.card-in-chargue[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:5px;color:var(--app-amarillo-claro)}mat-card.card-in-chargue[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:13px;line-height:16px;color:var(--app-text-cyan)}mat-card.card-in-chargue[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%] > div.row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:Montserrat;font-style:normal;font-weight:500;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}mat-chip-list[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:9px;line-height:11px;display:flex;justify-content:center;align-items:center;text-align:center;color:#5a6a6f;min-width:calc(33.3% - 8px);height:37px;background:#f7f7f7;border:1px solid #c4c4c4;box-sizing:border-box;border-radius:50px}mat-chip-list[_ngcontent-%COMP%]   mat-chip.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary[_ngcontent-%COMP%]{background:#fed00114;border:1px solid #fed001;color:#5a6a6f}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:not(.text-center)   label[_ngcontent-%COMP%]{margin-left:.5em;margin-right:-1.6em}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span.input-req[_ngcontent-%COMP%]{margin-left:.3em;color:var(--app-rojo)}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   mat-icon.input-info[_ngcontent-%COMP%]{margin-left:.3em;width:auto;height:auto;font-size:15px;line-height:1em;vertical-align:middle;color:var(--app-cyan)}form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--app-gris-muy-oscuro)}form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--app-cyan)}.date[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;color:var(--app-text-cyan)}"]}),t})();var Zo=n(9337),Co=n(4311);function Mo(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese nombre de usuario."),d.qZA())}function Oo(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Nombre de usuario invalido."),d.qZA())}function xo(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Nombre de usuario no disponible."),d.qZA())}function vo(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Error de conexion al servidor."),d.qZA())}function qo(t,e){if(1&t&&(d.TgZ(0,"mat-option",31),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function bo(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese nombre de usuario."),d.qZA())}function Po(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese apellido de usuario."),d.qZA())}function Ao(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese direccion de correo electronico."),d.qZA())}function To(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese direccion de correo electronico valida."),d.qZA())}function wo(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Direccion de correo electronico no disponible."),d.qZA())}function yo(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Confirmar direccion de correo electronico."),d.qZA())}function Uo(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese direccion de correo electronico valida."),d.qZA())}function No(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Direcciones de correo electronico no coinciden."),d.qZA())}function ko(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese contrase\xf1a."),d.qZA())}function Jo(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Contrase\xf1a muy corta, ingrese al menos 6 caracteres."),d.qZA())}function Io(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Confirmar contrase\xf1a."),d.qZA())}function Qo(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Las contrase\xf1as no coinciden."),d.qZA())}let So=(()=>{class t{constructor(t,e,n,o,r,i){this.http=t,this.formBuilder=e,this.dialogRef=n,this.uniqueUsername=o,this.uniqueEmail=r,this.user=i,this.areas=[],this.wait=!1,this.userForm=this.formBuilder.group({area:[null],firstname:[null,[a.kI.required]],lastname:[null,[a.kI.required]],username:[null,[a.kI.required,a.kI.pattern("[A-Za-z0-9-_.]{6,20}")],o.validate],email:[null,[a.kI.required,a.kI.email,a.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")],r.validate],re_email:[null,[a.kI.required,a.kI.email]],password:[null,[a.kI.required,a.kI.minLength(6)]],re_password:[null,[a.kI.required]],tos:[!1,[a.kI.requiredTrue]]},{validators:[(0,Zo.Yf)("email","re_email"),(0,Zo.Yf)("password","re_password")]})}ngOnInit(){this.loadAreasList()}loadAreasList(){this.http.get(`${J.N.apiUrl}/categories`).subscribe(t=>{this.areas=t},t=>{})}onSubmit(){if(this.userForm.invalid)return console.log("form invalid"),void this.userForm.markAllAsTouched();console.log("submit..."),this.wait=!0;let t=this.userForm.getRawValue();this.http.post(`${J.N.apiUrl}/users`,t).subscribe(t=>{this.wait=!1,this.dialogRef.close(t)},t=>{this.wait=!1,console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(a.qu),d.Y36(xe.so),d.Y36(Zo.CM),d.Y36(Zo.qz),d.Y36(xe.WI))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-usuario-add-form"]],decls:94,vars:19,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"user-form",3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6"],["for","username",1,"form-label"],[1,"input-req"],["aria-hidden","false","matTooltip","Entre 6 y 20 caracteres (letras a-z, numeros 0-9 y caracteres -_ )","matTooltipPosition","above",1,"input-info"],["appearance","outline"],["matInput","","type","text","id","username","formControlName","username","placeholder","Usuario"],[4,"ngIf"],["for","area",1,"form-label"],["id","area","formControlName","area","placeholder","Categor\xeda principal","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["for","firstname",1,"form-label"],["matInput","","id","firstname","formControlName","firstname","placeholder","Nombre"],["for","lastname",1,"form-label"],["matInput","","id","lastname","formControlName","lastname","placeholder","Apellido"],["for","email",1,"form-label"],["matInput","","type","email","id","email","formControlName","email","placeholder","Corrreo@correo.mx "],["for","re_email",1,"form-label"],["matInput","","type","email","id","re_email","formControlName","re_email","placeholder","Corrreo@correo.mx  "],["for","password",1,"form-label"],["matInput","","type","password","id","password","formControlName","password","placeholder","************"],["for","re_password",1,"form-label"],["matInput","","type","password","id","re_password","formControlName","re_password","placeholder","************"],[1,"checks-seccion","text-center","pt-3"],["formControlName","tos"],[1,"row","justify-content-center","buttons-row","py-3"],[1,"col-auto"],["mat-raised-button","","type","submit","color","accent",1,"btn-round",3,"disabled"],[3,"value"]],template:function(t,e){if(1&t&&(d.TgZ(0,"h2",0),d._uU(1,"Agregar Usario"),d.qZA(),d.TgZ(2,"mat-dialog-content",1),d.TgZ(3,"form",2),d.NdJ("ngSubmit",function(){return e.onSubmit()}),d.TgZ(4,"div",3),d.TgZ(5,"div",4),d.TgZ(6,"label",5),d._uU(7," Nombre de Usuario"),d.TgZ(8,"span",6),d._uU(9,"*"),d.qZA(),d.TgZ(10,"mat-icon",7),d._uU(11,"info"),d.qZA(),d.qZA(),d.TgZ(12,"mat-form-field",8),d._UZ(13,"input",9),d.YNc(14,Mo,2,0,"mat-error",10),d.YNc(15,Oo,2,0,"mat-error",10),d.YNc(16,xo,2,0,"mat-error",10),d.YNc(17,vo,2,0,"mat-error",10),d.qZA(),d.qZA(),d.TgZ(18,"div",4),d.TgZ(19,"label",11),d._uU(20,"\xc1rea"),d.TgZ(21,"span",6),d._uU(22,"*"),d.qZA(),d.qZA(),d.TgZ(23,"mat-form-field",8),d.TgZ(24,"mat-select",12),d.YNc(25,qo,2,2,"mat-option",13),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(26,"div",3),d.TgZ(27,"div",4),d.TgZ(28,"label",14),d._uU(29,"Nombre"),d.TgZ(30,"span",6),d._uU(31,"*"),d.qZA(),d.qZA(),d.TgZ(32,"mat-form-field",8),d._UZ(33,"input",15),d.YNc(34,bo,2,0,"mat-error",10),d.qZA(),d.qZA(),d.TgZ(35,"div",4),d.TgZ(36,"label",16),d._uU(37,"Apellido"),d.TgZ(38,"span",6),d._uU(39,"*"),d.qZA(),d.qZA(),d.TgZ(40,"mat-form-field",8),d._UZ(41,"input",17),d.YNc(42,Po,2,0,"mat-error",10),d.qZA(),d.qZA(),d.qZA(),d.TgZ(43,"div",3),d.TgZ(44,"div",4),d.TgZ(45,"label",18),d._uU(46,"Correo electr\xf3nico"),d.TgZ(47,"span",6),d._uU(48,"*"),d.qZA(),d.qZA(),d.TgZ(49,"mat-form-field",8),d._UZ(50,"input",19),d.YNc(51,Ao,2,0,"mat-error",10),d.YNc(52,To,2,0,"mat-error",10),d.YNc(53,wo,2,0,"mat-error",10),d.qZA(),d.qZA(),d.TgZ(54,"div",4),d.TgZ(55,"label",20),d._uU(56,"Confirmar Correo electr\xf3nico"),d.TgZ(57,"span",6),d._uU(58,"*"),d.qZA(),d.qZA(),d.TgZ(59,"mat-form-field",8),d._UZ(60,"input",21),d.YNc(61,yo,2,0,"mat-error",10),d.YNc(62,Uo,2,0,"mat-error",10),d.YNc(63,No,2,0,"mat-error",10),d.qZA(),d.qZA(),d.qZA(),d.TgZ(64,"div",3),d.TgZ(65,"div",4),d.TgZ(66,"label",22),d._uU(67,"Contrase\xf1a"),d.TgZ(68,"span",6),d._uU(69,"*"),d.qZA(),d.qZA(),d.TgZ(70,"mat-form-field",8),d._UZ(71,"input",23),d.YNc(72,ko,2,0,"mat-error",10),d.YNc(73,Jo,2,0,"mat-error",10),d.qZA(),d.qZA(),d.TgZ(74,"div",4),d.TgZ(75,"label",24),d._uU(76,"Confirmar Contrase\xf1a"),d.TgZ(77,"span",6),d._uU(78,"*"),d.qZA(),d.qZA(),d.TgZ(79,"mat-form-field",8),d._UZ(80,"input",25),d.YNc(81,Io,2,0,"mat-error",10),d.YNc(82,Qo,2,0,"mat-error",10),d.qZA(),d.qZA(),d.qZA(),d._UZ(83,"mat-divider"),d.TgZ(84,"div",26),d.TgZ(85,"p"),d.TgZ(86,"mat-checkbox",27),d._uU(87,"Entiendo que este usuario podra solicitar cotizaciones y ofertas a nombre de mi empresa."),d.qZA(),d.qZA(),d.qZA(),d.TgZ(88,"div",28),d.TgZ(89,"div",29),d.TgZ(90,"button",30),d.TgZ(91,"mat-icon"),d._uU(92,"person_add"),d.qZA(),d._uU(93," Agregar Usuario "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){let t,n,o,r,a,i,c,l,s,g,u,p,m,f,h,_;d.xp6(3),d.Q6J("formGroup",e.userForm),d.xp6(11),d.Q6J("ngIf",null==(t=e.userForm.get("username"))?null:t.hasError("required")),d.xp6(1),d.Q6J("ngIf",null==(n=e.userForm.get("username"))?null:n.hasError("pattern")),d.xp6(1),d.Q6J("ngIf",null==(o=e.userForm.get("username"))?null:o.hasError("unique")),d.xp6(1),d.Q6J("ngIf",null==(r=e.userForm.get("username"))?null:r.hasError("connection")),d.xp6(8),d.Q6J("ngForOf",e.areas),d.xp6(9),d.Q6J("ngIf",null==(a=e.userForm.get("firstname"))?null:a.hasError("required")),d.xp6(8),d.Q6J("ngIf",null==(i=e.userForm.get("lastname"))?null:i.hasError("lastname")),d.xp6(9),d.Q6J("ngIf",null==(c=e.userForm.get("email"))?null:c.hasError("required")),d.xp6(1),d.Q6J("ngIf",(null==(l=e.userForm.get("email"))?null:l.hasError("email"))||(null==(l=e.userForm.get("email"))?null:l.hasError("pattern"))),d.xp6(1),d.Q6J("ngIf",null==(s=e.userForm.get("email"))?null:s.hasError("unique")),d.xp6(8),d.Q6J("ngIf",null==(g=e.userForm.get("re_email"))?null:g.hasError("required")),d.xp6(1),d.Q6J("ngIf",null==(u=e.userForm.get("re_email"))?null:u.hasError("email")),d.xp6(1),d.Q6J("ngIf",null==(p=e.userForm.get("re_email"))?null:p.hasError("mustMatch")),d.xp6(9),d.Q6J("ngIf",null==(m=e.userForm.get("password"))?null:m.hasError("required")),d.xp6(1),d.Q6J("ngIf",null==(f=e.userForm.get("password"))?null:f.hasError("minlength")),d.xp6(8),d.Q6J("ngIf",null==(h=e.userForm.get("re_password"))?null:h.hasError("required")),d.xp6(1),d.Q6J("ngIf",null==(_=e.userForm.get("re_password"))?null:_.hasError("mustMatch")),d.xp6(8),d.Q6J("disabled",e.wait)}},directives:[xe.uh,xe.xY,a._Y,a.JL,a.sg,b.Hw,Co.gM,F.KE,$.Nt,a.Fj,a.JJ,a.u,o.O5,St.gD,o.sg,T.d,E.oG,v.lW,F.TO,w.ey],styles:[".mat-dialog-title[_ngcontent-%COMP%]{color:var(--app-text-primary)}.user-form[_ngcontent-%COMP%]{margin-top:1em}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:not(.text-center)   label[_ngcontent-%COMP%]{margin-left:.5em;margin-right:-1.6em}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span.input-req[_ngcontent-%COMP%]{margin-left:.3em;color:var(--app-rojo)}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   mat-icon.input-info[_ngcontent-%COMP%]{margin-left:.3em;width:auto;height:auto;font-size:15px;line-height:1em;vertical-align:middle;color:var(--app-cyan)}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.user-form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--app-gris-muy-oscuro)}.user-form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--app-cyan)}"]}),t})();function Yo(t,e){if(1&t&&(d.TgZ(0,"mat-option",24),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function zo(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese nombre de usuario."),d.qZA())}function Fo(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese apellido de usuario."),d.qZA())}function $o(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese direccion de correo electronico."),d.qZA())}function Eo(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese direccion de correo electronico valida."),d.qZA())}function Do(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Direccion de correo electronico no disponible."),d.qZA())}function jo(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese contrase\xf1a."),d.qZA())}function Bo(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Contrase\xf1a muy corta, ingrese al menos 6 caracteres."),d.qZA())}let Lo=(()=>{class t{constructor(t,e,n,o,r,i){var c;this.http=t,this.formBuilder=e,this.dialogRef=n,this.uniqueUsername=o,this.uniqueEmail=r,this.user=i,this.areas=[],this.wait=!1,this.userForm=this.formBuilder.group({area:[null===(c=i.area)||void 0===c?void 0:c.id],firstname:[i.firstname,[a.kI.required]],lastname:[i.lastname,[a.kI.required]],email:[i.email,[a.kI.required,a.kI.email,a.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")],[t=>r.validate(t,i.id)]],password:[null,[a.kI.minLength(6)]]},{})}ngOnInit(){this.loadAreasList()}loadAreasList(){this.http.get(`${J.N.apiUrl}/categories`).subscribe(t=>{this.areas=t},t=>{})}onSubmit(){if(this.userForm.invalid)return console.log("form invalid"),void this.userForm.markAllAsTouched();console.log("submit..."),this.wait=!0;let t=this.userForm.getRawValue();t.password||delete t.password,this.http.put(`${J.N.apiUrl}/users/${this.user.id}`,t).subscribe(t=>{this.wait=!1,this.dialogRef.close(t)},t=>{this.wait=!1,console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(a.qu),d.Y36(xe.so),d.Y36(Zo.CM),d.Y36(Zo.qz),d.Y36(xe.WI))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-usuario-edit-form"]],decls:60,vars:10,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"user-form",3,"formGroup","ngSubmit"],[1,"row"],[1,"form-group","col-md-6"],["for","area",1,"form-label"],[1,"input-req"],["appearance","outline"],["id","area","formControlName","area","placeholder","Categor\xeda principal","disableOptionCentering",""],[3,"value",4,"ngFor","ngForOf"],["for","firstname",1,"form-label"],["matInput","","id","firstname","formControlName","firstname","placeholder","Nombre"],[4,"ngIf"],["for","lastname",1,"form-label"],["matInput","","id","lastname","formControlName","lastname","placeholder","Apellido"],["for","email",1,"form-label"],["matInput","","type","email","id","email","formControlName","email","placeholder","Corrreo@correo.mx "],[1,"row","pt-3"],["for","password",1,"form-label"],["matInput","","type","password","id","password","formControlName","password","placeholder","************"],[1,"row","justify-content-center","buttons-row","py-3"],[1,"col-auto"],["mat-flat-button","","type","submit","color","accent",1,"btn-round",3,"disabled"],["mat-flat-button","","color","primary","mat-dialog-close","",1,"btn-round"],[3,"value"]],template:function(t,e){if(1&t&&(d.TgZ(0,"h2",0),d._uU(1,"Editar Usuario"),d.qZA(),d.TgZ(2,"mat-dialog-content",1),d.TgZ(3,"form",2),d.NdJ("ngSubmit",function(){return e.onSubmit()}),d.TgZ(4,"div",3),d.TgZ(5,"div",4),d.TgZ(6,"label",5),d._uU(7,"\xc1rea"),d.TgZ(8,"span",6),d._uU(9,"*"),d.qZA(),d.qZA(),d.TgZ(10,"mat-form-field",7),d.TgZ(11,"mat-select",8),d.YNc(12,Yo,2,2,"mat-option",9),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(13,"div",3),d.TgZ(14,"div",4),d.TgZ(15,"label",10),d._uU(16,"Nombre"),d.TgZ(17,"span",6),d._uU(18,"*"),d.qZA(),d.qZA(),d.TgZ(19,"mat-form-field",7),d._UZ(20,"input",11),d.YNc(21,zo,2,0,"mat-error",12),d.qZA(),d.qZA(),d.TgZ(22,"div",4),d.TgZ(23,"label",13),d._uU(24,"Apellido"),d.TgZ(25,"span",6),d._uU(26,"*"),d.qZA(),d.qZA(),d.TgZ(27,"mat-form-field",7),d._UZ(28,"input",14),d.YNc(29,Fo,2,0,"mat-error",12),d.qZA(),d.qZA(),d.qZA(),d.TgZ(30,"div",3),d.TgZ(31,"div",4),d.TgZ(32,"label",15),d._uU(33,"Correo electr\xf3nico"),d.TgZ(34,"span",6),d._uU(35,"*"),d.qZA(),d.qZA(),d.TgZ(36,"mat-form-field",7),d._UZ(37,"input",16),d.YNc(38,$o,2,0,"mat-error",12),d.YNc(39,Eo,2,0,"mat-error",12),d.YNc(40,Do,2,0,"mat-error",12),d.qZA(),d.qZA(),d.qZA(),d._UZ(41,"mat-divider"),d.TgZ(42,"div",17),d.TgZ(43,"div",4),d.TgZ(44,"label",18),d._uU(45,"Contrase\xf1a"),d.TgZ(46,"span",6),d._uU(47,"*"),d.qZA(),d.qZA(),d.TgZ(48,"mat-form-field",7),d._UZ(49,"input",19),d.YNc(50,jo,2,0,"mat-error",12),d.YNc(51,Bo,2,0,"mat-error",12),d.qZA(),d.qZA(),d.qZA(),d._UZ(52,"mat-divider"),d.TgZ(53,"div",20),d.TgZ(54,"div",21),d.TgZ(55,"button",22),d._uU(56,"Guardar"),d.qZA(),d.qZA(),d.TgZ(57,"div",21),d.TgZ(58,"button",23),d._uU(59,"Cancelar"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){let t,n,o,r,a,i,c;d.xp6(3),d.Q6J("formGroup",e.userForm),d.xp6(9),d.Q6J("ngForOf",e.areas),d.xp6(9),d.Q6J("ngIf",null==(t=e.userForm.get("firstname"))?null:t.hasError("required")),d.xp6(8),d.Q6J("ngIf",null==(n=e.userForm.get("lastname"))?null:n.hasError("lastname")),d.xp6(9),d.Q6J("ngIf",null==(o=e.userForm.get("email"))?null:o.hasError("required")),d.xp6(1),d.Q6J("ngIf",(null==(r=e.userForm.get("email"))?null:r.hasError("email"))||(null==(r=e.userForm.get("email"))?null:r.hasError("pattern"))),d.xp6(1),d.Q6J("ngIf",null==(a=e.userForm.get("email"))?null:a.hasError("unique")),d.xp6(10),d.Q6J("ngIf",null==(i=e.userForm.get("password"))?null:i.hasError("required")),d.xp6(1),d.Q6J("ngIf",null==(c=e.userForm.get("password"))?null:c.hasError("minlength")),d.xp6(4),d.Q6J("disabled",e.wait)}},directives:[xe.uh,xe.xY,a._Y,a.JL,a.sg,F.KE,St.gD,a.JJ,a.u,o.sg,$.Nt,a.Fj,o.O5,T.d,v.lW,xe.ZT,w.ey,F.TO],styles:[".mat-dialog-title[_ngcontent-%COMP%]{color:var(--app-text-primary)}.user-form[_ngcontent-%COMP%]{margin-top:1em}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:not(.text-center)   label[_ngcontent-%COMP%]{margin-left:.5em;margin-right:-1.6em}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span.input-req[_ngcontent-%COMP%]{margin-left:.3em;color:var(--app-rojo)}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   mat-icon.input-info[_ngcontent-%COMP%]{margin-left:.3em;width:auto;height:auto;font-size:15px;line-height:1em;vertical-align:middle;color:var(--app-cyan)}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.user-form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--app-gris-muy-oscuro)}.user-form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--app-cyan)}"]}),t})();function Go(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"th",28),d.TgZ(1,"mat-checkbox",29),d.NdJ("change",function(e){d.CHM(t);const n=d.oxw();return e?n.masterToggle():null}),d.qZA(),d.qZA()}if(2&t){const t=d.oxw();d.xp6(1),d.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function Ho(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"td",30),d.TgZ(1,"mat-checkbox",31),d.NdJ("click",function(t){return t.stopPropagation()})("change",function(e){const n=d.CHM(t).$implicit,o=d.oxw();return e?o.selection.toggle(n):null}),d.qZA(),d.qZA()}if(2&t){const t=e.$implicit,n=d.oxw();d.xp6(1),d.Q6J("checked",n.selection.isSelected(t))("aria-label",n.checkboxLabel(t))}}function Ro(t,e){1&t&&(d.TgZ(0,"th",28),d._uU(1," Nombre "),d.qZA())}function Vo(t,e){if(1&t&&(d.TgZ(0,"td",30),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.firstname," ")}}function Xo(t,e){1&t&&(d.TgZ(0,"th",28),d._uU(1," Apellido "),d.qZA())}function Wo(t,e){if(1&t&&(d.TgZ(0,"td",30),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.lastname," ")}}function Ko(t,e){1&t&&(d.TgZ(0,"th",28),d._uU(1," Area "),d.qZA())}function tr(t,e){if(1&t&&(d.TgZ(0,"td",30),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",null==t.area?null:t.area.name," ")}}function er(t,e){1&t&&(d.TgZ(0,"th",28),d._uU(1," Correo "),d.qZA())}function nr(t,e){if(1&t&&(d.TgZ(0,"td",30),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.email," ")}}function or(t,e){1&t&&d._UZ(0,"th",28)}function rr(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"td",32),d.NdJ("click",function(t){return t.stopPropagation()}),d.TgZ(1,"button",33),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw().openEdit(e)}),d.TgZ(2,"mat-icon"),d._uU(3,"edit"),d.qZA(),d.qZA(),d.TgZ(4,"button",34),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw().delete(e)}),d.TgZ(5,"mat-icon"),d._uU(6,"delete_forever"),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=e.$implicit,n=d.oxw();d.xp6(4),d.Q6J("disabled",t.id==n.currentUser.id)}}function ar(t,e){1&t&&d._UZ(0,"tr",35)}function ir(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"tr",36),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw().selection.toggle(e)}),d.qZA()}}let cr=(()=>{class t{constructor(t,e,n,o,r){this.http=t,this.router=e,this.dialog=n,this.alert=o,this.authenticationService=r,this.displayedColumns=["select","name","last_name","area","email","actions"],this.dataSource=new Jt.by([]),this.selection=new kt.Ov(!0,[])}ngOnInit(){this._userSub=this.authenticationService.currentUser.subscribe(t=>this.currentUser=t),this.loadUsers(),this.loadPlan()}ngOnDestroy(){this._userSub.unsubscribe()}loadUsers(){let t=new i.LE;this.http.get(`${J.N.apiUrl}/users`,{params:t}).subscribe(t=>{this.dataSource.data=t},t=>{})}loadPlan(){var t;this.http.get(`${J.N.apiUrl}/plans/${null===(t=this.currentUser.supplier)||void 0===t?void 0:t.plan}`).subscribe(t=>{this.currentPlan=t},t=>{})}openAdd(){this.dialog.open(So,{width:"644px",data:{}}).afterClosed().subscribe(t=>{console.log("The dialog was closed"),t&&(this.dataSource.data.push(t),this.table.renderRows())})}openEdit(t){this.dialog.open(Lo,{width:"644px",data:t}).afterClosed().subscribe(t=>{if(console.log("The dialog was closed"),t){let e=this.dataSource.data.findIndex(e=>e.id==t.id);this.dataSource.data[e]=t,this.table.renderRows()}})}delete(t){3!=t.role.id&&t.id!=this.currentUser.id?this.alert.open({title:"\xbfEst\xe1s seguro de eliminar este Usuario?",text:"Una vez eliminado el usuario no podra recuperar sus cotizaci\xf3nes, las cotizaci\xf3nes actuales seran traspasadas al administrador."}).then(e=>{e&&(console.log("borrando usuario:",e),this.http.delete(`${J.N.apiUrl}/users/${t.id}`).subscribe(e=>{console.log(e);let n=this.dataSource.data.findIndex(e=>e.id==t.id);n>-1&&this.dataSource.data.splice(n,1),this.table.renderRows()},t=>{}))}):console.error("No se puede borrar el usuario!")}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.id+1}`:(this.isAllSelected()?"deselect":"select")+" all"}bulkAction(){console.log(this.selection.isEmpty())}avalibleUsers(){var t;return(null===(t=this.currentPlan)||void 0===t?void 0:t.users)-this.dataSource.data.length}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.F0),d.Y36(xe.uw),d.Y36(C.c9),d.Y36(C.$h))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-usuarios"]],viewQuery:function(t,e){if(1&t&&d.Gf(Jt.BZ,7),2&t){let t;d.iGM(t=d.CRH())&&(e.table=t.first)}},decls:60,vars:7,consts:[[1,"container-fluid","pt-5","px-md-5"],[1,"row"],[1,"col","page-title"],[1,"col","page-actions"],["mat-raised-button","","color","accent",1,"btn-round",3,"disabled","click"],[1,"row","py-4","gy-2","info-row"],[1,"col-auto"],[1,"w-100"],[1,"col-auto","link-col"],[1,"row","actions-form","pt-3"],[1,"form-group","col-auto","mt-1"],["for","tipo",1,"form-label","me-3"],["appearance","outline",1,"me-3"],["id","order","placeholder","Cerrar","disableOptionCentering",""],["mat-raised-button","","color","accent",1,"btn-round","btn-sm",3,"disabled","click"],[1,"col"],["mat-table","",1,"cotizacion-table",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","last_name"],["matColumnDef","area"],["matColumnDef","email"],["matColumnDef","actions"],["mat-cell","","class","actions-cell text-end",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-cell","",1,"actions-cell","text-end",3,"click"],["mat-icon-button","","color","accent",3,"click"],["mat-icon-button","","color","warn",3,"disabled","click"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h1"),d._uU(4,"Usuarios"),d.qZA(),d.TgZ(5,"p"),d._uU(6,"Gestiona tus usuarios o agrega nuevos"),d.qZA(),d.qZA(),d.TgZ(7,"div",3),d.TgZ(8,"button",4),d.NdJ("click",function(){return e.openAdd()}),d.TgZ(9,"mat-icon"),d._uU(10,"person_add"),d.qZA(),d._uU(11," Agregar Usuario "),d.qZA(),d.qZA(),d.qZA(),d._UZ(12,"mat-divider"),d.TgZ(13,"div",5),d.TgZ(14,"div",6),d._uU(15," No de usuarios Disponibles: "),d.TgZ(16,"span"),d._uU(17),d.qZA(),d.qZA(),d.TgZ(18,"div",6),d._uU(19," No de usuarios Utilizados: "),d.TgZ(20,"span"),d._uU(21),d.qZA(),d.qZA(),d._UZ(22,"div",7),d.TgZ(23,"div",8),d._uU(24," \xbfNecesitas m\xe1s usuarios? "),d.TgZ(25,"a"),d._uU(26,"crece tu plan"),d.qZA(),d.qZA(),d.qZA(),d._UZ(27,"mat-divider"),d.TgZ(28,"div",9),d.TgZ(29,"div",10),d.TgZ(30,"label",11),d._uU(31,"Acciones en lote"),d.qZA(),d.TgZ(32,"mat-form-field",12),d._UZ(33,"mat-select",13),d.qZA(),d.TgZ(34,"button",14),d.NdJ("click",function(){return e.bulkAction()}),d._uU(35,"Aplicar"),d.qZA(),d.qZA(),d.qZA(),d._UZ(36,"mat-divider"),d.TgZ(37,"div",1),d.TgZ(38,"div",15),d.TgZ(39,"table",16),d.ynx(40,17),d.YNc(41,Go,2,3,"th",18),d.YNc(42,Ho,2,2,"td",19),d.BQk(),d.ynx(43,20),d.YNc(44,Ro,2,0,"th",18),d.YNc(45,Vo,2,1,"td",19),d.BQk(),d.ynx(46,21),d.YNc(47,Xo,2,0,"th",18),d.YNc(48,Wo,2,1,"td",19),d.BQk(),d.ynx(49,22),d.YNc(50,Ko,2,0,"th",18),d.YNc(51,tr,2,1,"td",19),d.BQk(),d.ynx(52,23),d.YNc(53,er,2,0,"th",18),d.YNc(54,nr,2,1,"td",19),d.BQk(),d.ynx(55,24),d.YNc(56,or,1,0,"th",18),d.YNc(57,rr,7,1,"td",25),d.BQk(),d.YNc(58,ar,1,0,"tr",26),d.YNc(59,ir,1,0,"tr",27),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(8),d.Q6J("disabled","administrator"!==(null==e.currentUser.role?null:e.currentUser.role.type)||e.avalibleUsers()<=0),d.xp6(9),d.Oqu(e.avalibleUsers()),d.xp6(4),d.Oqu(e.dataSource.data.length),d.xp6(13),d.Q6J("disabled",e.selection.isEmpty()),d.xp6(5),d.Q6J("dataSource",e.dataSource),d.xp6(19),d.Q6J("matHeaderRowDef",e.displayedColumns),d.xp6(1),d.Q6J("matRowDefColumns",e.displayedColumns))},directives:[v.lW,b.Hw,T.d,F.KE,St.gD,Jt.BZ,Jt.w1,Jt.fO,Jt.Dz,Jt.as,Jt.nj,Jt.ge,E.oG,Jt.ev,Jt.XQ,Jt.Gk],styles:[".info-row[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;color:#5a6a6f}.info-row[_ngcontent-%COMP%]   .link-col[_ngcontent-%COMP%]{font-weight:500;color:#999d9e}.info-row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .info-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#00aad3}.actions-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.actions-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{line-height:40px}table.mat-table[_ngcontent-%COMP%]{margin-top:2em;display:table;width:100%;border-radius:10px;overflow:hidden;filter:drop-shadow(0 5px 5px rgba(64,148,171,.24))}table.mat-table[_ngcontent-%COMP%]     .mat-header-cell{background-color:var(--app-blue-cyan);color:#fff}table.mat-table[_ngcontent-%COMP%]     .mat-row:nth-child(odd){background-color:#fff}table.mat-table[_ngcontent-%COMP%]     .mat-row:not(:nth-child(odd)){background-color:#f6f9fa}table.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-weight:600;font-size:12px;line-height:15px}table.mat-table[_ngcontent-%COMP%]   .mat-cell.mat-column-email[_ngcontent-%COMP%]{color:#00aad3}"]}),t})();function lr(t,e){if(1&t&&(d.TgZ(0,"mat-option",10),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function sr(t,e){if(1&t&&(d.TgZ(0,"mat-option",10),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function gr(t,e){1&t&&(d.TgZ(0,"th",38),d._uU(1," ID "),d.qZA())}function ur(t,e){if(1&t&&(d.TgZ(0,"td",39),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",t.id," ")}}function dr(t,e){1&t&&(d.TgZ(0,"th",38),d._uU(1," Usuario "),d.qZA())}function pr(t,e){if(1&t&&(d.TgZ(0,"td",39),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",null==t.user?null:t.user.username," ")}}function mr(t,e){1&t&&(d.TgZ(0,"th",38),d._uU(1," Fecha "),d.qZA())}function fr(t,e){if(1&t&&(d.TgZ(0,"td",39),d._uU(1),d.ALo(2,"date"),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",d.xi3(2,1,t.created_at,"dd/MM/yyyy")," ")}}function hr(t,e){1&t&&(d.TgZ(0,"th",38),d._uU(1," Problema "),d.qZA())}function _r(t,e){if(1&t&&(d.TgZ(0,"td",39),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.hij(" ",(null==t.type?null:t.type.name)||"-"," ")}}function Zr(t,e){1&t&&(d.TgZ(0,"th",40),d._uU(1," Estado "),d.qZA())}function Cr(t,e){if(1&t&&(d.TgZ(0,"td",41),d.TgZ(1,"span"),d._uU(2),d.qZA(),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.Gre("pill pill-lg pill-",null==t.status?null:t.status.class," mx-auto"),d.xp6(1),d.Oqu(null==t.status?null:t.status.name)}}function Mr(t,e){1&t&&d._UZ(0,"th",42)}function Or(t,e){if(1&t&&d._UZ(0,"mat-icon",47),2&t){const t=d.oxw().$implicit;d.Q6J("matBadge",null==t.chat_room?null:t.chat_room.unread_a)("matBadgeHidden",!(null!=t.chat_room&&t.chat_room.unread_a))}}function xr(t,e){if(1&t&&d._UZ(0,"mat-icon",48),2&t){const t=d.oxw().$implicit;d.Q6J("matBadge",null==t.chat_room?null:t.chat_room.unread_a)("matBadgeHidden",!(null!=t.chat_room&&t.chat_room.unread_a))}}function vr(t,e){if(1&t&&(d.TgZ(0,"td",43),d.ynx(1,44),d.YNc(2,Or,1,2,"mat-icon",45),d.YNc(3,xr,1,2,"mat-icon",46),d.BQk(),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.Q6J("ngSwitch",null==t.status?null:t.status.id),d.xp6(1),d.Q6J("ngSwitchCase",2)}}function qr(t,e){1&t&&d._UZ(0,"th",49)}function br(t,e){if(1&t&&(d.TgZ(0,"td",50),d.NdJ("click",function(t){return t.stopPropagation()}),d.TgZ(1,"a",51),d.TgZ(2,"mat-icon"),d._uU(3,"chevron_right"),d.qZA(),d.qZA(),d.qZA()),2&t){const t=e.$implicit;d.xp6(1),d.Q6J("routerLink",t.id)}}function Pr(t,e){1&t&&d._UZ(0,"tr",52)}function Ar(t,e){1&t&&d._UZ(0,"tr",53),2&t&&d.Q6J("routerLink",e.$implicit.id)}function Tr(t,e){1&t&&(d.TgZ(0,"tr",54),d.TgZ(1,"td",55),d._uU(2,"No tienes incidencias."),d.qZA(),d.qZA())}const wr=function(){return[5,10,20]};let yr=(()=>{class t{constructor(t,e,n,o,r){this.http=t,this.router=e,this.route=n,this.dialog=o,this.authenticationService=r,this.displayedColumns=["id","user","date","name","status","badges","actions"],this.dataSource=new Jt.by([]),this.statuses=[],this.users=[],this.filters={status:null,user:null,unread:null},this.currentUser=r.currentUserValue,this.route.queryParamMap.subscribe(t=>{this.filters._q=t.get("_q")?t.get("_q"):null,this.filters.status=t.get("status")?Number(t.get("status")):null,this.filters.user=t.get("user")?Number(t.get("user")):null,this.filters.unread=t.get("unread")?"true"==t.get("unread"):null,t.get("tab")&&(this.filters.tab=t.get("tab")),this.applyFilter(!1)}),this.dataSource.sortingDataAccessor=(t,e)=>{var n,o,r;switch(e){case"id":return t.id;case"user":return null===(n=t.user)||void 0===n?void 0:n.username;case"date":return t.created_at;case"name":return null===(o=t.type)||void 0===o?void 0:o.name;case"status":return null===(r=t.status)||void 0===r?void 0:r.id;default:return t[e]}},this.dataSource.filterPredicate=(t,e)=>{var n;return!(null!==this.filters.status&&t.status.id!=this.filters.status||null!==this.filters.user&&t.user.id!=this.filters.user||this.filters.unread&&!(null===(n=t.chat_room)||void 0===n?void 0:n.unread_a)||(null==e?void 0:e._q)&&e._q.trim()&&-1==JSON.stringify([t.id]).toLowerCase().indexOf(e._q.toLowerCase()))}}ngOnInit(){this.loadIssues(),this.loadStatuses(),this.loadUsers()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}loadIssues(){var t;const e=(new i.LE).set("supplier",null===(t=this.currentUser.supplier)||void 0===t?void 0:t.id);this.http.get(`${J.N.apiUrl}/issues`,{params:e}).subscribe(t=>{this.dataSource.data=t},t=>{})}loadStatuses(){this.http.get(`${J.N.apiUrl}/issue-statuses`).subscribe(t=>{this.statuses=t},t=>{})}loadUsers(){this.http.get(`${J.N.apiUrl}/users`).subscribe(t=>{this.users=t.map(t=>({id:t.id,name:t.username}))},t=>{})}applyFilter(t=!0){this.dataSource.filter=this.filters,t&&this.router.navigate([],{queryParams:this.filters,queryParamsHandling:"merge",replaceUrl:!0})}openReport(){this.dialog.open(Ae,{width:"677px",panelClass:["dialog-py-48","dialog-px-75"],data:{}}).afterClosed().subscribe(t=>{console.log("The dialog was closed"),t&&(this.dataSource.data.push(t),this.table.renderRows(),this.applyFilter(!1))})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.F0),d.Y36(r.gz),d.Y36(xe.uw),d.Y36(C.$h))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-incidencias"]],viewQuery:function(t,e){if(1&t&&(d.Gf(Jt.BZ,5),d.Gf(It.YE,5),d.Gf(Qt.NW,5)),2&t){let t;d.iGM(t=d.CRH())&&(e.table=t.first),d.iGM(t=d.CRH())&&(e.sort=t.first),d.iGM(t=d.CRH())&&(e.paginator=t.first)}},decls:62,vars:12,consts:[[1,"container-fluid","pt-5","px-md-5"],[1,"row"],[1,"col","page-title"],[1,"col","page-actions"],["mat-raised-button","","color","primary",1,"btn-round",3,"click"],[1,"row","search-form"],[1,"form-group","col-auto","mt-2"],["for","tipo",1,"form-label"],["appearance","outline"],["id","order","placeholder","Todas","disableOptionCentering","",3,"ngModel","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","search_usuario",1,"form-label"],["appearance","outline",1,"search-user"],["id","search_usuario","placeholder","Nombre de usuario","disableOptionCentering","",3,"ngModel","ngModelChange","selectionChange"],[1,"form-group","col-auto","mt-2","pt-4"],[3,"ngModel","ngModelChange","change"],[1,"col"],["mat-table","","matSort","",1,"cotizacion-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","user"],["matColumnDef","date"],["matColumnDef","name"],["matColumnDef","status"],["mat-header-cell","","class","text-center","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","badges"],["mat-header-cell","","class","text-end",4,"matHeaderCellDef"],["mat-cell","","class","text-end",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-end",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"routerLink",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"text-center"],["mat-cell","",1,"text-center"],["mat-header-cell","",1,"text-end"],["mat-cell","",1,"text-end"],[3,"ngSwitch"],["svgIcon","mnsg",3,"matBadge","matBadgeHidden",4,"ngSwitchCase"],["svgIcon","mnsg-disable",3,"matBadge","matBadgeHidden",4,"ngSwitchDefault"],["svgIcon","mnsg",3,"matBadge","matBadgeHidden"],["svgIcon","mnsg-disable",3,"matBadge","matBadgeHidden"],["mat-header-cell",""],["mat-cell","",1,"text-end",3,"click"],["mat-button","","color","primary",3,"routerLink"],["mat-header-row",""],["mat-row","",3,"routerLink"],[1,"mat-row"],["colspan","7",1,"mat-cell"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h1"),d._uU(4,"Incidencias"),d.qZA(),d.TgZ(5,"p"),d._uU(6,"Reportes de errores"),d.qZA(),d.qZA(),d.TgZ(7,"div",3),d.TgZ(8,"button",4),d.NdJ("click",function(){return e.openReport()}),d.TgZ(9,"mat-icon"),d._uU(10,"info"),d.qZA(),d._uU(11," Reportar Un Problema "),d.qZA(),d.qZA(),d.qZA(),d._UZ(12,"mat-divider"),d.TgZ(13,"div",5),d.TgZ(14,"div",6),d.TgZ(15,"label",7),d._uU(16,"Estado"),d.qZA(),d.TgZ(17,"mat-form-field",8),d.TgZ(18,"mat-select",9),d.NdJ("ngModelChange",function(t){return e.filters.status=t})("selectionChange",function(){return e.applyFilter()}),d.TgZ(19,"mat-option",10),d._uU(20,"Todas"),d.qZA(),d.YNc(21,lr,2,2,"mat-option",11),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"div",6),d.TgZ(23,"label",12),d._uU(24,"Usuario"),d.qZA(),d.TgZ(25,"mat-form-field",13),d.TgZ(26,"mat-select",14),d.NdJ("ngModelChange",function(t){return e.filters.user=t})("selectionChange",function(){return e.applyFilter()}),d.TgZ(27,"mat-option",10),d._uU(28,"Todas"),d.qZA(),d.YNc(29,sr,2,2,"mat-option",11),d.qZA(),d.qZA(),d.qZA(),d.TgZ(30,"div",15),d.TgZ(31,"mat-checkbox",16),d.NdJ("ngModelChange",function(t){return e.filters.unread=t})("change",function(){return e.applyFilter()}),d._uU(32,"Conversaciones sin leer"),d.qZA(),d.qZA(),d.qZA(),d._UZ(33,"mat-divider"),d.TgZ(34,"div",1),d.TgZ(35,"div",17),d.TgZ(36,"table",18),d.ynx(37,19),d.YNc(38,gr,2,0,"th",20),d.YNc(39,ur,2,1,"td",21),d.BQk(),d.ynx(40,22),d.YNc(41,dr,2,0,"th",20),d.YNc(42,pr,2,1,"td",21),d.BQk(),d.ynx(43,23),d.YNc(44,mr,2,0,"th",20),d.YNc(45,fr,3,4,"td",21),d.BQk(),d.ynx(46,24),d.YNc(47,hr,2,0,"th",20),d.YNc(48,_r,2,1,"td",21),d.BQk(),d.ynx(49,25),d.YNc(50,Zr,2,0,"th",26),d.YNc(51,Cr,3,4,"td",27),d.BQk(),d.ynx(52,28),d.YNc(53,Mr,1,0,"th",29),d.YNc(54,vr,4,2,"td",30),d.BQk(),d.ynx(55,31),d.YNc(56,qr,1,0,"th",32),d.YNc(57,br,4,1,"td",33),d.BQk(),d.YNc(58,Pr,1,0,"tr",34),d.YNc(59,Ar,1,1,"tr",35),d.YNc(60,Tr,3,0,"tr",36),d.qZA(),d._UZ(61,"mat-paginator",37),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(18),d.Q6J("ngModel",e.filters.status),d.xp6(1),d.Q6J("value",null),d.xp6(2),d.Q6J("ngForOf",e.statuses),d.xp6(5),d.Q6J("ngModel",e.filters.user),d.xp6(1),d.Q6J("value",null),d.xp6(2),d.Q6J("ngForOf",e.users),d.xp6(2),d.Q6J("ngModel",e.filters.unread),d.xp6(5),d.Q6J("dataSource",e.dataSource),d.xp6(22),d.Q6J("matHeaderRowDef",e.displayedColumns),d.xp6(1),d.Q6J("matRowDefColumns",e.displayedColumns),d.xp6(2),d.Q6J("pageSizeOptions",d.DdM(11,wr)))},directives:[v.lW,b.Hw,T.d,F.KE,St.gD,a.JJ,a.On,w.ey,o.sg,E.oG,Jt.BZ,It.YE,Jt.w1,Jt.fO,Jt.Dz,Jt.as,Jt.nj,Jt.Ee,Qt.NW,Jt.ge,It.nU,Jt.ev,o.RF,o.n9,o.ED,P.k,v.zs,r.yS,Jt.XQ,Jt.Gk,r.rH],pipes:[o.uU],styles:[".search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{display:block;width:130px;max-width:100%}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-name[_ngcontent-%COMP%]{width:330px}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-name[_ngcontent-%COMP%]  .mat-form-field-prefix{align-self:center}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-user[_ngcontent-%COMP%]{width:156px}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--app-amarillo-claro)}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{line-height:40px}.actions-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.actions-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{line-height:40px}table.mat-table[_ngcontent-%COMP%]{margin-top:2em;display:table;width:100%;border-radius:10px;overflow:hidden;filter:drop-shadow(0 5px 5px rgba(64,148,171,.24))}table.mat-table[_ngcontent-%COMP%]     .mat-header-cell{background-color:var(--app-blue-cyan);color:#fff}table.mat-table[_ngcontent-%COMP%]     .mat-row:nth-child(odd){background-color:#fff}table.mat-table[_ngcontent-%COMP%]     .mat-row:not(:nth-child(odd)){background-color:#f6f9fa}table.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{cursor:pointer}table.mat-table[_ngcontent-%COMP%]   .mat-cell.mat-column-user[_ngcontent-%COMP%]{font-weight:600;font-size:12px;line-height:15px}table.mat-table[_ngcontent-%COMP%]   .mat-column-status[_ngcontent-%COMP%]   span.pill[_ngcontent-%COMP%]{width:100px}table.mat-table[_ngcontent-%COMP%]   .mat-column-badges[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:27px;height:27px;width:27px;margin-right:5px}table.mat-table[_ngcontent-%COMP%]   .mat-column-badges[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]     .mat-badge-content{top:2px;right:-4px;font-size:7px;line-height:12px;width:12px;height:12px}table.mat-table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]{cursor:unset;flex:none;width:100px}table.mat-table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]   mat-badge-medium.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:unset;right:unset}"]}),t})();function Ur(t,e){if(1&t&&(d.TgZ(0,"div",6),d.TgZ(1,"div",7),d.TgZ(2,"mat-card",8),d.TgZ(3,"mat-card-header"),d.TgZ(4,"mat-card-title"),d._UZ(5,"img",9),d._uU(6,"Incidencia"),d.qZA(),d.TgZ(7,"span",10),d._uU(8),d.qZA(),d.TgZ(9,"div"),d.TgZ(10,"span"),d._uU(11),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(12,"mat-card",11),d.TgZ(13,"mat-card-content"),d.TgZ(14,"dl",12),d.TgZ(15,"dt",13),d._uU(16,"Problema:"),d.qZA(),d.TgZ(17,"dd",14),d._uU(18),d.qZA(),d._UZ(19,"div",15),d.TgZ(20,"dt",13),d._uU(21,"Fecha:"),d.qZA(),d.TgZ(22,"dd",13),d._uU(23),d.ALo(24,"date"),d.qZA(),d._UZ(25,"div",15),d.TgZ(26,"dt",13),d._uU(27,"Usuario que reporto:"),d.qZA(),d.TgZ(28,"dd",13),d._uU(29),d.qZA(),d._UZ(30,"div",15),d.qZA(),d._UZ(31,"mat-divider"),d.TgZ(32,"div",16),d.TgZ(33,"h2"),d._uU(34,"Detalles"),d.qZA(),d.TgZ(35,"p"),d._uU(36),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(37,"div",17),d._UZ(38,"app-chat-card",18),d.qZA(),d.qZA()),2&t){const t=d.oxw();d.xp6(8),d.hij("ID:",t.issue.id,""),d.xp6(2),d.Gre("pill pill-lg pill-",null==t.issue.status?null:t.issue.status.class," mx-auto"),d.xp6(1),d.Oqu(null==t.issue.status?null:t.issue.status.name),d.xp6(7),d.Oqu(null==t.issue.type?null:t.issue.type.name),d.xp6(5),d.Oqu(d.xi3(24,14,t.issue.created_at,"dd/MM/yyyy")),d.xp6(6),d.Oqu((null==t.issue.user?null:t.issue.user.firstname)+" "+(null==t.issue.user?null:t.issue.user.lastname)),d.xp6(7),d.Oqu(t.issue.details),d.xp6(2),d.Q6J("id",t.issue.id)("type","issue")("room","incidencia_"+t.issue.id)("titleName","Soporte")("canChat",t.canChat())}}let Nr=(()=>{class t{constructor(t,e,n){this.http=t,this.route=e,this.authenticationService=n,this.route.paramMap.subscribe(t=>{this.id=t.get("id")}),this.currentUser=n.currentUserValue}ngOnInit(){this.loadIssue()}loadIssue(){this.http.get(`${J.N.apiUrl}/issues/${this.id}`).subscribe(t=>{this.issue=t},t=>{})}canChat(){return 2==this.issue.status.id}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.gz),d.Y36(C.$h))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-incidencia-detalles"]],decls:9,vars:1,consts:[[1,"container","pt-5","px-md-5"],[1,"row"],[1,"col","page-title"],["routerLink","..",1,"btn-return"],[1,"col","page-actions"],["class","row pt-3 gx-5 gy-3",4,"ngIf"],[1,"row","pt-3","gx-5","gy-3"],[1,"col-lg-7"],[1,"card-empresa"],["mat-card-avatar",""],[1,"empresa-id"],[1,"card-info","mt-3"],[1,"row","list-info"],[1,"col-auto"],[1,"col-auto","name"],[1,"w-100"],[1,"details","pt-4"],[1,"col-lg-5"],[3,"id","type","room","titleName","canChat"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"a",3),d.TgZ(4,"mat-icon"),d._uU(5,"arrow_back_ios"),d.qZA(),d._uU(6," Inicidencias "),d.qZA(),d.qZA(),d._UZ(7,"div",4),d.qZA(),d.YNc(8,Ur,39,17,"div",5),d.qZA()),2&t&&(d.xp6(8),d.Q6J("ngIf",e.issue))},directives:[r.yS,b.Hw,o.O5,V.a8,V.dk,V.n5,V.kc,V.dn,T.d,Te.a],pipes:[o.uU],styles:["mat-card[_ngcontent-%COMP%]{background:#fff;box-shadow:0 5px 5px #4094ab3d!important;border-radius:10px}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]     .mat-card-header-text{margin:0}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{position:relative}mat-card.card-empresa[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}mat-card.card-empresa[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:14px;display:flex;align-items:center;color:#062ebd;margin-bottom:0}mat-card.card-empresa[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:15px;background:#fbfbfb;border:1px solid #97bcc566;box-sizing:border-box}mat-card.card-empresa[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .empresa-id[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:11px;line-height:13px;color:#5a6a6f}mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{color:var(--app-text-gris-oscuro)}mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%], mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px}mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{color:var(--app-text-cyan)}mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dd.name[_ngcontent-%COMP%]{color:var(--app-azul-marino)}mat-card.card-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#062ebd}mat-card.card-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], mat-card.card-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-size:12px;line-height:15px}mat-card.card-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;color:#5a6a6f}"]}),t})();var kr=n(5917);function Jr(t,e){if(1&t&&(d.ynx(0),d._UZ(1,"img",17),d.BQk()),2&t){const t=d.oxw();d.xp6(1),d.Q6J("src",t.publicUrl(t.service.image.formats.small?t.service.image.formats.small.url:t.service.image.url),d.LSH)}}function Ir(t,e){if(1&t&&d._UZ(0,"img",17),2&t){const t=d.oxw();d.Q6J("src",t.assetUrl("assets/image-placeholder.png"),d.LSH)}}function Qr(t,e){1&t&&(d.TgZ(0,"div",18),d._uU(1," NO PUBLICADO "),d.qZA())}let Sr=(()=>{class t{constructor(){this.onDelete=new d.vpe}ngOnInit(){}delete(){this.onDelete.emit(this.service)}publicUrl(t){return`${J.N.apiUrl}${t}`}assetUrl(t){return`${J.N.basehref}${t}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-card-service-compact"]],inputs:{service:"service"},outputs:{onDelete:"onDelete"},decls:29,vars:12,consts:[[1,"row","flex-column","flex-md-row","justify-content-center"],[1,"col-auto","image-cont","pb-3","pb-md-0"],[4,"ngIf","ngIfElse"],["placeholder",""],[1,"col","detalles-cont"],[1,"row","pb-2"],[1,"col-auto","me-auto"],[1,"breadcrumbs"],[1,"titulo"],[1,"col-auto","actions"],["mat-flat-button","","color","accent",1,"btn-round","btn-sm",3,"routerLink"],[1,"descripcion-corta"],[3,"routerLink"],[1,"row"],["class","col-auto not-published",4,"ngIf"],[1,"col-auto","ms-auto"],["mat-button","","color","warn",1,"btn-round","btn-xs",3,"click"],[3,"src"],[1,"col-auto","not-published"]],template:function(t,e){if(1&t&&(d.TgZ(0,"mat-card"),d.TgZ(1,"mat-card-content"),d.TgZ(2,"div",0),d.TgZ(3,"div",1),d.YNc(4,Jr,2,1,"ng-container",2),d.YNc(5,Ir,1,1,"ng-template",null,3,d.W1O),d.qZA(),d.TgZ(7,"div",4),d.TgZ(8,"div",5),d.TgZ(9,"div",6),d.TgZ(10,"h2",7),d._uU(11),d.qZA(),d.TgZ(12,"h1",8),d._uU(13),d.qZA(),d.qZA(),d.TgZ(14,"div",9),d.TgZ(15,"a",10),d._uU(16,"Editar"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(17,"p",11),d._uU(18),d.ALo(19,"truncate"),d.TgZ(20,"a",12),d._uU(21,"Ver m\xe1s"),d.qZA(),d.qZA(),d.TgZ(22,"div",13),d.YNc(23,Qr,2,0,"div",14),d.TgZ(24,"div",15),d.TgZ(25,"button",16),d.NdJ("click",function(){return e.delete()}),d.TgZ(26,"mat-icon"),d._uU(27,"delete_forever"),d.qZA(),d._uU(28," Borrar"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){const t=d.MAs(6);d.xp6(4),d.Q6J("ngIf",e.service.image)("ngIfElse",t),d.xp6(7),d.Oqu(null==e.service.main_category?null:e.service.main_category.name),d.xp6(2),d.Oqu(e.service.name),d.xp6(2),d.MGl("routerLink","",e.service.id,"/update"),d.xp6(3),d.hij("",d.Dn7(19,8,e.service.description,80,!1)," "),d.xp6(2),d.s9C("routerLink",e.service.id),d.xp6(3),d.Q6J("ngIf",!e.service.published_at)}},directives:[V.a8,V.dn,o.O5,v.zs,r.yS,v.lW,b.Hw],pipes:[kr.W],styles:["mat-card[_ngcontent-%COMP%]{box-shadow:0 5px 5px #4094ab3d!important;border-radius:17px}mat-card[_ngcontent-%COMP%]   .image-cont[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]   .image-cont[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:160px;border-radius:18px}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{text-align:right}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]{margin-bottom:.5em;font-family:Montserrat;font-style:normal;font-weight:600;font-size:14px;line-height:17px;color:#00aad3}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{margin-bottom:.5em;font-family:Montserrat;font-style:normal;font-weight:700;font-size:18px;line-height:22px;color:#062ebd}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .marca[_ngcontent-%COMP%]{margin-bottom:.5em;font-family:Montserrat;font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:#dfbf03}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .descripcion-corta[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:12px;line-height:15px;color:#999d9e}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .descripcion-corta[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00aad3}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .not-published[_ngcontent-%COMP%]{font-family:Montserrat;font-style:bold;font-weight:600;font-size:14px;line-height:17px;color:var(--app-text-red)}"]}),t})();function Yr(t,e){if(1&t&&(d.TgZ(0,"mat-option",18),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function zr(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"div",30),d.TgZ(1,"div",31),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw().selection.toggle(e.id)}),d.TgZ(2,"mat-checkbox",32,33),d.NdJ("click",function(t){return t.stopPropagation()})("change",function(e){const n=d.CHM(t).$implicit,o=d.oxw();return e?o.selection.toggle(n.id):null}),d.qZA(),d.qZA(),d.TgZ(4,"div",34),d.TgZ(5,"app-card-service-compact",35),d.NdJ("onDelete",function(){const e=d.CHM(t).$implicit;return d.oxw().delete(e)}),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=e.$implicit,n=d.oxw();d.xp6(1),d.ekj("selected",n.selection.isSelected(t.id)),d.xp6(1),d.Q6J("checked",n.selection.isSelected(t.id))("aria-label",n.checkboxLabel(t.id)),d.xp6(3),d.Q6J("service",t)}}function Fr(t,e){1&t&&(d.ynx(0),d.TgZ(1,"div",36),d.TgZ(2,"div",37),d.TgZ(3,"p",38),d._uU(4,"A\xfan no tienes ning\xfan servicio, por favor agrega por lo menos uno para aparecer en nuestros cat\xe1logos"),d.qZA(),d.qZA(),d._UZ(5,"div",39),d.TgZ(6,"div",40),d.TgZ(7,"a",41),d.TgZ(8,"mat-icon"),d._uU(9,"note_add"),d.qZA(),d._uU(10," Agregar un nuevo Servicio "),d.qZA(),d.qZA(),d.qZA(),d.BQk())}const $r=function(){return[5,10,20]};let Er=(()=>{class t{constructor(t,e,n,o,r,a){this.http=t,this.router=e,this.route=n,this.alert=o,this.authenticationService=r,this.servicesService=a,this.selection=new kt.Ov(!0,[]),this.categories=[],this.filters={_q:null,main_category:null},this.currentUser=this.authenticationService.currentUserValue,this.dataSource=new C.nS(this.servicesService),this.route.queryParamMap.subscribe(t=>{this.filters._q=t.get("_q")?t.get("_q"):null,this.filters.main_category=t.get("main_category")?Number(t.get("main_category")):null,this.sort=t.get("sort")?t.get("sort"):null,this.applyFilter(!1)})}ngOnInit(){this.loadCategories(),this.countAll()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.load()}countAll(){this.http.get(`${J.N.apiUrl}/services/count`).subscribe(t=>{this.count=t},t=>{})}loadCategories(){this.http.get(`${J.N.apiUrl}/categories`).subscribe(t=>{this.categories=t},t=>{})}delete(t){this.alert.open({title:"\xbfEst\xe1s seguro de eliminar este servicio?",text:"Una vez eliminado este servicio ya no se podr\xe1s recibir solicitudes de cotizacion para este."}).then(e=>{e&&(console.log("borrando servicio:",e),this.http.delete(`${J.N.apiUrl}/services/${t.id}`).subscribe(e=>{console.log(e);let n=this.dataSource.data.findIndex(e=>e.id==t.id);n>-1&&this.dataSource.data.splice(n,1)},t=>{}))})}applyFilter(t=!0){this.selection.clear(),this.paginator&&this.paginator.firstPage(),this.dataSource.filter=this.filters,this.dataSource.sort=this.sort,t&&(this.dataSource.load(),this.router.navigate([],{queryParams:Object.assign(Object.assign({},this.filters),{sort:this.sort}),queryParamsHandling:"merge",replaceUrl:!0}))}bulkAction(){console.log(this.selection.selected)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data.map(t=>t.id))}checkboxLabel(t){return t?`${this.selection.isSelected(t.id)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.F0),d.Y36(r.gz),d.Y36(C.c9),d.Y36(C.$h),d.Y36(C.rm))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-servicios"]],viewQuery:function(t,e){if(1&t&&d.Gf(Qt.NW,5),2&t){let t;d.iGM(t=d.CRH())&&(e.paginator=t.first)}},decls:52,vars:13,consts:[[1,"container-fluid","pt-5","px-md-5"],[1,"row"],[1,"col","page-title"],[1,"col","page-actions"],["mat-raised-button","","color","primary","routerLink","create",1,"btn-round","btn-md"],[1,"row","search-form"],[1,"form-group","col-auto","mt-2"],["for","search_name",1,"form-label"],["appearance","outline",1,"search-name"],["matPrefix",""],["matInput","","id","search_name","placeholder","Buscar por nombre de servicio",3,"ngModel","ngModelChange","keyup"],["for","tipo",1,"form-label"],["appearance","outline"],["id","order","placeholder","M\xe1s recientes","disableOptionCentering","",3,"ngModel","ngModelChange","selectionChange"],["value","created_at:DESC"],["value","created_at:ASC"],["for","main_category",1,"form-label"],["id","main_category","placeholder","Todas","disableOptionCentering","",3,"ngModel","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row","actions-form","pt-3"],[1,"form-group","col-auto","mt-1"],["for","tipo",1,"form-label","me-3"],["appearance","outline",1,"me-3"],["id","order","placeholder","Cerrar","disableOptionCentering",""],["mat-raised-button","","color","accent",1,"btn-round","btn-sm",3,"disabled","click"],[1,"product-list","py-3",3,"hidden"],["class","row align-items-center gx-0 px-xl-5 mb-3 product-item","mat-table","","data","",4,"ngFor","ngForOf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions"],[4,"ngIf"],["mat-table","","data","",1,"row","align-items-center","gx-0","px-xl-5","mb-3","product-item"],[1,"col-auto","check",3,"click"],[3,"checked","aria-label","click","change"],["check",""],[1,"col"],[3,"service","onDelete"],[1,"row","justify-content-center","gy-3"],[1,"col-lg-8"],[1,"add-new-msg"],[1,"w-100"],[1,"col-auto"],["mat-raised-button","","color","accent","routerLink","create",1,"btn-round","btn-lg"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h1"),d._uU(4,"Mis Servicios"),d.qZA(),d.TgZ(5,"p"),d._uU(6,"En este apartado se encuentran todos tus servicios aprobados"),d.qZA(),d.qZA(),d.TgZ(7,"div",3),d.TgZ(8,"a",4),d.TgZ(9,"mat-icon"),d._uU(10,"note_add"),d.qZA(),d._uU(11," Agregar un nuevo Servicio "),d.qZA(),d.qZA(),d.qZA(),d._UZ(12,"mat-divider"),d.TgZ(13,"div",5),d.TgZ(14,"div",6),d.TgZ(15,"label",7),d._uU(16,"\xa0"),d.qZA(),d.TgZ(17,"mat-form-field",8),d.TgZ(18,"mat-icon",9),d._uU(19,"search"),d.qZA(),d.TgZ(20,"input",10),d.NdJ("ngModelChange",function(t){return e.filters._q=t})("keyup",function(){return e.applyFilter()}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(21,"div",6),d.TgZ(22,"label",11),d._uU(23,"Ordenar"),d.qZA(),d.TgZ(24,"mat-form-field",12),d.TgZ(25,"mat-select",13),d.NdJ("ngModelChange",function(t){return e.sort=t})("selectionChange",function(){return e.applyFilter()}),d.TgZ(26,"mat-option",14),d._uU(27,"M\xe1s recientes"),d.qZA(),d.TgZ(28,"mat-option",15),d._uU(29,"Mas antiguos"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(30,"div",6),d.TgZ(31,"label",16),d._uU(32,"Categor\xeda"),d.qZA(),d.TgZ(33,"mat-form-field",12),d.TgZ(34,"mat-select",17),d.NdJ("ngModelChange",function(t){return e.filters.main_category=t})("selectionChange",function(){return e.applyFilter()}),d.TgZ(35,"mat-option",18),d._uU(36,"Todas"),d.qZA(),d.YNc(37,Yr,2,2,"mat-option",19),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(38,"mat-divider"),d.TgZ(39,"div",20),d.TgZ(40,"div",21),d.TgZ(41,"label",22),d._uU(42,"Acciones en lote"),d.qZA(),d.TgZ(43,"mat-form-field",23),d._UZ(44,"mat-select",24),d.qZA(),d.TgZ(45,"button",25),d.NdJ("click",function(){return e.bulkAction()}),d._uU(46,"Aplicar"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(47,"div",0),d.TgZ(48,"div",26),d.YNc(49,zr,6,5,"div",27),d._UZ(50,"mat-paginator",28),d.qZA(),d.YNc(51,Fr,11,0,"ng-container",29),d.qZA()),2&t&&(d.xp6(20),d.Q6J("ngModel",e.filters._q),d.xp6(5),d.Q6J("ngModel",e.sort),d.xp6(9),d.Q6J("ngModel",e.filters.main_category),d.xp6(1),d.Q6J("value",null),d.xp6(2),d.Q6J("ngForOf",e.categories),d.xp6(8),d.Q6J("disabled",e.selection.isEmpty()),d.xp6(3),d.Q6J("hidden",0===e.count),d.xp6(1),d.Q6J("ngForOf",e.dataSource.data),d.xp6(1),d.Q6J("length",e.dataSource.count)("pageSize",5)("pageSizeOptions",d.DdM(12,$r)),d.xp6(1),d.Q6J("ngIf",0===e.count))},directives:[v.zs,r.yS,b.Hw,T.d,F.KE,F.qo,$.Nt,a.Fj,a.JJ,a.On,St.gD,w.ey,o.sg,v.lW,Qt.NW,o.O5,E.oG,Sr],styles:[".search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{display:block;width:130px;max-width:100%}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-name[_ngcontent-%COMP%]{width:330px}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-name[_ngcontent-%COMP%]  .mat-form-field-prefix{align-self:center}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-user[_ngcontent-%COMP%]{width:156px}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--app-amarillo-claro)}.actions-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.actions-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{line-height:40px}.product-list[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{padding:25px 15px;background:#97bcc566;border-radius:10px 0 0 10px}.product-list[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .check.selected[_ngcontent-%COMP%]{background:var(--app-amarillo-claro)}.add-new-msg[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:24px;line-height:29px;display:flex;align-items:center;text-align:center;color:#5a6a6f}"]}),t})();function Dr(t,e){if(1&t&&(d.ynx(0),d._UZ(1,"img",19),d.BQk()),2&t){const t=d.oxw(2);d.xp6(1),d.Q6J("src",t.publicUrl(t.service.image.url),d.LSH)}}function jr(t,e){if(1&t&&d._UZ(0,"img",19),2&t){const t=d.oxw(2);d.Q6J("src",t.assetUrl("assets/image-placeholder.png"),d.LSH)}}function Br(t,e){if(1&t&&(d.TgZ(0,"mat-chip",24,25),d._uU(2),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id)("selectable",!1),d.xp6(2),d.Oqu(t.name)}}function Lr(t,e){if(1&t&&(d.TgZ(0,"div",20),d.TgZ(1,"h4",21),d._uU(2,"M\xe9todos de pago"),d.qZA(),d.TgZ(3,"mat-chip-list",22),d.YNc(4,Br,3,3,"mat-chip",23),d.qZA(),d.qZA()),2&t){const t=d.oxw(2);d.xp6(4),d.Q6J("ngForOf",t.supplier.payment_methods)}}function Gr(t,e){if(1&t&&(d.TgZ(0,"mat-chip",24,25),d._uU(2),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id)("selectable",!1),d.xp6(2),d.Oqu(t.name)}}function Hr(t,e){if(1&t&&(d.TgZ(0,"div",26),d.TgZ(1,"h4",21),d._uU(2,"Plazos de pago"),d.qZA(),d.TgZ(3,"mat-chip-list",22),d.YNc(4,Gr,3,3,"mat-chip",23),d.qZA(),d.qZA()),2&t){const t=d.oxw(2);d.xp6(4),d.Q6J("ngForOf",t.supplier.payment_terms)}}function Rr(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"div",1),d.TgZ(1,"div",2),d.TgZ(2,"div",3),d.TgZ(3,"a",4),d.NdJ("click",function(){return d.CHM(t),d.oxw().back()}),d.TgZ(4,"mat-icon"),d._uU(5,"arrow_back_ios"),d.qZA(),d._uU(6," Mis Servicios "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(7,"mat-card",5),d.TgZ(8,"mat-card-content"),d.TgZ(9,"div",6),d.TgZ(10,"div",7),d.YNc(11,Dr,2,1,"ng-container",8),d.YNc(12,jr,1,1,"ng-template",null,9,d.W1O),d.qZA(),d.TgZ(14,"div",10),d.TgZ(15,"div",11),d.TgZ(16,"div",12),d.TgZ(17,"h1",13),d._uU(18),d.qZA(),d.qZA(),d._UZ(19,"div",14),d.qZA(),d.TgZ(20,"div",15),d.TgZ(21,"h4"),d._uU(22,"Descripci\xf3n"),d.qZA(),d.TgZ(23,"p"),d._uU(24),d.qZA(),d.qZA(),d._UZ(25,"mat-divider",16),d.YNc(26,Lr,5,1,"div",17),d.YNc(27,Hr,5,1,"div",18),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=d.MAs(13),e=d.oxw();d.xp6(11),d.Q6J("ngIf",e.service.image)("ngIfElse",t),d.xp6(7),d.Oqu(e.service.name),d.xp6(6),d.Oqu(e.service.description),d.xp6(2),d.Q6J("ngIf",e.supplier),d.xp6(1),d.Q6J("ngIf",e.supplier)}}let Vr=(()=>{class t{constructor(t,e,n,o){this.http=t,this.route=e,this.location=n,this.servicesService=o,this.route.paramMap.subscribe(t=>{this.id=t.get("id")})}ngOnInit(){this.loadService()}loadService(){this.servicesService.findById(this.id).subscribe(t=>{this.service=t,this.loadSupplier()})}loadSupplier(){var t;this.http.get(`${J.N.apiUrl}/suppliers/${null===(t=this.service.supplier)||void 0===t?void 0:t.id}`).subscribe(t=>{this.supplier=t})}publicUrl(t){return`${J.N.apiUrl}${t}`}assetUrl(t){return`${J.N.basehref}${t}`}back(){this.location.back()}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.gz),d.Y36(o.Ye),d.Y36(C.rm))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-servicio-detalles"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row","align-items-center","pt-4","pb-2","px-2","header-row"],[1,"col-auto"],["mat-button","",1,"back-link","breadcrumbs",3,"click"],[1,"mt-4"],[1,"row","flex-column","flex-md-row","justify-content-center"],[1,"col-auto","image-cont","pb-3","pb-md-0"],[4,"ngIf","ngIfElse"],["placeholder",""],[1,"col","detalles-cont"],[1,"row","pb-2"],[1,"col-auto","me-auto","pt-5"],[1,"titulo"],[1,"col-auto","actions"],[1,"descripcion-larga"],["inset","",1,"mb-3"],["class","pm-row mb-3",4,"ngIf"],["class","pm-row",4,"ngIf"],[3,"src"],[1,"pm-row","mb-3"],[1,"row-title"],[1,"payment-options"],["selected","",3,"value","selectable",4,"ngFor","ngForOf"],["selected","",3,"value","selectable"],["c","matChip"],[1,"pm-row"]],template:function(t,e){1&t&&d.YNc(0,Rr,28,6,"div",0),2&t&&d.Q6J("ngIf",e.service)},directives:[o.O5,v.zs,b.Hw,V.a8,V.dn,T.d,D.qn,o.sg,D.HS],styles:[".back-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--app-amarillo-claro)}.breadcrumbs[_ngcontent-%COMP%]{margin-bottom:.5em;font-family:Montserrat;font-style:normal;font-weight:600;font-size:14px;line-height:17px;color:#00aad3}mat-card[_ngcontent-%COMP%]{box-shadow:0 5px 5px #4094ab3d!important;border-radius:17px}mat-card[_ngcontent-%COMP%]   .image-cont[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]   .image-cont[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:270px;max-height:280px;object-fit:cover;border-radius:18px}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{text-align:right}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;font-family:Montserrat;font-style:normal;font-weight:700;font-size:13px;line-height:16px;color:#5a6a6f}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .fav-btn[_ngcontent-%COMP%]:not(.isfav)   mat-icon[_ngcontent-%COMP%]{color:#c4c4c4!important}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{margin-bottom:.5em;font-family:Montserrat;font-style:normal;font-weight:700;font-size:18px;line-height:22px;color:#062ebd}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .marca[_ngcontent-%COMP%]{margin-bottom:.5em;font-family:Montserrat;font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:#dfbf03}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .descripcion-larga[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:14px;line-height:17px;color:#5a6a6f}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .descripcion-larga[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:12px;line-height:15px;color:#999d9e}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .pm-row[_ngcontent-%COMP%]   h4.row-title[_ngcontent-%COMP%]{margin-bottom:.75em;font-family:Montserrat;font-style:normal;font-weight:700;font-size:11px;line-height:13px;color:#5a6a6f}"]}),t})();function Xr(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingresa un nombre para tu servicio."),d.qZA())}function Wr(t,e){if(1&t&&(d.TgZ(0,"mat-option",31),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function Kr(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Selecciona el area principal de tu servicio."),d.qZA())}function ta(t,e){if(1&t&&(d.TgZ(0,"mat-option",32),d._uU(1),d.qZA()),2&t){const t=e.$implicit,n=d.oxw();let o;d.Q6J("value",t.id)("disabled",t.id==(null==(o=n.serviceForm.get("main_category"))?null:o.value)),d.xp6(1),d.Oqu(t.name)}}function ea(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Selecciona al menos un area secundaria."),d.qZA())}function na(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingresa una descripcion de tu servicio."),d.qZA())}let oa=(()=>{class t{constructor(t,e,n){this.http=t,this.router=e,this.formBuilder=n,this.categories=[],this.sub_categories=[],this.wait=!1,this.serviceForm=this.formBuilder.group({name:[null,[a.kI.required]],image:[null,[a.kI.required]],image_source:[null],main_category:[null,[a.kI.required]],categories:[null],description:[null,[a.kI.required]],open:[!1,[a.kI.requiredTrue]]})}ngOnInit(){this.loadCategories()}loadCategories(){let t=(new i.LE).append("depth",0).append("_sort","position:ASC");this.http.get(`${J.N.apiUrl}/categories`,{params:t}).subscribe(t=>{this.categories=t},t=>{})}categoryChange(t){var e,n;this.sub_categories=null===(e=this.categories.find(e=>e.id==t.value))||void 0===e?void 0:e.childrens,null===(n=this.serviceForm.get("categories"))||void 0===n||n.patchValue(null)}onSubmit(){var t,e,n;if(this.serviceForm.invalid)return console.log("form invalid"),void this.serviceForm.markAllAsTouched();console.log("submit..."),this.wait=!0;const o=new FormData;let r=this.serviceForm.getRawValue();delete r.image,delete r.image_source,o.append("data",JSON.stringify(r)),(null===(t=this.serviceForm.get("image"))||void 0===t?void 0:t.value)&&o.append("files.image",null===(e=this.serviceForm.get("image_source"))||void 0===e?void 0:e.value,null===(n=this.serviceForm.get("image"))||void 0===n?void 0:n.value.split("\\").pop()),this.http.post(`${J.N.apiUrl}/services`,o).subscribe(t=>{this.wait=!1,this.router.navigateByUrl("/proveedores/servicios")},t=>{this.wait=!1,console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.F0),d.Y36(a.qu))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-servicio-create"]],decls:56,vars:10,consts:[[1,"container","mt-5"],["id","card-registro",1,"app-modal-shadow","p-0"],[1,"px-c","py-ct"],[1,"p-5"],[1,"service-form","px-lg-5",3,"formGroup"],[1,"row","justify-content-between","gx-5","py-3"],[1,"form-group","col-xl-5","mt-xl-4"],["for","name",1,"form-label"],[1,"input-req"],["appearance","outline"],["matInput","","id","name","formControlName","name","placeholder","Ej. Alitas de Pollo"],[4,"ngIf"],[1,"form-group","col-xl-auto"],["field","image","placeholder","Fotograf\xeda","hint","Jpg, Png","accept","image/png, image/jpeg","statusPosition","after","direction","row",3,"form","showPreview","showStatus"],["inset",""],[1,"row","gx-3","py-3"],[1,"form-group","col"],[1,"form-label"],[1,"row"],[1,"col-auto"],["id","main_category","formControlName","main_category","placeholder","Categor\xeda principal","disableOptionCentering","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","categories","formControlName","categories","placeholder","Categor\xedas secundarias","multiple","","disableOptionCentering",""],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"row","py-3"],["for","description",1,"form-label"],["matInput","","id","description","formControlName","description","rows","6","placeholder","Escribe aqu\xed las especificaciones de tu servicio"],[1,"checks-seccion","text-center"],["formControlName","open"],[1,"row","py-3","justify-content-center","btn-row"],["mat-flat-button","","color","accent",1,"btn-round","send-btn",3,"click"],[3,"value"],[3,"value","disabled"]],template:function(t,e){if(1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"mat-card",1),d.TgZ(2,"mat-card-title",2),d.TgZ(3,"h1"),d._uU(4,"Agrega un nuevo Servicio"),d.qZA(),d.TgZ(5,"p"),d._uU(6,"Da de alta la informaci\xf3n necesaria para que te encuentren clientes potenciales"),d.qZA(),d.qZA(),d.TgZ(7,"mat-card-content",3),d.TgZ(8,"form",4),d.TgZ(9,"div",5),d.TgZ(10,"div",6),d.TgZ(11,"label",7),d._uU(12,"Nombre del servicio"),d.TgZ(13,"span",8),d._uU(14,"*"),d.qZA(),d.qZA(),d.TgZ(15,"mat-form-field",9),d._UZ(16,"input",10),d.YNc(17,Xr,2,0,"mat-error",11),d.qZA(),d.qZA(),d.TgZ(18,"div",12),d._UZ(19,"app-file-field",13),d.qZA(),d.qZA(),d._UZ(20,"mat-divider",14),d.TgZ(21,"div",15),d.TgZ(22,"div",16),d.TgZ(23,"label",17),d._uU(24,"\xc1rea principal"),d.TgZ(25,"span",8),d._uU(26,"*"),d.qZA(),d.qZA(),d.TgZ(27,"div",18),d.TgZ(28,"div",19),d.TgZ(29,"mat-form-field",9),d.TgZ(30,"mat-select",20),d.NdJ("selectionChange",function(t){return e.categoryChange(t)}),d.YNc(31,Wr,2,2,"mat-option",21),d.qZA(),d.YNc(32,Kr,2,0,"mat-error",11),d.qZA(),d.qZA(),d.TgZ(33,"div",19),d.TgZ(34,"mat-form-field",9),d.TgZ(35,"mat-select",22),d.YNc(36,ta,2,3,"mat-option",23),d.qZA(),d.YNc(37,ea,2,0,"mat-error",11),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(38,"mat-divider",14),d.TgZ(39,"div",24),d.TgZ(40,"div",16),d.TgZ(41,"label",25),d._uU(42,"A\xf1ade detalles"),d.TgZ(43,"span",8),d._uU(44,"*"),d.qZA(),d.qZA(),d.TgZ(45,"mat-form-field",9),d._UZ(46,"textarea",26),d.YNc(47,na,2,0,"mat-error",11),d.qZA(),d.qZA(),d.qZA(),d.TgZ(48,"div",27),d.TgZ(49,"p"),d.TgZ(50,"mat-checkbox",28),d._uU(51,"Acepto recibir solicitudes de las empresas registradas en ExpHotel Hive que concuerden con las especificaciones de mi servicio."),d.qZA(),d.qZA(),d.qZA(),d.TgZ(52,"div",29),d.TgZ(53,"div",19),d.TgZ(54,"button",30),d.NdJ("click",function(){return e.onSubmit()}),d._uU(55,"Agregar"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){let t,n,o,r;d.xp6(8),d.Q6J("formGroup",e.serviceForm),d.xp6(9),d.Q6J("ngIf",null==(t=e.serviceForm.get("name"))?null:t.hasError("required")),d.xp6(2),d.Q6J("form",e.serviceForm)("showPreview",!0)("showStatus",!0),d.xp6(12),d.Q6J("ngForOf",e.categories),d.xp6(1),d.Q6J("ngIf",null==(n=e.serviceForm.get("main_category"))?null:n.hasError("required")),d.xp6(4),d.Q6J("ngForOf",e.sub_categories),d.xp6(1),d.Q6J("ngIf",null==(o=e.serviceForm.get("categories"))?null:o.hasError("required")),d.xp6(10),d.Q6J("ngIf",null==(r=e.serviceForm.get("name"))?null:r.hasError("required"))}},directives:[V.a8,V.n5,V.dn,a._Y,a.JL,a.sg,F.KE,$.Nt,a.Fj,a.JJ,a.u,o.O5,ve.O,T.d,St.gD,o.sg,E.oG,v.lW,F.TO,w.ey],styles:["@media (min-width:992px){.container[_ngcontent-%COMP%]{max-width:calc(1000px + var(--bs-gutter-x,.75rem)*2)}}mat-card[_ngcontent-%COMP%]{border-radius:30px 30px 10px 10px;overflow:hidden}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{background:linear-gradient(#0000,#0000001a),url(banner-cotizador.e7a721bb5adf65f35df8.png);background-position:0;background-repeat:no-repeat;background-size:cover}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:24px;line-height:28px;display:flex;align-items:center;color:#fff}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-family:Roboto;font-style:normal;font-weight:400;font-size:14px;line-height:126.69%;color:#fff}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .btn-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .btn-row[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:only-child{margin-left:auto}.service-form[_ngcontent-%COMP%]{margin-top:3em}.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:not(.text-center)   label[_ngcontent-%COMP%]{margin-left:.5em;margin-right:-1.6em}.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span.input-req[_ngcontent-%COMP%]{margin-left:.3em;color:var(--app-rojo)}.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   mat-icon.input-info[_ngcontent-%COMP%]{margin-left:.3em;width:auto;height:auto;font-size:15px;line-height:1em;vertical-align:middle;color:var(--app-cyan)}.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   app-file-field[_ngcontent-%COMP%]  .preview{width:145px!important;min-width:145px!important;height:145px!important;border-radius:10px!important}.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   app-file-field[_ngcontent-%COMP%]  .field{width:-webkit-fill-available}@media (min-width:1200px){.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   app-file-field[_ngcontent-%COMP%]  .field{width:140px}}.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   app-file-field[_ngcontent-%COMP%]  .status.order-last{margin-bottom:20px}.service-form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--app-gris-muy-oscuro)}.service-form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--app-cyan)}.service-form[_ngcontent-%COMP%]   .btn-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:160px}"]}),t})();function ra(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingresa un nombre para tu servicio."),d.qZA())}function aa(t,e){if(1&t&&(d.TgZ(0,"mat-option",29),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function ia(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Selecciona el area principal de tu servicio."),d.qZA())}function ca(t,e){if(1&t&&(d.TgZ(0,"mat-option",29),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function la(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Selecciona al menos un area secundaria."),d.qZA())}function sa(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingresa una descripcion de tu servicio."),d.qZA())}function ga(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"form",5),d.TgZ(1,"div",6),d.TgZ(2,"div",7),d.TgZ(3,"label",8),d._uU(4,"Nombre del servicio"),d.TgZ(5,"span",9),d._uU(6,"*"),d.qZA(),d.qZA(),d.TgZ(7,"mat-form-field",10),d._UZ(8,"input",11),d.YNc(9,ra,2,0,"mat-error",12),d.qZA(),d.qZA(),d.TgZ(10,"div",13),d._UZ(11,"app-file-field",14),d.qZA(),d.qZA(),d._UZ(12,"mat-divider",15),d.TgZ(13,"div",16),d.TgZ(14,"div",17),d.TgZ(15,"label",18),d._uU(16,"\xc1rea principal"),d.TgZ(17,"span",9),d._uU(18,"*"),d.qZA(),d.qZA(),d.TgZ(19,"div",19),d.TgZ(20,"div",20),d.TgZ(21,"mat-form-field",10),d.TgZ(22,"mat-select",21),d.NdJ("selectionChange",function(e){return d.CHM(t),d.oxw().categoryChange(e)}),d.YNc(23,aa,2,2,"mat-option",22),d.qZA(),d.YNc(24,ia,2,0,"mat-error",12),d.qZA(),d.qZA(),d.TgZ(25,"div",20),d.TgZ(26,"mat-form-field",10),d.TgZ(27,"mat-select",23),d.YNc(28,ca,2,2,"mat-option",22),d.qZA(),d.YNc(29,la,2,0,"mat-error",12),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(30,"mat-divider",15),d.TgZ(31,"div",24),d.TgZ(32,"div",17),d.TgZ(33,"label",25),d._uU(34,"A\xf1ade detalles"),d.TgZ(35,"span",9),d._uU(36,"*"),d.qZA(),d.qZA(),d.TgZ(37,"mat-form-field",10),d._UZ(38,"textarea",26),d.YNc(39,sa,2,0,"mat-error",12),d.qZA(),d.qZA(),d.qZA(),d.TgZ(40,"div",27),d.TgZ(41,"div",20),d.TgZ(42,"button",28),d.NdJ("click",function(){return d.CHM(t),d.oxw().onSubmit()}),d._uU(43,"Guardar"),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=d.oxw();let e,n,o,r;d.Q6J("formGroup",t.serviceForm),d.xp6(9),d.Q6J("ngIf",null==(e=t.serviceForm.get("name"))?null:e.hasError("required")),d.xp6(2),d.Q6J("form",t.serviceForm)("showPreview",!0)("filePlaceholder",t.service.image)("showStatus",!0),d.xp6(12),d.Q6J("ngForOf",t.categories),d.xp6(1),d.Q6J("ngIf",null==(n=t.serviceForm.get("main_category"))?null:n.hasError("required")),d.xp6(4),d.Q6J("ngForOf",t.sub_categories),d.xp6(1),d.Q6J("ngIf",null==(o=t.serviceForm.get("categories"))?null:o.hasError("required")),d.xp6(10),d.Q6J("ngIf",null==(r=t.serviceForm.get("name"))?null:r.hasError("required"))}}let ua=(()=>{class t{constructor(t,e,n,o,r,a){this.http=t,this.router=e,this.route=n,this.formBuilder=o,this.servicesService=r,this.authenticationService=a,this.categories=[],this.sub_categories=[],this.wait=!1,this.route.paramMap.subscribe(t=>{this.id=t.get("id")}),this.currentUser=a.currentUserValue}ngOnInit(){this.loadService()}loadService(){this.servicesService.findById(this.id).subscribe(t=>{this.service=t,this.loadCategories(),this.initForm()})}loadCategories(){let t=(new i.LE).append("depth",0).append("_sort","position:ASC");this.http.get(`${J.N.apiUrl}/categories`,{params:t}).subscribe(t=>{this.categories=t;let e=this.categories.find(t=>{var e;return t.id==(null===(e=this.service.main_category)||void 0===e?void 0:e.id)});e&&(this.sub_categories=e.childrens)},t=>{})}categoryChange(t){var e,n;this.sub_categories=null===(e=this.categories.find(e=>e.id==t.value))||void 0===e?void 0:e.childrens,null===(n=this.serviceForm.get("categories"))||void 0===n||n.patchValue(null)}initForm(){var t,e;let n=null===(t=this.service.categories)||void 0===t?void 0:t.map(t=>t.id);this.serviceForm=this.formBuilder.group({name:[this.service.name,[a.kI.required]],image:[null],image_source:[null],main_category:[null===(e=this.service.main_category)||void 0===e?void 0:e.id,[a.kI.required]],categories:[n],description:[this.service.description,[a.kI.required]]})}onSubmit(){var t,e,n;if(this.serviceForm.invalid)return console.log("form invalid"),void this.serviceForm.markAllAsTouched();console.log("submit..."),this.wait=!0;const o=new FormData;let r=this.serviceForm.getRawValue();delete r.image,delete r.image_source,o.append("data",JSON.stringify(r)),(null===(t=this.serviceForm.get("image"))||void 0===t?void 0:t.value)&&o.append("files.image",null===(e=this.serviceForm.get("image_source"))||void 0===e?void 0:e.value,null===(n=this.serviceForm.get("image"))||void 0===n?void 0:n.value.split("\\").pop()),this.http.put(`${J.N.apiUrl}/services/${this.id}`,o).subscribe(t=>{this.wait=!1,this.router.navigateByUrl("/proveedores/servicios")},t=>{this.wait=!1,console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.F0),d.Y36(r.gz),d.Y36(a.qu),d.Y36(C.rm),d.Y36(C.$h))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-servicio-update"]],decls:9,vars:1,consts:[[1,"container","mt-5"],["id","card-registro",1,"app-modal-shadow","p-0"],[1,"px-c","py-ct"],[1,"p-5"],["class","service-form px-lg-5",3,"formGroup",4,"ngIf"],[1,"service-form","px-lg-5",3,"formGroup"],[1,"row","justify-content-between","gx-5","py-3"],[1,"form-group","col-xl-5","mt-xl-4"],["for","name",1,"form-label"],[1,"input-req"],["appearance","outline"],["matInput","","id","name","formControlName","name","placeholder","Ej. Alitas de Pollo"],[4,"ngIf"],[1,"form-group","col-xl-auto"],["field","image","placeholder","Fotograf\xeda","hint","Jpg, Png","accept","image/png, image/jpeg","statusPosition","after","direction","row",3,"form","showPreview","filePlaceholder","showStatus"],["inset",""],[1,"row","gx-3","py-3"],[1,"form-group","col"],[1,"form-label"],[1,"row"],[1,"col-auto"],["id","main_category","formControlName","main_category","placeholder","Categor\xeda principal","disableOptionCentering","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","categories","formControlName","categories","placeholder","Categor\xedas secundarias","multiple","","disableOptionCentering",""],[1,"row","py-3"],["for","description",1,"form-label"],["matInput","","id","description","formControlName","description","rows","6","placeholder","Escribe aqu\xed las especificaciones de tu servicio"],[1,"row","py-3","justify-content-center","btn-row"],["mat-flat-button","","color","accent",1,"btn-round","send-btn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"mat-card",1),d.TgZ(2,"mat-card-title",2),d.TgZ(3,"h1"),d._uU(4,"Editar Servicio"),d.qZA(),d.TgZ(5,"p"),d._uU(6,"Da de alta la informaci\xf3n necesaria para que te encuentren clientes potenciales"),d.qZA(),d.qZA(),d.TgZ(7,"mat-card-content",3),d.YNc(8,ga,44,11,"form",4),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(8),d.Q6J("ngIf",e.serviceForm))},directives:[V.a8,V.n5,V.dn,o.O5,a._Y,a.JL,a.sg,F.KE,$.Nt,a.Fj,a.JJ,a.u,ve.O,T.d,St.gD,o.sg,v.lW,F.TO,w.ey],styles:["@media (min-width:992px){.container[_ngcontent-%COMP%]{max-width:calc(1000px + var(--bs-gutter-x,.75rem)*2)}}mat-card[_ngcontent-%COMP%]{border-radius:30px 30px 10px 10px;overflow:hidden}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{background:linear-gradient(#0000,#0000001a),url(banner-cotizador.e7a721bb5adf65f35df8.png);background-position:0;background-repeat:no-repeat;background-size:cover}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:24px;line-height:28px;display:flex;align-items:center;color:#fff}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-family:Roboto;font-style:normal;font-weight:400;font-size:14px;line-height:126.69%;color:#fff}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .btn-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .btn-row[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:only-child{margin-left:auto}.service-form[_ngcontent-%COMP%]{margin-top:3em}.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:not(.text-center)   label[_ngcontent-%COMP%]{margin-left:.5em;margin-right:-1.6em}.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span.input-req[_ngcontent-%COMP%]{margin-left:.3em;color:var(--app-rojo)}.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   mat-icon.input-info[_ngcontent-%COMP%]{margin-left:.3em;width:auto;height:auto;font-size:15px;line-height:1em;vertical-align:middle;color:var(--app-cyan)}.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   app-file-field[_ngcontent-%COMP%]  .preview{width:145px!important;min-width:145px!important;height:145px!important;border-radius:10px!important}.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   app-file-field[_ngcontent-%COMP%]  .field{width:-webkit-fill-available}@media (min-width:1200px){.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   app-file-field[_ngcontent-%COMP%]  .field{width:140px}}.service-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   app-file-field[_ngcontent-%COMP%]  .status.order-last{margin-bottom:20px}.service-form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--app-gris-muy-oscuro)}.service-form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--app-cyan)}.service-form[_ngcontent-%COMP%]   .btn-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:160px}"]}),t})();function da(t,e){if(1&t&&(d.ynx(0),d._UZ(1,"img",22),d.BQk()),2&t){const t=d.oxw();d.xp6(1),d.Q6J("src",t.publicUrl(t.offer.image.formats.small?t.offer.image.formats.small.url:t.offer.image.url),d.LSH)}}function pa(t,e){if(1&t&&d._UZ(0,"img",22),2&t){const t=d.oxw();d.Q6J("src",t.assetUrl("assets/image-placeholder.png"),d.LSH)}}function ma(t,e){1&t&&(d.TgZ(0,"dd"),d._uU(1,"Solicitada"),d.qZA())}function fa(t,e){if(1&t&&(d.TgZ(0,"dd"),d._uU(1),d.ALo(2,"amTimeAgo"),d.ALo(3,"amLocale"),d.qZA()),2&t){const t=d.oxw();d.xp6(1),d.Oqu(t.expired()?"Vencida":d.xi3(2,1,d.xi3(3,4,t.offer.expires_at,"es"),!0))}}function ha(t,e){1&t&&(d.TgZ(0,"div",23),d._uU(1," NO PUBLICADO "),d.qZA())}let _a=(()=>{class t{constructor(){this.onDelete=new d.vpe}ngOnInit(){}delete(){this.onDelete.emit(this.offer)}expired(){return!!this.offer.expires_at&&Z().isSameOrAfter(Z(this.offer.expires_at),"minute")}publicUrl(t){return`${J.N.apiUrl}${t}`}assetUrl(t){return`${J.N.basehref}${t}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-card-offer-compact"]],inputs:{offer:"offer"},outputs:{onDelete:"onDelete"},decls:42,vars:17,consts:[[1,"row","flex-column","flex-md-row","justify-content-center"],[1,"col-auto","image-cont","pb-3","pb-md-0"],[4,"ngIf","ngIfElse"],["placeholder",""],[1,"col","detalles-cont"],[1,"row","pb-2"],[1,"col-auto","me-auto"],[1,"breadcrumbs"],[1,"titulo"],[1,"col-auto","actions"],["mat-flat-button","","color","accent",1,"btn-round","btn-sm",3,"routerLink"],[1,"descripcion-corta"],[3,"routerLink"],["inset","true"],[1,"row","mt-3","mb-0"],[1,"col-auto","d-flex"],[1,"me-2"],[4,"ngIf"],[1,"row"],["class","col-auto not-published",4,"ngIf"],[1,"col-auto","ms-auto"],["mat-button","","color","warn",1,"btn-round","btn-xs",3,"click"],[3,"src"],[1,"col-auto","not-published"]],template:function(t,e){if(1&t&&(d.TgZ(0,"mat-card"),d.TgZ(1,"mat-card-content"),d.TgZ(2,"div",0),d.TgZ(3,"div",1),d.YNc(4,da,2,1,"ng-container",2),d.YNc(5,pa,1,1,"ng-template",null,3,d.W1O),d.qZA(),d.TgZ(7,"div",4),d.TgZ(8,"div",5),d.TgZ(9,"div",6),d.TgZ(10,"h2",7),d._uU(11),d.qZA(),d.TgZ(12,"h1",8),d._uU(13),d.qZA(),d.qZA(),d.TgZ(14,"div",9),d.TgZ(15,"a",10),d._uU(16,"Editar"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(17,"p",11),d._uU(18),d.ALo(19,"truncate"),d.TgZ(20,"a",12),d._uU(21,"Ver m\xe1s"),d.qZA(),d.qZA(),d._UZ(22,"mat-divider",13),d.TgZ(23,"dl",14),d.TgZ(24,"div",15),d.TgZ(25,"dt",16),d._uU(26,"Precio:"),d.qZA(),d.TgZ(27,"dd"),d._uU(28),d.ALo(29,"currency"),d.qZA(),d.qZA(),d.TgZ(30,"div",15),d.TgZ(31,"dt",16),d._uU(32,"Vence en:"),d.qZA(),d.YNc(33,ma,2,0,"dd",17),d.YNc(34,fa,4,7,"dd",17),d.qZA(),d.qZA(),d.TgZ(35,"div",18),d.YNc(36,ha,2,0,"div",19),d.TgZ(37,"div",20),d.TgZ(38,"button",21),d.NdJ("click",function(){return e.delete()}),d.TgZ(39,"mat-icon"),d._uU(40,"delete_forever"),d.qZA(),d._uU(41," Borrar"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){const t=d.MAs(6);d.xp6(4),d.Q6J("ngIf",e.offer.image)("ngIfElse",t),d.xp6(7),d.Oqu(null==e.offer.main_category?null:e.offer.main_category.name),d.xp6(2),d.Oqu(e.offer.name),d.xp6(2),d.MGl("routerLink","",e.offer.id,"/update"),d.xp6(3),d.hij("",d.Dn7(19,11,e.offer.description,320,!1)," "),d.xp6(2),d.s9C("routerLink",e.offer.id),d.xp6(8),d.Oqu(d.lcZ(29,15,e.offer.price)||"-"),d.xp6(5),d.Q6J("ngIf",e.offer.requested),d.xp6(1),d.Q6J("ngIf",!e.offer.requested),d.xp6(2),d.Q6J("ngIf",!e.offer.published_at)}},directives:[V.a8,V.dn,o.O5,v.zs,r.yS,T.d,v.lW,b.Hw],pipes:[kr.W,o.H9,s.eG,s.Ue],styles:["mat-card[_ngcontent-%COMP%]{box-shadow:0 5px 5px #4094ab3d!important;border-radius:17px}mat-card[_ngcontent-%COMP%]   .image-cont[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]   .image-cont[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:160px;object-fit:cover;border-radius:18px}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{text-align:right}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]{margin-bottom:.5em;font-family:Montserrat;font-style:normal;font-weight:600;font-size:14px;line-height:17px;color:#00aad3}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{margin-bottom:.5em;font-family:Montserrat;font-style:normal;font-weight:700;font-size:18px;line-height:22px;color:#062ebd}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .marca[_ngcontent-%COMP%]{margin-bottom:.5em;font-family:Montserrat;font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:#dfbf03}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .descripcion-corta[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:12px;line-height:15px;color:#999d9e}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .descripcion-corta[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00aad3}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:13px;line-height:16px}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{color:#5a6a6f}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{color:#00aad3}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .not-published[_ngcontent-%COMP%]{font-family:Montserrat;font-style:bold;font-weight:600;font-size:14px;line-height:17px;color:var(--app-text-red)}"]}),t})();function Za(t,e){if(1&t&&(d.ynx(0),d._uU(1),d.ALo(2,"date"),d.BQk()),2&t){const t=d.oxw(2);d.xp6(1),d.AsE(" ",t.tickets.length>1?"disponibles":"disponible"," hasta el ",d.xi3(2,2,t.tickets[0].expires_at,"dd/MM/yyyy"),"")}}function Ca(t,e){if(1&t&&(d.ynx(0),d.TgZ(1,"p",40),d._uU(2," Tienes "),d.TgZ(3,"span"),d._uU(4),d.qZA(),d.YNc(5,Za,3,5,"ng-container",39),d.qZA(),d.TgZ(6,"span"),d._uU(7,"\xbfNecesitas m\xe1s?"),d.qZA(),d.BQk()),2&t){const t=d.oxw();d.xp6(4),d.AsE("",t.tickets.length," ",t.tickets.length>1?"ofertas":"oferta",""),d.xp6(1),d.Q6J("ngIf",null==t.tickets[0]?null:t.tickets[0].expires_at)}}function Ma(t,e){1&t&&(d.TgZ(0,"p",40),d._uU(1,"No tienes "),d.TgZ(2,"span"),d._uU(3,"ofertas"),d.qZA(),d._uU(4," disponibles"),d.qZA(),d.TgZ(5,"span"),d._uU(6,"\xbfNecesitas m\xe1s?"),d.qZA())}function Oa(t,e){if(1&t&&(d.TgZ(0,"mat-option",22),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function xa(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"div",41),d.TgZ(1,"div",42),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw().selection.toggle(e.id)}),d.TgZ(2,"mat-checkbox",43,44),d.NdJ("click",function(t){return t.stopPropagation()})("change",function(e){const n=d.CHM(t).$implicit,o=d.oxw();return e?o.selection.toggle(n.id):null}),d.qZA(),d.qZA(),d.TgZ(4,"div",45),d.TgZ(5,"app-card-offer-compact",46),d.NdJ("onDelete",function(){const e=d.CHM(t).$implicit;return d.oxw().delete(e)}),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=e.$implicit,n=d.oxw();d.xp6(1),d.ekj("selected",n.selection.isSelected(t.id)),d.xp6(1),d.Q6J("checked",n.selection.isSelected(t.id))("aria-label",n.checkboxLabel(t.id)),d.xp6(3),d.Q6J("offer",t)}}function va(t,e){if(1&t&&(d.ynx(0),d.TgZ(1,"div",47),d.TgZ(2,"div",48),d.TgZ(3,"p",49),d._uU(4,"A\xfan no tienes ning\xfana oferta, por favor agrega por lo menos una para aparecer en nuestros cat\xe1logos"),d.qZA(),d.qZA(),d._UZ(5,"div",50),d.TgZ(6,"div",51),d.TgZ(7,"button",52),d.TgZ(8,"mat-icon"),d._uU(9,"note_add"),d.qZA(),d._uU(10," Agregar una nueva Oferta "),d.qZA(),d.qZA(),d.qZA(),d.BQk()),2&t){const t=d.oxw();d.xp6(7),d.Q6J("disabled",0==t.tickets.length)}}const qa=function(){return[5,10,20]};let ba=(()=>{class t{constructor(t,e,n,o,r,a){this.http=t,this.router=e,this.route=n,this.alert=o,this.authenticationService=r,this.offersService=a,this.selection=new kt.Ov(!0,[]),this.categories=[],this.tickets=[],this.filters={_q:null,main_category:null,tab:"open"},this._statusInTab={open:[1,3,5],pending:[2],discarded:[4,6],finalized:[7]},this.currentUser=this.authenticationService.currentUserValue,this.dataSource=new C.WC(this.offersService),this.route.queryParamMap.subscribe(t=>{this.filters._q=t.get("_q")?t.get("_q"):null,this.filters.main_category=t.get("main_category")?Number(t.get("main_category")):null,this.sort=t.get("sort")?t.get("sort"):null,this.applyFilter(!1)})}ngOnInit(){this.loadCategories(),this.loadTickets(),this.countAll()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.load()}countAll(){this.http.get(`${J.N.apiUrl}/offers/count`).subscribe(t=>{this.count=t},t=>{})}loadCategories(){this.http.get(`${J.N.apiUrl}/categories`).subscribe(t=>{this.categories=t},t=>{})}loadTickets(){let t=(new i.LE).set("_sort","created_at:ASC");this.http.get(`${J.N.apiUrl}/offer-tickets`,{params:t}).subscribe(t=>{this.tickets=t},t=>{})}delete(t){this.alert.open({title:"\xbfEst\xe1s seguro de eliminar esta oferta?",text:"Una vez eliminada ya no podra ser solicitada por tus clientes."}).then(e=>{e&&(console.log("borrando offerta:",e),this.http.delete(`${J.N.apiUrl}/offers/${t.id}`).subscribe(e=>{console.log(e);let n=this.dataSource.data.findIndex(e=>e.id==t.id);n>-1&&this.dataSource.data.splice(n,1)},t=>{}))})}bulkAction(){console.log(this.selection.selected)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data.map(t=>t.id))}checkboxLabel(t){return t?`${this.selection.isSelected(t.id)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}applyFilter(t=!0){this.selection.clear(),this.paginator&&this.paginator.firstPage(),this.dataSource.filter=this.filters,this.dataSource.sort=this.sort,t&&(this.dataSource.load(),this.router.navigate([],{queryParams:Object.assign(Object.assign({},this.filters),{sort:this.sort}),queryParamsHandling:"merge",replaceUrl:!0}))}statusInTab(t){return null!==this.filters.tab&&void 0!==this._statusInTab[this.filters.tab]&&this._statusInTab[this.filters.tab].includes(t)}tabChangue(t){this.filters.status=null,this.applyFilter()}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.F0),d.Y36(r.gz),d.Y36(C.c9),d.Y36(C.$h),d.Y36(C.bJ))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-ofertas"]],viewQuery:function(t,e){if(1&t&&d.Gf(Qt.NW,5),2&t){let t;d.iGM(t=d.CRH())&&(e.paginator=t.first)}},decls:65,vars:17,consts:[[1,"container-fluid","pt-5","px-md-5"],[1,"row","align-items-end"],[1,"col-lg","page-title"],[1,"col-lg","page-actions"],[1,"d-flex","flex-column","align-items-center","mb-2"],["mat-raised-button","","color","primary","routerLink","create",1,"btn-round","btn-md",3,"disabled"],["routerLink","/proveedores/puntos",1,"d-flex","flex-column","align-items-center","mt-2","tickets-notif"],[4,"ngIf","ngIfElse"],["no_tickets_m",""],[1,"row","search-form"],[1,"form-group","col-auto","mt-2"],["for","search_name",1,"form-label"],["appearance","outline",1,"search-name"],["matPrefix",""],["matInput","","id","search_name","placeholder","Buscar por nombre de oferta",3,"ngModel","ngModelChange","keyup"],["for","tipo",1,"form-label"],["appearance","outline"],["id","order","placeholder","M\xe1s recientes","disableOptionCentering","",3,"ngModel","ngModelChange","selectionChange"],["value","created_at:DESC"],["value","created_at:ASC"],["for","main_category",1,"form-label"],["id","main_category","placeholder","Todas","disableOptionCentering","",3,"ngModel","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row","actions-form","pt-3"],[1,"col","mt-2","mb-3"],["name","estatus",1,"tabs",3,"ngModel","ngModelChange","change"],["value","open"],["value","requested"],["value","expired"],[1,"form-group","col-auto","mt-1"],["for","tipo",1,"form-label","me-3"],["appearance","outline",1,"me-3"],["id","order","placeholder","Cerrar","disableOptionCentering",""],["mat-raised-button","","color","accent",1,"btn-round","btn-sm",3,"disabled","click"],[1,"container-fluid","pt-4","px-md-5"],[1,"product-list","py-3",3,"hidden"],["class","row align-items-center gx-0 px-xl-5 mb-3 product-item","mat-table","","data","",4,"ngFor","ngForOf"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions"],[4,"ngIf"],[1,"mb-0"],["mat-table","","data","",1,"row","align-items-center","gx-0","px-xl-5","mb-3","product-item"],[1,"col-auto","check",3,"click"],[3,"checked","aria-label","click","change"],["check",""],[1,"col"],[3,"offer","onDelete"],[1,"row","justify-content-center","gy-3"],[1,"col-lg-8"],[1,"add-new-msg"],[1,"w-100"],[1,"col-auto"],["mat-raised-button","","color","accent","routerLink","create",1,"btn-round","btn-lg",3,"disabled"]],template:function(t,e){if(1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h1"),d._uU(4,"Mis Ofertas"),d.qZA(),d.TgZ(5,"p"),d._uU(6,"En este apartado se encuentran todas tus ofertas aprobadas"),d.qZA(),d.qZA(),d.TgZ(7,"div",3),d.TgZ(8,"div",4),d.TgZ(9,"button",5),d.TgZ(10,"mat-icon"),d._uU(11,"note_add"),d.qZA(),d._uU(12," Agregar una nueva Oferta "),d.qZA(),d.TgZ(13,"a",6),d.YNc(14,Ca,8,3,"ng-container",7),d.YNc(15,Ma,7,0,"ng-template",null,8,d.W1O),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(17,"mat-divider"),d.TgZ(18,"div",9),d.TgZ(19,"div",10),d.TgZ(20,"label",11),d._uU(21,"\xa0"),d.qZA(),d.TgZ(22,"mat-form-field",12),d.TgZ(23,"mat-icon",13),d._uU(24,"search"),d.qZA(),d.TgZ(25,"input",14),d.NdJ("ngModelChange",function(t){return e.filters._q=t})("keyup",function(){return e.applyFilter()}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(26,"div",10),d.TgZ(27,"label",15),d._uU(28,"Ordenar"),d.qZA(),d.TgZ(29,"mat-form-field",16),d.TgZ(30,"mat-select",17),d.NdJ("ngModelChange",function(t){return e.sort=t})("selectionChange",function(){return e.applyFilter()}),d.TgZ(31,"mat-option",18),d._uU(32,"M\xe1s recientes"),d.qZA(),d.TgZ(33,"mat-option",19),d._uU(34,"Mas antiguos"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(35,"div",10),d.TgZ(36,"label",20),d._uU(37,"Categor\xeda"),d.qZA(),d.TgZ(38,"mat-form-field",16),d.TgZ(39,"mat-select",21),d.NdJ("ngModelChange",function(t){return e.filters.main_category=t})("selectionChange",function(){return e.applyFilter()}),d.TgZ(40,"mat-option",22),d._uU(41,"Todas"),d.qZA(),d.YNc(42,Oa,2,2,"mat-option",23),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(43,"mat-divider"),d.TgZ(44,"div",24),d.TgZ(45,"div",25),d.TgZ(46,"mat-button-toggle-group",26),d.NdJ("ngModelChange",function(t){return e.filters.tab=t})("change",function(t){return e.tabChangue(t)}),d.TgZ(47,"mat-button-toggle",27),d._uU(48,"Activas"),d.qZA(),d.TgZ(49,"mat-button-toggle",28),d._uU(50,"Aceptadas"),d.qZA(),d.TgZ(51,"mat-button-toggle",29),d._uU(52,"Vencidas"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(53,"div",30),d.TgZ(54,"label",31),d._uU(55,"Acciones en lote"),d.qZA(),d.TgZ(56,"mat-form-field",32),d._UZ(57,"mat-select",33),d.qZA(),d.TgZ(58,"button",34),d.NdJ("click",function(){return e.bulkAction()}),d._uU(59,"Aplicar"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(60,"div",35),d.TgZ(61,"div",36),d.YNc(62,xa,6,5,"div",37),d._UZ(63,"mat-paginator",38),d.qZA(),d.YNc(64,va,11,1,"ng-container",39),d.qZA()),2&t){const t=d.MAs(16);d.xp6(9),d.Q6J("disabled",0==e.tickets.length),d.xp6(5),d.Q6J("ngIf",e.tickets.length>0)("ngIfElse",t),d.xp6(11),d.Q6J("ngModel",e.filters._q),d.xp6(5),d.Q6J("ngModel",e.sort),d.xp6(9),d.Q6J("ngModel",e.filters.main_category),d.xp6(1),d.Q6J("value",null),d.xp6(2),d.Q6J("ngForOf",e.categories),d.xp6(4),d.Q6J("ngModel",e.filters.tab),d.xp6(12),d.Q6J("disabled",e.selection.isEmpty()),d.xp6(3),d.Q6J("hidden",0===e.count),d.xp6(1),d.Q6J("ngForOf",e.dataSource.data),d.xp6(1),d.Q6J("length",e.dataSource.count)("pageSize",5)("pageSizeOptions",d.DdM(16,qa)),d.xp6(1),d.Q6J("ngIf",0===e.count)}},directives:[v.lW,r.rH,b.Hw,r.yS,o.O5,T.d,F.KE,F.qo,$.Nt,a.Fj,a.JJ,a.On,St.gD,w.ey,o.sg,Yt.A9,Yt.Yi,Qt.NW,E.oG,_a],pipes:[o.uU],styles:[".search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{display:block;width:130px;max-width:100%}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-name[_ngcontent-%COMP%]{width:330px}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-name[_ngcontent-%COMP%]  .mat-form-field-prefix{align-self:center}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-user[_ngcontent-%COMP%]{width:156px}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--app-amarillo-claro)}.actions-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.actions-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{line-height:40px}.product-list[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{padding:25px 15px;background:#97bcc566;border-radius:10px 0 0 10px}.product-list[_ngcontent-%COMP%]   .product-item[_ngcontent-%COMP%]   .check.selected[_ngcontent-%COMP%]{background:var(--app-amarillo-claro)}.tickets-notif[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:11px;line-height:13px;display:flex;align-items:center;text-align:center;color:#5a6a6f}.tickets-notif[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#00aad3}.add-new-msg[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:400;font-size:24px;line-height:29px;display:flex;align-items:center;text-align:center;color:#5a6a6f}"]}),t})();function Pa(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingresa un nombre para tu oferta."),d.qZA())}function Aa(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingresa un precio para tu oferta."),d.qZA())}function Ta(t,e){if(1&t&&(d.TgZ(0,"mat-option",32),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function wa(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Selecciona el area principal de tu servicio."),d.qZA())}function ya(t,e){if(1&t&&(d.TgZ(0,"mat-option",32),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function Ua(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Selecciona al menos un area secundaria."),d.qZA())}function Na(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingresa una descripcion de tu servicio."),d.qZA())}let ka=(()=>{class t{constructor(t,e,n){this.http=t,this.router=e,this.formBuilder=n,this.categories=[],this.sub_categories=[],this.wait=!1,this.formGroup=this.formBuilder.group({name:[null,[a.kI.required]],price:[null,[a.kI.required]],image:[null,[a.kI.required]],image_source:[null],main_category:[null,[a.kI.required]],categories:[null],description:[null,[a.kI.required]],check:[!1,[a.kI.requiredTrue]]})}ngOnInit(){this.loadCategories()}loadCategories(){let t=(new i.LE).append("depth",0).append("_sort","position:ASC");this.http.get(`${J.N.apiUrl}/categories`,{params:t}).subscribe(t=>{this.categories=t},t=>{})}categoryChange(t){var e,n;this.sub_categories=null===(e=this.categories.find(e=>e.id==t.value))||void 0===e?void 0:e.childrens,null===(n=this.formGroup.get("categories"))||void 0===n||n.patchValue(null)}onSubmit(){var t,e,n;if(this.formGroup.invalid)return console.log("form invalid"),void this.formGroup.markAllAsTouched();console.log("submit..."),this.wait=!0;const o=new FormData;let r=this.formGroup.getRawValue();delete r.image,delete r.image_source,o.append("data",JSON.stringify(r)),(null===(t=this.formGroup.get("image"))||void 0===t?void 0:t.value)&&o.append("files.image",null===(e=this.formGroup.get("image_source"))||void 0===e?void 0:e.value,null===(n=this.formGroup.get("image"))||void 0===n?void 0:n.value.split("\\").pop()),this.http.post(`${J.N.apiUrl}/offers`,o).subscribe(t=>{this.wait=!1,this.router.navigateByUrl("/proveedores/ofertas")},t=>{this.wait=!1,console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.F0),d.Y36(a.qu))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-oferta-create"]],decls:67,vars:11,consts:[[1,"container","mt-5"],["id","card-registro",1,"app-modal-shadow","p-0"],[1,"px-c","py-ct"],[1,"p-5"],[1,"offer-form","px-lg-5",3,"formGroup"],[1,"row","justify-content-between","gx-5","py-3"],[1,"col-xl-5"],[1,"row"],[1,"form-group","col"],["for","name",1,"form-label"],[1,"input-req"],["appearance","outline"],["matInput","","id","name","formControlName","name","placeholder","Ej. Remato 3 colchones"],[4,"ngIf"],["for","price",1,"form-label"],["matInput","","type","number","step","any","min","0","id","price","formControlName","price","placeholder","$0000"],[1,"form-group","col-auto"],["field","image","placeholder","Fotograf\xeda","hint","Jpg, Png","accept","image/png, image/jpeg","statusPosition","after","direction","row",3,"form","showPreview","showStatus"],["inset",""],[1,"row","gx-3","py-3"],[1,"form-label"],[1,"col-auto"],["id","main_category","formControlName","main_category","placeholder","Categor\xeda principal","disableOptionCentering","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","categories","formControlName","categories","placeholder","Categor\xedas secundarias","multiple","","disableOptionCentering",""],[1,"row","py-3"],["for","description",1,"form-label"],["matInput","","id","description","formControlName","description","rows","6","placeholder","Escribe aqu\xed las especificaciones de tu servicio"],[1,"checks-seccion","text-center"],["formControlName","check"],[1,"row","py-3","justify-content-center","btn-row"],["mat-flat-button","","color","accent",1,"btn-round","send-btn",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"mat-card",1),d.TgZ(2,"mat-card-title",2),d.TgZ(3,"h1"),d._uU(4,"Agrega una Oferta Rel\xe1mpago"),d.qZA(),d.TgZ(5,"p"),d._uU(6,"Da de alta la informaci\xf3n necesaria para que te encuentren clientes potenciales"),d.qZA(),d.qZA(),d.TgZ(7,"mat-card-content",3),d.TgZ(8,"form",4),d.TgZ(9,"div",5),d.TgZ(10,"div",6),d.TgZ(11,"div",7),d.TgZ(12,"div",8),d.TgZ(13,"label",9),d._uU(14,"Nombre de la oferta"),d.TgZ(15,"span",10),d._uU(16,"*"),d.qZA(),d.qZA(),d.TgZ(17,"mat-form-field",11),d._UZ(18,"input",12),d.YNc(19,Pa,2,0,"mat-error",13),d.qZA(),d.qZA(),d.qZA(),d.TgZ(20,"div",7),d.TgZ(21,"div",8),d.TgZ(22,"label",14),d._uU(23,"Precio"),d.TgZ(24,"span",10),d._uU(25,"*"),d.qZA(),d.qZA(),d.TgZ(26,"mat-form-field",11),d._UZ(27,"input",15),d.YNc(28,Aa,2,0,"mat-error",13),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(29,"div",16),d._UZ(30,"app-file-field",17),d.qZA(),d.qZA(),d._UZ(31,"mat-divider",18),d.TgZ(32,"div",19),d.TgZ(33,"div",8),d.TgZ(34,"label",20),d._uU(35,"\xc1rea principal"),d.TgZ(36,"span",10),d._uU(37,"*"),d.qZA(),d.qZA(),d.TgZ(38,"div",7),d.TgZ(39,"div",21),d.TgZ(40,"mat-form-field",11),d.TgZ(41,"mat-select",22),d.NdJ("selectionChange",function(t){return e.categoryChange(t)}),d.YNc(42,Ta,2,2,"mat-option",23),d.qZA(),d.YNc(43,wa,2,0,"mat-error",13),d.qZA(),d.qZA(),d.TgZ(44,"div",21),d.TgZ(45,"mat-form-field",11),d.TgZ(46,"mat-select",24),d.YNc(47,ya,2,2,"mat-option",23),d.qZA(),d.YNc(48,Ua,2,0,"mat-error",13),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(49,"mat-divider",18),d.TgZ(50,"div",25),d.TgZ(51,"div",8),d.TgZ(52,"label",26),d._uU(53,"A\xf1ade detalles"),d.TgZ(54,"span",10),d._uU(55,"*"),d.qZA(),d.qZA(),d.TgZ(56,"mat-form-field",11),d._UZ(57,"textarea",27),d.YNc(58,Na,2,0,"mat-error",13),d.qZA(),d.qZA(),d.qZA(),d.TgZ(59,"div",28),d.TgZ(60,"p"),d.TgZ(61,"mat-checkbox",29),d._uU(62,"Acepto recibir solicitudes de las empresas registradas en ExpHotel Hive interesadas en mi Oferta."),d.qZA(),d.qZA(),d.qZA(),d.TgZ(63,"div",30),d.TgZ(64,"div",21),d.TgZ(65,"button",31),d.NdJ("click",function(){return e.onSubmit()}),d._uU(66,"Agregar"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){let t,n,o,r,a;d.xp6(8),d.Q6J("formGroup",e.formGroup),d.xp6(11),d.Q6J("ngIf",null==(t=e.formGroup.get("name"))?null:t.hasError("required")),d.xp6(9),d.Q6J("ngIf",null==(n=e.formGroup.get("price"))?null:n.hasError("required")),d.xp6(2),d.Q6J("form",e.formGroup)("showPreview",!0)("showStatus",!0),d.xp6(12),d.Q6J("ngForOf",e.categories),d.xp6(1),d.Q6J("ngIf",null==(o=e.formGroup.get("main_category"))?null:o.hasError("required")),d.xp6(4),d.Q6J("ngForOf",e.sub_categories),d.xp6(1),d.Q6J("ngIf",null==(r=e.formGroup.get("categories"))?null:r.hasError("required")),d.xp6(10),d.Q6J("ngIf",null==(a=e.formGroup.get("name"))?null:a.hasError("required"))}},directives:[V.a8,V.n5,V.dn,a._Y,a.JL,a.sg,F.KE,$.Nt,a.Fj,a.JJ,a.u,o.O5,a.qQ,a.wV,ve.O,T.d,St.gD,o.sg,E.oG,v.lW,F.TO,w.ey],styles:["@media (min-width:992px){.container[_ngcontent-%COMP%]{max-width:calc(1000px + var(--bs-gutter-x,.75rem)*2)}}mat-card[_ngcontent-%COMP%]{border-radius:30px 30px 10px 10px;overflow:hidden}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{background:linear-gradient(#0000,#0000001a),url(banner-cotizador.e7a721bb5adf65f35df8.png);background-position:0;background-repeat:no-repeat;background-size:cover}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:24px;line-height:28px;display:flex;align-items:center;color:#fff}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-family:Roboto;font-style:normal;font-weight:400;font-size:14px;line-height:126.69%;color:#fff}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .btn-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .btn-row[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:only-child{margin-left:auto}.offer-form[_ngcontent-%COMP%]{margin-top:3em}.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:not(.text-center)   label[_ngcontent-%COMP%]{margin-left:.5em;margin-right:-1.6em}.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span.input-req[_ngcontent-%COMP%]{margin-left:.3em;color:var(--app-rojo)}.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   mat-icon.input-info[_ngcontent-%COMP%]{margin-left:.3em;width:auto;height:auto;font-size:15px;line-height:1em;vertical-align:middle;color:var(--app-cyan)}.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   app-file-field[_ngcontent-%COMP%]  .preview{width:145px!important;min-width:145px!important;height:145px!important;border-radius:10px!important}.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   app-file-field[_ngcontent-%COMP%]  .field{width:-webkit-fill-available}@media (min-width:1200px){.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   app-file-field[_ngcontent-%COMP%]  .field{width:140px}}.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   app-file-field[_ngcontent-%COMP%]  .status.order-last{margin-bottom:20px}.offer-form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--app-gris-muy-oscuro)}.offer-form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--app-cyan)}.offer-form[_ngcontent-%COMP%]   .btn-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:160px}"]}),t})();function Ja(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingresa un nombre para tu oferta."),d.qZA())}function Ia(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingresa un precio para tu oferta."),d.qZA())}function Qa(t,e){if(1&t&&(d.TgZ(0,"mat-option",31),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function Sa(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Selecciona el area principal de tu servicio."),d.qZA())}function Ya(t,e){if(1&t&&(d.TgZ(0,"mat-option",31),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function za(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Selecciona al menos un area secundaria."),d.qZA())}function Fa(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingresa una descripcion de tu servicio."),d.qZA())}function $a(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"form",5),d.TgZ(1,"div",6),d.TgZ(2,"div",7),d.TgZ(3,"div",8),d.TgZ(4,"div",9),d.TgZ(5,"label",10),d._uU(6,"Nombre de la oferta"),d.TgZ(7,"span",11),d._uU(8,"*"),d.qZA(),d.qZA(),d.TgZ(9,"mat-form-field",12),d._UZ(10,"input",13),d.YNc(11,Ja,2,0,"mat-error",14),d.qZA(),d.qZA(),d.qZA(),d.TgZ(12,"div",8),d.TgZ(13,"div",9),d.TgZ(14,"label",15),d._uU(15,"Precio"),d.TgZ(16,"span",11),d._uU(17,"*"),d.qZA(),d.qZA(),d.TgZ(18,"mat-form-field",12),d._UZ(19,"input",16),d.YNc(20,Ia,2,0,"mat-error",14),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(21,"div",17),d._UZ(22,"app-file-field",18),d.qZA(),d.qZA(),d._UZ(23,"mat-divider",19),d.TgZ(24,"div",20),d.TgZ(25,"div",9),d.TgZ(26,"label",21),d._uU(27,"\xc1rea principal"),d.TgZ(28,"span",11),d._uU(29,"*"),d.qZA(),d.qZA(),d.TgZ(30,"div",8),d.TgZ(31,"div",22),d.TgZ(32,"mat-form-field",12),d.TgZ(33,"mat-select",23),d.NdJ("selectionChange",function(e){return d.CHM(t),d.oxw().categoryChange(e)}),d.YNc(34,Qa,2,2,"mat-option",24),d.qZA(),d.YNc(35,Sa,2,0,"mat-error",14),d.qZA(),d.qZA(),d.TgZ(36,"div",22),d.TgZ(37,"mat-form-field",12),d.TgZ(38,"mat-select",25),d.YNc(39,Ya,2,2,"mat-option",24),d.qZA(),d.YNc(40,za,2,0,"mat-error",14),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(41,"mat-divider",19),d.TgZ(42,"div",26),d.TgZ(43,"div",9),d.TgZ(44,"label",27),d._uU(45,"A\xf1ade detalles"),d.TgZ(46,"span",11),d._uU(47,"*"),d.qZA(),d.qZA(),d.TgZ(48,"mat-form-field",12),d._UZ(49,"textarea",28),d.YNc(50,Fa,2,0,"mat-error",14),d.qZA(),d.qZA(),d.qZA(),d.TgZ(51,"div",29),d.TgZ(52,"div",22),d.TgZ(53,"button",30),d.NdJ("click",function(){return d.CHM(t),d.oxw().onSubmit()}),d._uU(54,"Guardar"),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=d.oxw();let e,n,o,r,a;d.Q6J("formGroup",t.formGroup),d.xp6(11),d.Q6J("ngIf",null==(e=t.formGroup.get("name"))?null:e.hasError("required")),d.xp6(9),d.Q6J("ngIf",null==(n=t.formGroup.get("price"))?null:n.hasError("required")),d.xp6(2),d.Q6J("form",t.formGroup)("showPreview",!0)("filePlaceholder",t.offer.image)("showStatus",!0),d.xp6(12),d.Q6J("ngForOf",t.categories),d.xp6(1),d.Q6J("ngIf",null==(o=t.formGroup.get("main_category"))?null:o.hasError("required")),d.xp6(4),d.Q6J("ngForOf",t.sub_categories),d.xp6(1),d.Q6J("ngIf",null==(r=t.formGroup.get("categories"))?null:r.hasError("required")),d.xp6(10),d.Q6J("ngIf",null==(a=t.formGroup.get("name"))?null:a.hasError("required"))}}let Ea=(()=>{class t{constructor(t,e,n,o,r,a){this.http=t,this.router=e,this.route=n,this.formBuilder=o,this.offersService=r,this.authenticationService=a,this.categories=[],this.sub_categories=[],this.wait=!1,this.route.paramMap.subscribe(t=>{this.id=t.get("id")}),this.currentUser=a.currentUserValue}ngOnInit(){this.loadOffer()}loadOffer(){this.offersService.findById(this.id).subscribe(t=>{this.offer=t,this.loadCategories(),this.initForm()})}loadCategories(){let t=(new i.LE).append("depth",0).append("_sort","position:ASC");this.http.get(`${J.N.apiUrl}/categories`,{params:t}).subscribe(t=>{this.categories=t;let e=this.categories.find(t=>{var e;return t.id==(null===(e=this.offer.main_category)||void 0===e?void 0:e.id)});e&&(this.sub_categories=e.childrens)},t=>{})}categoryChange(t){var e,n;this.sub_categories=null===(e=this.categories.find(e=>e.id==t.value))||void 0===e?void 0:e.childrens,null===(n=this.formGroup.get("categories"))||void 0===n||n.patchValue(null)}initForm(){var t,e;let n=null===(t=this.offer.categories)||void 0===t?void 0:t.map(t=>t.id);this.formGroup=this.formBuilder.group({name:[this.offer.name,[a.kI.required]],price:[this.offer.price,[a.kI.required]],image:[null],image_source:[null],main_category:[null===(e=this.offer.main_category)||void 0===e?void 0:e.id,[a.kI.required]],categories:[n],description:[this.offer.description,[a.kI.required]]})}onSubmit(){var t,e,n;if(this.formGroup.invalid)return console.log("form invalid"),void this.formGroup.markAllAsTouched();console.log("submit..."),this.wait=!0;const o=new FormData;let r=this.formGroup.getRawValue();delete r.image,delete r.image_source,o.append("data",JSON.stringify(r)),(null===(t=this.formGroup.get("image"))||void 0===t?void 0:t.value)&&o.append("files.image",null===(e=this.formGroup.get("image_source"))||void 0===e?void 0:e.value,null===(n=this.formGroup.get("image"))||void 0===n?void 0:n.value.split("\\").pop()),this.http.put(`${J.N.apiUrl}/offers/${this.id}`,o).subscribe(t=>{this.wait=!1,this.router.navigateByUrl("/proveedores/ofertas")},t=>{this.wait=!1,console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.F0),d.Y36(r.gz),d.Y36(a.qu),d.Y36(C.bJ),d.Y36(C.$h))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-oferta-update"]],decls:9,vars:1,consts:[[1,"container","mt-5"],["id","card-registro",1,"app-modal-shadow","p-0"],[1,"px-c","py-ct"],[1,"p-5"],["class","offer-form px-lg-5",3,"formGroup",4,"ngIf"],[1,"offer-form","px-lg-5",3,"formGroup"],[1,"row","justify-content-between","gx-5","py-3"],[1,"col-xl-5"],[1,"row"],[1,"form-group","col"],["for","name",1,"form-label"],[1,"input-req"],["appearance","outline"],["matInput","","id","name","formControlName","name","placeholder","Ej. Remato 3 colchones"],[4,"ngIf"],["for","price",1,"form-label"],["matInput","","type","number","step","any","min","0","id","price","formControlName","price","placeholder","$0000"],[1,"form-group","col-xl-auto"],["field","image","placeholder","Fotograf\xeda","hint","Jpg, Png","accept","image/png, image/jpeg","statusPosition","after","direction","row",3,"form","showPreview","filePlaceholder","showStatus"],["inset",""],[1,"row","gx-3","py-3"],[1,"form-label"],[1,"col-auto"],["id","main_category","formControlName","main_category","placeholder","Categor\xeda principal","disableOptionCentering","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","categories","formControlName","categories","placeholder","Categor\xedas secundarias","multiple","","disableOptionCentering",""],[1,"row","py-3"],["for","description",1,"form-label"],["matInput","","id","description","formControlName","description","rows","6","placeholder","Escribe aqu\xed las especificaciones de tu servicio"],[1,"row","py-3","justify-content-center","btn-row"],["mat-flat-button","","color","accent",1,"btn-round","send-btn",3,"click"],[3,"value"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"mat-card",1),d.TgZ(2,"mat-card-title",2),d.TgZ(3,"h1"),d._uU(4,"Editar Oferta"),d.qZA(),d.TgZ(5,"p"),d._uU(6,"Da de alta la informaci\xf3n necesaria para que te encuentren clientes potenciales"),d.qZA(),d.qZA(),d.TgZ(7,"mat-card-content",3),d.YNc(8,$a,55,12,"form",4),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(8),d.Q6J("ngIf",e.formGroup))},directives:[V.a8,V.n5,V.dn,o.O5,a._Y,a.JL,a.sg,F.KE,$.Nt,a.Fj,a.JJ,a.u,a.qQ,a.wV,ve.O,T.d,St.gD,o.sg,v.lW,F.TO,w.ey],styles:["@media (min-width:992px){.container[_ngcontent-%COMP%]{max-width:calc(1000px + var(--bs-gutter-x,.75rem)*2)}}mat-card[_ngcontent-%COMP%]{border-radius:30px 30px 10px 10px;overflow:hidden}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{background:linear-gradient(#0000,#0000001a),url(banner-cotizador.e7a721bb5adf65f35df8.png);background-position:0;background-repeat:no-repeat;background-size:cover}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:500;font-size:24px;line-height:28px;display:flex;align-items:center;color:#fff}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-family:Roboto;font-style:normal;font-weight:400;font-size:14px;line-height:126.69%;color:#fff}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .btn-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .btn-row[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:only-child{margin-left:auto}.offer-form[_ngcontent-%COMP%]{margin-top:3em}.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:not(.text-center)   label[_ngcontent-%COMP%]{margin-left:.5em;margin-right:-1.6em}.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span.input-req[_ngcontent-%COMP%]{margin-left:.3em;color:var(--app-rojo)}.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   mat-icon.input-info[_ngcontent-%COMP%]{margin-left:.3em;width:auto;height:auto;font-size:15px;line-height:1em;vertical-align:middle;color:var(--app-cyan)}.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   app-file-field[_ngcontent-%COMP%]  .preview{width:145px!important;min-width:145px!important;height:145px!important;border-radius:10px!important}.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   app-file-field[_ngcontent-%COMP%]  .field{width:-webkit-fill-available}@media (min-width:1200px){.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   app-file-field[_ngcontent-%COMP%]  .field{width:140px}}.offer-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   app-file-field[_ngcontent-%COMP%]  .status.order-last{margin-bottom:20px}.offer-form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--app-gris-muy-oscuro)}.offer-form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--app-cyan)}.offer-form[_ngcontent-%COMP%]   .btn-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:160px}"]}),t})();function Da(t,e){if(1&t&&(d.ynx(0),d._UZ(1,"img",19),d.BQk()),2&t){const t=d.oxw(2);d.xp6(1),d.Q6J("src",t.publicUrl(t.offer.image.url),d.LSH)}}function ja(t,e){if(1&t&&d._UZ(0,"img",19),2&t){const t=d.oxw(2);d.Q6J("src",t.assetUrl("assets/image-placeholder.png"),d.LSH)}}function Ba(t,e){if(1&t&&(d.TgZ(0,"mat-chip",24,25),d._uU(2),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id)("selectable",!1),d.xp6(2),d.Oqu(t.name)}}function La(t,e){if(1&t&&(d.TgZ(0,"div",20),d.TgZ(1,"h4",21),d._uU(2,"M\xe9todos de pago"),d.qZA(),d.TgZ(3,"mat-chip-list",22),d.YNc(4,Ba,3,3,"mat-chip",23),d.qZA(),d.qZA()),2&t){const t=d.oxw(2);d.xp6(4),d.Q6J("ngForOf",t.supplier.payment_methods)}}function Ga(t,e){if(1&t&&(d.TgZ(0,"mat-chip",24,25),d._uU(2),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id)("selectable",!1),d.xp6(2),d.Oqu(t.name)}}function Ha(t,e){if(1&t&&(d.TgZ(0,"div",26),d.TgZ(1,"h4",21),d._uU(2,"Plazos de pago"),d.qZA(),d.TgZ(3,"mat-chip-list",22),d.YNc(4,Ga,3,3,"mat-chip",23),d.qZA(),d.qZA()),2&t){const t=d.oxw(2);d.xp6(4),d.Q6J("ngForOf",t.supplier.payment_terms)}}function Ra(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"div",1),d.TgZ(1,"div",2),d.TgZ(2,"div",3),d.TgZ(3,"a",4),d.NdJ("click",function(){return d.CHM(t),d.oxw().back()}),d.TgZ(4,"mat-icon"),d._uU(5,"arrow_back_ios"),d.qZA(),d._uU(6," Mis Ofertas "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(7,"mat-card",5),d.TgZ(8,"mat-card-content"),d.TgZ(9,"div",6),d.TgZ(10,"div",7),d.YNc(11,Da,2,1,"ng-container",8),d.YNc(12,ja,1,1,"ng-template",null,9,d.W1O),d.qZA(),d.TgZ(14,"div",10),d.TgZ(15,"div",11),d.TgZ(16,"div",12),d.TgZ(17,"h1",13),d._uU(18),d.qZA(),d.qZA(),d._UZ(19,"div",14),d.qZA(),d.TgZ(20,"div",15),d.TgZ(21,"h4"),d._uU(22,"Descripci\xf3n"),d.qZA(),d.TgZ(23,"p"),d._uU(24),d.qZA(),d.qZA(),d._UZ(25,"mat-divider",16),d.YNc(26,La,5,1,"div",17),d.YNc(27,Ha,5,1,"div",18),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=d.MAs(13),e=d.oxw();d.xp6(11),d.Q6J("ngIf",e.offer.image)("ngIfElse",t),d.xp6(7),d.Oqu(e.offer.name),d.xp6(6),d.Oqu(e.offer.description),d.xp6(2),d.Q6J("ngIf",e.supplier),d.xp6(1),d.Q6J("ngIf",e.supplier)}}let Va=(()=>{class t{constructor(t,e,n,o){this.http=t,this.route=e,this.location=n,this.offersService=o,this.route.paramMap.subscribe(t=>{this.id=t.get("id")})}ngOnInit(){this.loadService()}loadService(){this.offersService.findById(this.id).subscribe(t=>{this.offer=t,this.loadSupplier()})}loadSupplier(){var t;this.http.get(`${J.N.apiUrl}/suppliers/${null===(t=this.offer.supplier)||void 0===t?void 0:t.id}`).subscribe(t=>{this.supplier=t})}publicUrl(t){return`${J.N.apiUrl}${t}`}assetUrl(t){return`${J.N.basehref}${t}`}back(){this.location.back()}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.gz),d.Y36(o.Ye),d.Y36(C.bJ))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-oferta-detalles"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row","align-items-center","pt-4","pb-2","px-2","header-row"],[1,"col-auto"],["mat-button","",1,"back-link","breadcrumbs",3,"click"],[1,"mt-4"],[1,"row","flex-column","flex-md-row","justify-content-center"],[1,"col-auto","image-cont","pb-3","pb-md-0"],[4,"ngIf","ngIfElse"],["placeholder",""],[1,"col","detalles-cont"],[1,"row","pb-2"],[1,"col-auto","me-auto","pt-5"],[1,"titulo"],[1,"col-auto","actions"],[1,"descripcion-larga"],["inset","",1,"mb-3"],["class","pm-row mb-3",4,"ngIf"],["class","pm-row",4,"ngIf"],[3,"src"],[1,"pm-row","mb-3"],[1,"row-title"],[1,"payment-options"],["selected","",3,"value","selectable",4,"ngFor","ngForOf"],["selected","",3,"value","selectable"],["c","matChip"],[1,"pm-row"]],template:function(t,e){1&t&&d.YNc(0,Ra,28,6,"div",0),2&t&&d.Q6J("ngIf",e.offer)},directives:[o.O5,v.zs,b.Hw,V.a8,V.dn,T.d,D.qn,o.sg,D.HS],styles:[".back-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--app-amarillo-claro)}.breadcrumbs[_ngcontent-%COMP%]{margin-bottom:.5em;font-family:Montserrat;font-style:normal;font-weight:600;font-size:14px;line-height:17px;color:#00aad3}mat-card[_ngcontent-%COMP%]{box-shadow:0 5px 5px #4094ab3d!important;border-radius:17px}mat-card[_ngcontent-%COMP%]   .image-cont[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]   .image-cont[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:270px;max-height:280px;object-fit:cover;border-radius:18px}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{text-align:right}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;font-family:Montserrat;font-style:normal;font-weight:700;font-size:13px;line-height:16px;color:#5a6a6f}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .fav-btn[_ngcontent-%COMP%]:not(.isfav)   mat-icon[_ngcontent-%COMP%]{color:#c4c4c4!important}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{margin-bottom:.5em;font-family:Montserrat;font-style:normal;font-weight:700;font-size:18px;line-height:22px;color:#062ebd}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .marca[_ngcontent-%COMP%]{margin-bottom:.5em;font-family:Montserrat;font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:#dfbf03}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .descripcion-larga[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:14px;line-height:17px;color:#5a6a6f}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .descripcion-larga[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:12px;line-height:15px;color:#999d9e}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .pm-row[_ngcontent-%COMP%]   h4.row-title[_ngcontent-%COMP%]{margin-bottom:.75em;font-family:Montserrat;font-style:normal;font-weight:700;font-size:11px;line-height:13px;color:#5a6a6f}"]}),t})();var Xa=n(3914);function Wa(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingresa cantidad."),d.qZA())}function Ka(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Minimo 1 pt."),d.qZA())}function ti(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"No tienes puntos suficientes."),d.qZA())}function ei(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingresa cantidad."),d.qZA())}function ni(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Minimo 1 pt."),d.qZA())}let oi=(()=>{class t{constructor(t,e,n,o){this.http=t,this.formBuilder=e,this.alert=n,this.authenticationService=o,this.points=0,this.wait=!1,this.token="",this.paymentcard="",this.test={data:[{card:{brand:"",last4:""}}]},this.currentUser=this.authenticationService.currentUserValue}ngOnInit(){this.getPoints(),this.getConfig(),this.initForms()}cargoprueba(){this.http.get(`${J.N.apiUrl}/suppliers/buy-points`).subscribe(t=>{this.points=t},t=>{})}cargoprueba2(){this.http.get(`${J.N.apiUrl}/suppliers/remove-paymentmethod`).subscribe(t=>{this.points=t},t=>{})}changeCard(t){this.paymentcard=t}initForms(){this.exchangeForm=this.formBuilder.group({qty:[1,[a.kI.required]],check:[!1,[a.kI.requiredTrue]]}),this.purchaseForm=this.formBuilder.group({qty:[1,[a.kI.required]],check:[!1,[a.kI.requiredTrue]]})}getPoints(){this.http.get(`${J.N.apiUrl}/suppliers/avalible-points`).subscribe(t=>{this.points=t},t=>{})}getConfig(){this.http.get(`${J.N.apiUrl}/configs/ticket-exchange-price`).subscribe(t=>{this.ticket_exchangue_price=Number(t.value)}),this.http.get(`${J.N.apiUrl}/configs/ticket-purchase-price`).subscribe(t=>{this.ticket_purchase_price=Number(t.value)})}onExchangue(){var t;if(this.exchangeForm.invalid)return console.log("form invalid"),void this.exchangeForm.markAllAsTouched();let e=null===(t=this.exchangeForm.get("qty"))||void 0===t?void 0:t.value;this.alert.open({title:"\xbfEst\xe1s seguro de realizar esta compra?",text:`Utiliz\xe1ras ${e*this.ticket_exchangue_price} puntos en la compra de ${e} ticket(s).`}).then(t=>{if(t){let t=this.exchangeForm.getRawValue();delete t.check,this.wait=!0,this.http.post(`${J.N.apiUrl}/offer-tickets/exchange`,t).subscribe(t=>{console.log(t),this.wait=!1,this.initForms(),this.points=t.points},t=>{this.wait=!1})}})}onPurchase(){var t;if(this.purchaseForm.invalid)return console.log("form invalid"),void this.purchaseForm.markAllAsTouched();let e=null===(t=this.purchaseForm.get("qty"))||void 0===t?void 0:t.value,n=e*this.ticket_purchase_price;this.alert.open({title:"\xbfEst\xe1s seguro de realizar esta compra?",text:`Pagaras $ ${n} MXN. por ${e} ticket(s).`}).then(t=>{if(t){let t=this.purchaseForm.getRawValue();delete t.check,t.paymentcard=this.paymentcard,this.wait=!0,this.http.post(`${J.N.apiUrl}/offer-tickets/purchase`,t).subscribe(t=>{console.log(t),this.wait=!1,this.initForms(),this.alert.open({title:"\xa1Pago exitoso!",text:`Se han cobrado ${n} MXN. por ${e} ticket(s).`})},t=>{this.wait=!1})}})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(a.qu),d.Y36(C.c9),d.Y36(C.$h))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-puntos"]],decls:69,vars:15,consts:[[1,"container","pt-5","px-md-5"],[1,"row","justify-content-evenly","align-items-center","mb-4"],[1,"col-auto","page-title"],[1,"points-card","px-4"],[1,"row","g-0","align-items-center"],[1,"col-6","points"],[1,"col-6","ps-2"],[1,"container","px-md-5"],[1,"exchange-form","py-4","px-lg-5","text-center",3,"formGroup"],[1,"row","justify-content-center","align-items-center","py-4"],[1,"col-auto","form-group","qty-group"],["appearance","outline"],["matInput","","type","number","step","1","id","qty","formControlName","qty","placeholder","0",3,"min","max"],[4,"ngIf"],["for","qty",1,"ms-3"],[1,"col-auto","unit-price"],[1,"checks-seccion","text-center"],["formControlName","check"],[1,"row","py-3","justify-content-center","btn-row"],[1,"col-auto"],["mat-flat-button","","color","accent",1,"btn-round",3,"disabled","click"],["matInput","","type","number","step","1","id","qty","formControlName","qty","placeholder","0",3,"min"],[3,"selectCard"]],template:function(t,e){if(1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h1"),d._uU(4,"Puntos Hive"),d.qZA(),d.TgZ(5,"p"),d._uU(6,"Consulta y canjea tus puntos de fidelidad"),d.qZA(),d.qZA(),d.TgZ(7,"mat-card",3),d.TgZ(8,"div",4),d.TgZ(9,"div",5),d._uU(10),d.qZA(),d.TgZ(11,"div",6),d._uU(12,"Puntos Disponibles"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(13,"mat-divider"),d.qZA(),d.TgZ(14,"div",7),d.TgZ(15,"form",8),d.TgZ(16,"h5"),d._uU(17,"Canjea tus puntos"),d.qZA(),d.TgZ(18,"p"),d._uU(19,"Selecciona la opci\xf3n por la que quieras canjear tus puntos"),d.qZA(),d.TgZ(20,"div",9),d.TgZ(21,"div",10),d.TgZ(22,"mat-form-field",11),d._UZ(23,"input",12),d.YNc(24,Wa,2,0,"mat-error",13),d.YNc(25,Ka,2,0,"mat-error",13),d.YNc(26,ti,2,0,"mat-error",13),d.qZA(),d.TgZ(27,"label",14),d._uU(28,"Oferta Rel\xe1mpago"),d.qZA(),d.qZA(),d.TgZ(29,"div",15),d.TgZ(30,"span"),d._uU(31),d.qZA(),d._uU(32," pt"),d.qZA(),d.qZA(),d.TgZ(33,"div",16),d.TgZ(34,"p"),d.TgZ(35,"mat-checkbox",17),d._uU(36,"Al dar click en canjear aceptas el intercambio de tus puntos por la oferta seleccionada, no es reembolsable."),d.qZA(),d.qZA(),d.qZA(),d.TgZ(37,"div",18),d.TgZ(38,"div",19),d.TgZ(39,"button",20),d.NdJ("click",function(){return e.onExchangue()}),d._uU(40,"Canjear"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(41,"mat-divider"),d.qZA(),d.TgZ(42,"div",7),d.TgZ(43,"form",8),d.TgZ(44,"h5"),d._uU(45,"Comprar oferta"),d.qZA(),d.TgZ(46,"p"),d._uU(47,"Puedes comprar todas las ofertas que necesites"),d.qZA(),d.TgZ(48,"div",9),d.TgZ(49,"div",10),d.TgZ(50,"mat-form-field",11),d._UZ(51,"input",21),d.YNc(52,ei,2,0,"mat-error",13),d.YNc(53,ni,2,0,"mat-error",13),d.qZA(),d.TgZ(54,"label",14),d._uU(55,"Oferta Rel\xe1mpago"),d.qZA(),d.qZA(),d.TgZ(56,"div",15),d.TgZ(57,"span"),d._uU(58),d.qZA(),d.qZA(),d.qZA(),d.TgZ(59,"app-stripe-card",22),d.NdJ("selectCard",function(t){return e.changeCard(t)}),d.qZA(),d._UZ(60,"hr"),d.TgZ(61,"div",16),d.TgZ(62,"p"),d.TgZ(63,"mat-checkbox",17),d._uU(64,"Al dar click en comprar aceptas la compra de la oferta seleccionada, no es reembolsable."),d.qZA(),d.qZA(),d.qZA(),d.TgZ(65,"div",18),d.TgZ(66,"div",19),d.TgZ(67,"button",20),d.NdJ("click",function(){return e.onPurchase()}),d._uU(68,"Comprar"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){let t,n,o,r,a;d.xp6(10),d.Oqu(e.points),d.xp6(5),d.Q6J("formGroup",e.exchangeForm),d.xp6(8),d.Q6J("min",1)("max",e.points/e.ticket_exchangue_price),d.xp6(1),d.Q6J("ngIf",null==(t=e.exchangeForm.get("qty"))?null:t.hasError("required")),d.xp6(1),d.Q6J("ngIf",null==(n=e.exchangeForm.get("qty"))?null:n.hasError("min")),d.xp6(1),d.Q6J("ngIf",null==(o=e.exchangeForm.get("qty"))?null:o.hasError("max")),d.xp6(5),d.Oqu(e.ticket_exchangue_price||"-"),d.xp6(8),d.Q6J("disabled",e.exchangeForm.invalid),d.xp6(4),d.Q6J("formGroup",e.purchaseForm),d.xp6(8),d.Q6J("min",1),d.xp6(1),d.Q6J("ngIf",null==(r=e.purchaseForm.get("qty"))?null:r.hasError("required")),d.xp6(1),d.Q6J("ngIf",null==(a=e.purchaseForm.get("qty"))?null:a.hasError("min")),d.xp6(5),d.hij("$",e.purchaseForm.value.qty*e.ticket_purchase_price,""),d.xp6(9),d.Q6J("disabled",e.purchaseForm.invalid)}},directives:[V.a8,T.d,a._Y,a.JL,a.sg,F.KE,$.Nt,a.wV,a.qQ,a.Fd,a.Fj,a.JJ,a.u,o.O5,E.oG,v.lW,Xa.p,F.TO],styles:[".points-card[_ngcontent-%COMP%]{width:230px;background:#fff;box-shadow:0 5px 5px #4094ab3d;border-radius:31px;font-family:Montserrat;font-style:normal;font-weight:600;font-size:14px;line-height:17px;color:#5a6a6f}.points-card[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{font-weight:800;font-size:36px;line-height:44px;text-align:right;color:#00aad3}.exchange-form[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;font-size:18px;line-height:22px;color:#00aad3}.exchange-form[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .exchange-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;text-align:center}.exchange-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:17px;color:#5a6a6f}.exchange-form[_ngcontent-%COMP%]   .qty-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:87px}.exchange-form[_ngcontent-%COMP%]   .qty-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:13px;line-height:16px;color:#5a6a6f}.exchange-form[_ngcontent-%COMP%]   .unit-price[_ngcontent-%COMP%]{padding-bottom:1em;font-family:Montserrat;font-style:normal;font-weight:700;font-size:18px;line-height:22px;color:#00aad3}.exchange-form[_ngcontent-%COMP%]   .unit-price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:36px;line-height:44px}.exchange-form[_ngcontent-%COMP%]   .btn-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:160px}"]}),t})();var ri=n(9347);function ai(t,e){if(1&t&&(d.TgZ(0,"mat-chip",47,48),d._uU(2),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id)("selectable",!1),d.xp6(2),d.Oqu(t.name)}}function ii(t,e){if(1&t&&(d.TgZ(0,"mat-chip",47,48),d._uU(2),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id)("selectable",!1),d.xp6(2),d.Oqu(t.name)}}function ci(t,e){1&t&&(d.ynx(0),d._uU(1,"Gratis"),d.BQk())}function li(t,e){if(1&t&&(d.ynx(0),d._uU(1),d.ALo(2,"currency"),d.BQk()),2&t){const t=d.oxw(2);d.xp6(1),d.Oqu(d.lcZ(2,1,t.profile.price.price))}}function si(t,e){if(1&t&&(d.TgZ(0,"mat-list-item",49),d.TgZ(1,"mat-icon",50),d._uU(2,"check_circle"),d.qZA(),d._uU(3),d.qZA()),2&t){const t=e.$implicit;d.Q6J("hidden",t.target&&"supplier"!=t.target),d.xp6(3),d.hij("",t.description," ")}}function gi(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"mat-card",11),d.TgZ(1,"mat-card-content"),d.TgZ(2,"div",12),d.TgZ(3,"div",13),d.TgZ(4,"div",14),d.TgZ(5,"div",15),d._UZ(6,"img",16),d.qZA(),d.TgZ(7,"div",17),d.TgZ(8,"h2",18),d._uU(9),d.qZA(),d.TgZ(10,"h1",19),d._uU(11),d.qZA(),d.TgZ(12,"div",20),d._UZ(13,"ngx-stars",21),d.TgZ(14,"span"),d._uU(15),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(16,"mat-divider",22),d.TgZ(17,"div",23),d.TgZ(18,"div",24),d.TgZ(19,"h4",25),d._uU(20,"M\xe9todos de pago"),d.qZA(),d.TgZ(21,"mat-chip-list",26),d.YNc(22,ai,3,3,"mat-chip",27),d.qZA(),d.qZA(),d.TgZ(23,"div",28),d.TgZ(24,"h4",25),d._uU(25,"Plazos de pago"),d.qZA(),d.TgZ(26,"mat-chip-list",26),d.YNc(27,ii,3,3,"mat-chip",27),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(28,"mat-divider",29),d.TgZ(29,"div",30),d.TgZ(30,"div",31),d._UZ(31,"mat-icon",32),d.TgZ(32,"span",33),d._uU(33),d.qZA(),d.TgZ(34,"label"),d._uU(35,"Cotizaciones Solicitadas"),d.qZA(),d.qZA(),d.TgZ(36,"div",31),d._UZ(37,"mat-icon",34),d.TgZ(38,"span",33),d._uU(39),d.qZA(),d.TgZ(40,"label"),d._uU(41,"Cotizaciones Aceptadas"),d.qZA(),d.qZA(),d.TgZ(42,"div",31),d._UZ(43,"mat-icon",35),d.TgZ(44,"span",33),d._uU(45),d.qZA(),d.TgZ(46,"label"),d._uU(47,"Cotizaciones Descartadas"),d.qZA(),d.qZA(),d.TgZ(48,"div",8),d.TgZ(49,"button",36),d.NdJ("click",function(){return d.CHM(t),d.oxw().exportReport()}),d.TgZ(50,"mat-icon"),d._uU(51,"download"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(52,"mat-divider",29),d.TgZ(53,"div",37),d.TgZ(54,"div",38),d.TgZ(55,"h5",39),d._uU(56),d.qZA(),d.TgZ(57,"h4",40),d.YNc(58,ci,2,0,"ng-container",41),d.YNc(59,li,3,3,"ng-container",41),d.qZA(),d.TgZ(60,"p",42),d._uU(61),d.ALo(62,"date"),d.qZA(),d.qZA(),d.TgZ(63,"mat-list",43),d.YNc(64,si,4,2,"mat-list-item",44),d.qZA(),d.TgZ(65,"div",45),d.TgZ(66,"button",46),d._uU(67,"Modificar Plan"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=d.oxw();d.xp6(6),d.Q6J("src",t.profile.profile_picture?t.publicUrl(t.profile.profile_picture.url):t.assetUrl("assets/image-placeholder-2.png"),d.LSH),d.xp6(3),d.Oqu(null==t.profile.main_category?null:t.profile.main_category.name),d.xp6(2),d.Oqu(t.profile.name),d.xp6(2),d.Q6J("color","#DFBF03")("initialStars",t.profile.rating)("size",1)("maxStars",5)("customStarIcons",t.matStars)("readonly",!0),d.xp6(2),d.hij("",t.profile.rating_count||"-"," Cotizaciones"),d.xp6(1),d.Q6J("vertical",!0),d.xp6(6),d.Q6J("ngForOf",null==t.profile?null:t.profile.payment_methods),d.xp6(5),d.Q6J("ngForOf",null==t.profile?null:t.profile.payment_terms),d.xp6(6),d.Oqu(null!=t.requested?t.requested:"-"),d.xp6(6),d.Oqu(null!=t.accepted?t.accepted:"-"),d.xp6(6),d.Oqu(null!=t.rejected?t.rejected:"-"),d.xp6(11),d.Oqu(null==t.profile.plan?null:t.profile.plan.name),d.xp6(2),d.Q6J("ngIf",0==(null==t.profile.price?null:t.profile.price.price)),d.xp6(1),d.Q6J("ngIf",t.profile.price&&t.profile.price.price>0),d.xp6(2),d.hij("Suscrito hasta el ",d.xi3(62,22,t.profile.current_period_end,"dd/MM/yyyy"),""),d.xp6(3),d.Q6J("ngForOf",t.profile.plan.perks),d.xp6(2),d.Q6J("disabled","administrator"!=(null==t.currentUser||null==t.currentUser.role?null:t.currentUser.role.type))}}function ui(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese nombre de usuario."),d.qZA())}function di(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Nombre de usuario invalido."),d.qZA())}function pi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Nombre de usuario no disponible."),d.qZA())}function mi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Error de conexion al servidor."),d.qZA())}function fi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese direccion de correo electronico."),d.qZA())}function hi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese direccion de correo electronico valida."),d.qZA())}function _i(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Direccion de correo electronico no disponible."),d.qZA())}function Zi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Confirmar direccion de correo electronico."),d.qZA())}function Ci(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese direccion de correo electronico valida."),d.qZA())}function Mi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Direcciones de correo electronico no coinciden."),d.qZA())}function Oi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese contrase\xf1a."),d.qZA())}function xi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Contrase\xf1a muy corta, ingrese al menos 6 caracteres."),d.qZA())}function vi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Confirmar contrase\xf1a."),d.qZA())}function qi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Las contrase\xf1as no coinciden."),d.qZA())}function bi(t,e){if(1&t&&(d.TgZ(0,"section",74),d.TgZ(1,"div",75),d.TgZ(2,"div",35),d.TgZ(3,"label",76),d._uU(4," Nombre de Usuario"),d.TgZ(5,"span",15),d._uU(6,"*"),d.qZA(),d.TgZ(7,"mat-icon",77),d._uU(8,"info"),d.qZA(),d.qZA(),d.TgZ(9,"mat-form-field",18),d._UZ(10,"input",78),d.YNc(11,ui,2,0,"mat-error",11),d.YNc(12,di,2,0,"mat-error",11),d.YNc(13,pi,2,0,"mat-error",11),d.YNc(14,mi,2,0,"mat-error",11),d.qZA(),d.qZA(),d.qZA(),d.TgZ(15,"div",75),d.TgZ(16,"div",35),d.TgZ(17,"label",79),d._uU(18,"Correo electr\xf3nico"),d.TgZ(19,"span",15),d._uU(20,"*"),d.qZA(),d.qZA(),d.TgZ(21,"mat-form-field",18),d._UZ(22,"input",80),d.YNc(23,fi,2,0,"mat-error",11),d.YNc(24,hi,2,0,"mat-error",11),d.YNc(25,_i,2,0,"mat-error",11),d.qZA(),d.qZA(),d.TgZ(26,"div",35),d.TgZ(27,"label",81),d._uU(28,"Confirmar Correo electr\xf3nico"),d.TgZ(29,"span",15),d._uU(30,"*"),d.qZA(),d.qZA(),d.TgZ(31,"mat-form-field",18),d._UZ(32,"input",82),d.YNc(33,Zi,2,0,"mat-error",11),d.YNc(34,Ci,2,0,"mat-error",11),d.YNc(35,Mi,2,0,"mat-error",11),d.qZA(),d.qZA(),d.qZA(),d.TgZ(36,"div",75),d.TgZ(37,"div",35),d.TgZ(38,"label",83),d._uU(39,"Contrase\xf1a"),d.TgZ(40,"span",15),d._uU(41,"*"),d.qZA(),d.qZA(),d.TgZ(42,"mat-form-field",18),d._UZ(43,"input",84),d.YNc(44,Oi,2,0,"mat-error",11),d.YNc(45,xi,2,0,"mat-error",11),d.qZA(),d.qZA(),d.TgZ(46,"div",35),d.TgZ(47,"label",85),d._uU(48,"Confirmar Contrase\xf1a"),d.TgZ(49,"span",15),d._uU(50,"*"),d.qZA(),d.qZA(),d.TgZ(51,"mat-form-field",18),d._UZ(52,"input",86),d.YNc(53,vi,2,0,"mat-error",11),d.YNc(54,qi,2,0,"mat-error",11),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){const t=d.oxw(2);let e,n,o,r,a,i,c,l,s,g,u,p,m,f;d.Q6J("formGroup",t.userGroup),d.xp6(11),d.Q6J("ngIf",null==(e=t.userGroup.get("username"))?null:e.hasError("required")),d.xp6(1),d.Q6J("ngIf",null==(n=t.userGroup.get("username"))?null:n.hasError("pattern")),d.xp6(1),d.Q6J("ngIf",null==(o=t.userGroup.get("username"))?null:o.hasError("unique")),d.xp6(1),d.Q6J("ngIf",null==(r=t.userGroup.get("username"))?null:r.hasError("connection")),d.xp6(9),d.Q6J("ngIf",null==(a=t.userGroup.get("email"))?null:a.hasError("required")),d.xp6(1),d.Q6J("ngIf",(null==(i=t.userGroup.get("email"))?null:i.hasError("email"))||(null==(i=t.userGroup.get("email"))?null:i.hasError("pattern"))),d.xp6(1),d.Q6J("ngIf",null==(c=t.userGroup.get("email"))?null:c.hasError("unique")),d.xp6(8),d.Q6J("ngIf",null==(l=t.userGroup.get("re_email"))?null:l.hasError("required")),d.xp6(1),d.Q6J("ngIf",null==(s=t.userGroup.get("re_email"))?null:s.hasError("email")),d.xp6(1),d.Q6J("ngIf",null==(g=t.userGroup.get("re_email"))?null:g.hasError("mustMatch")),d.xp6(9),d.Q6J("ngIf",null==(u=t.userGroup.get("password"))?null:u.hasError("required")),d.xp6(1),d.Q6J("ngIf",null==(p=t.userGroup.get("password"))?null:p.hasError("minlength")),d.xp6(8),d.Q6J("ngIf",null==(m=t.userGroup.get("re_password"))?null:m.hasError("required")),d.xp6(1),d.Q6J("ngIf",null==(f=t.userGroup.get("re_password"))?null:f.hasError("mustMatch"))}}function Pi(t,e){1&t&&d._UZ(0,"mat-divider")}function Ai(t,e){if(1&t&&(d.TgZ(0,"mat-option",87),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function Ti(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Seleccione el area principal de su empresa."),d.qZA())}function wi(t,e){if(1&t&&(d.TgZ(0,"mat-option",87),d._uU(1),d.qZA()),2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(1),d.Oqu(t.name)}}function yi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Seleccione al menos un area secundaria."),d.qZA())}function Ui(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"mat-chip",88,89),d.NdJ("click",function(){d.CHM(t);const e=d.MAs(1);return d.oxw(2).toggleSelection(e)}),d._uU(2),d.qZA()}if(2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(2),d.Oqu(t.name)}}function Ni(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Seleccione al menos un m\xe9todo de pago."),d.qZA())}function ki(t,e){if(1&t&&(d.TgZ(0,"div"),d.YNc(1,Ni,2,0,"mat-error",11),d.qZA()),2&t){const t=d.oxw(2);let e;d.xp6(1),d.Q6J("ngIf",null==(e=t.formGroup.get("payment_methods"))?null:e.hasError("required"))}}function Ji(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"mat-chip",88,89),d.NdJ("click",function(){d.CHM(t);const e=d.MAs(1);return d.oxw(2).toggleSelection(e)}),d._uU(2),d.qZA()}if(2&t){const t=e.$implicit;d.Q6J("value",t.id),d.xp6(2),d.Oqu(t.name)}}function Ii(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Seleccione al menos un plazo de pago."),d.qZA())}function Qi(t,e){if(1&t&&(d.TgZ(0,"div"),d.YNc(1,Ii,2,0,"mat-error",11),d.qZA()),2&t){const t=d.oxw(2);let e;d.xp6(1),d.Q6J("ngIf",null==(e=t.formGroup.get("payment_terms"))?null:e.hasError("required"))}}function Si(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Agregue una descripci\xf3n corta de su empresa."),d.qZA())}function Yi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Agregue una descripci\xf3n de su empresa."),d.qZA())}function zi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese nombre comercial de su empresa."),d.qZA())}function Fi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese RFC."),d.qZA())}function $i(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese nombre del representate."),d.qZA())}function Ei(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese raz\xf3n social."),d.qZA())}function Di(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese calle y numero."),d.qZA())}function ji(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese numero interior."),d.qZA())}function Bi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese codigo postal."),d.qZA())}function Li(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese pa\xeds."),d.qZA())}function Gi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese estado."),d.qZA())}function Hi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese ciudad."),d.qZA())}function Ri(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese municipio."),d.qZA())}function Vi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese colonia."),d.qZA())}function Xi(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Ingrese tel\xe9fono"),d.qZA())}function Wi(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"div",5),d.TgZ(1,"form",6),d.TgZ(2,"div",7),d.TgZ(3,"div",8),d._UZ(4,"app-file-field",9),d.qZA(),d.qZA(),d._UZ(5,"mat-divider"),d.YNc(6,bi,55,15,"section",10),d.YNc(7,Pi,1,0,"mat-divider",11),d.TgZ(8,"div",12),d.TgZ(9,"div",13),d.TgZ(10,"label",14),d._uU(11,"\xc1rea principal"),d.TgZ(12,"span",15),d._uU(13,"*"),d.qZA(),d.qZA(),d.TgZ(14,"div",16),d.TgZ(15,"div",17),d.TgZ(16,"mat-form-field",18),d.TgZ(17,"mat-select",19),d.NdJ("selectionChange",function(e){return d.CHM(t),d.oxw().categoryChange(e)}),d.YNc(18,Ai,2,2,"mat-option",20),d.qZA(),d.YNc(19,Ti,2,0,"mat-error",11),d.qZA(),d.qZA(),d.TgZ(20,"div",17),d.TgZ(21,"mat-form-field",18),d.TgZ(22,"mat-select",21),d.YNc(23,wi,2,2,"mat-option",20),d.qZA(),d.YNc(24,yi,2,0,"mat-error",11),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(25,"mat-divider"),d.TgZ(26,"div",22),d.TgZ(27,"div",23),d.TgZ(28,"label",14),d._uU(29,"M\xe9todos de pago"),d.qZA(),d.TgZ(30,"mat-chip-list",24),d.YNc(31,Ui,3,2,"mat-chip",25),d.qZA(),d.YNc(32,ki,2,1,"div",11),d.qZA(),d.TgZ(33,"div",26),d.TgZ(34,"label",14),d._uU(35,"Plazos de pago"),d.qZA(),d.TgZ(36,"mat-chip-list",27),d.YNc(37,Ji,3,2,"mat-chip",25),d.qZA(),d.YNc(38,Qi,2,1,"div",11),d.qZA(),d.qZA(),d._UZ(39,"mat-divider"),d.TgZ(40,"div",12),d.TgZ(41,"div",28),d.TgZ(42,"label",29),d._uU(43,"Descripci\xf3n Corta"),d.TgZ(44,"span",15),d._uU(45,"*"),d.qZA(),d.qZA(),d.TgZ(46,"mat-form-field",18),d._UZ(47,"input",30),d.YNc(48,Si,2,0,"mat-error",11),d.qZA(),d.qZA(),d.TgZ(49,"div",28),d.TgZ(50,"label",31),d._uU(51,"Descripci\xf3n"),d.TgZ(52,"span",15),d._uU(53,"*"),d.qZA(),d.qZA(),d.TgZ(54,"mat-form-field",18),d._UZ(55,"textarea",32),d.YNc(56,Yi,2,0,"mat-error",11),d.qZA(),d.qZA(),d.qZA(),d._UZ(57,"mat-divider"),d.TgZ(58,"section",33),d.TgZ(59,"div",34),d.TgZ(60,"div",35),d.TgZ(61,"label",36),d._uU(62,"Nombre comercial"),d.TgZ(63,"span",15),d._uU(64,"*"),d.qZA(),d.qZA(),d.TgZ(65,"mat-form-field",18),d._UZ(66,"input",37),d.YNc(67,zi,2,0,"mat-error",11),d.qZA(),d.qZA(),d.TgZ(68,"div",35),d.TgZ(69,"label",38),d._uU(70,"RFC"),d.TgZ(71,"span",15),d._uU(72,"*"),d.qZA(),d.qZA(),d.TgZ(73,"mat-form-field",18),d._UZ(74,"input",39),d.YNc(75,Fi,2,0,"mat-error",11),d.qZA(),d.qZA(),d.qZA(),d.TgZ(76,"div",34),d.TgZ(77,"div",35),d.TgZ(78,"label",40),d._uU(79,"Nombre del representante de la empresa"),d.TgZ(80,"span",15),d._uU(81,"*"),d.qZA(),d.TgZ(82,"mat-icon",41),d._uU(83,"info"),d.qZA(),d.qZA(),d.TgZ(84,"mat-form-field",18),d._UZ(85,"input",42),d.YNc(86,$i,2,0,"mat-error",11),d.qZA(),d.qZA(),d.TgZ(87,"div",35),d.TgZ(88,"label",43),d._uU(89,"Raz\xf3n social"),d.TgZ(90,"span",15),d._uU(91,"*"),d.qZA(),d.qZA(),d.TgZ(92,"mat-form-field",18),d._UZ(93,"input",44),d.YNc(94,Ei,2,0,"mat-error",11),d.qZA(),d.qZA(),d.qZA(),d.TgZ(95,"div",34),d.TgZ(96,"div",35),d.TgZ(97,"label",45),d._uU(98,"Calle y N\xfamero"),d.TgZ(99,"span",15),d._uU(100,"*"),d.qZA(),d.qZA(),d.TgZ(101,"mat-form-field",18),d._UZ(102,"input",46),d.YNc(103,Di,2,0,"mat-error",11),d.qZA(),d.qZA(),d.TgZ(104,"div",47),d.TgZ(105,"div",48),d.TgZ(106,"div",49),d.TgZ(107,"label",50),d._uU(108,"N\xb0 Interior"),d.qZA(),d.TgZ(109,"mat-form-field",18),d._UZ(110,"input",51),d.YNc(111,ji,2,0,"mat-error",11),d.qZA(),d.qZA(),d.TgZ(112,"div",49),d.TgZ(113,"label",52),d._uU(114,"C.P."),d.TgZ(115,"span",15),d._uU(116,"*"),d.qZA(),d.qZA(),d.TgZ(117,"mat-form-field",18),d._UZ(118,"input",53),d.YNc(119,Bi,2,0,"mat-error",11),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(120,"div",54),d.TgZ(121,"div",55),d.TgZ(122,"label",56),d._uU(123,"Pa\xeds"),d.TgZ(124,"span",15),d._uU(125,"*"),d.qZA(),d.qZA(),d.TgZ(126,"mat-form-field",18),d._UZ(127,"input",57),d.YNc(128,Li,2,0,"mat-error",11),d.qZA(),d.qZA(),d.TgZ(129,"div",55),d.TgZ(130,"label",58),d._uU(131,"Estado"),d.TgZ(132,"span",15),d._uU(133,"*"),d.qZA(),d.qZA(),d.TgZ(134,"mat-form-field",18),d._UZ(135,"input",59),d.YNc(136,Gi,2,0,"mat-error",11),d.qZA(),d.qZA(),d.TgZ(137,"div",55),d.TgZ(138,"label",60),d._uU(139,"Ciudad"),d.TgZ(140,"span",15),d._uU(141,"*"),d.qZA(),d.qZA(),d.TgZ(142,"mat-form-field",18),d._UZ(143,"input",61),d.YNc(144,Hi,2,0,"mat-error",11),d.qZA(),d.qZA(),d.qZA(),d.TgZ(145,"div",54),d.TgZ(146,"div",55),d.TgZ(147,"label",62),d._uU(148,"Municipio"),d.TgZ(149,"span",15),d._uU(150,"*"),d.qZA(),d.qZA(),d.TgZ(151,"mat-form-field",18),d._UZ(152,"input",63),d.YNc(153,Ri,2,0,"mat-error",11),d.qZA(),d.qZA(),d.TgZ(154,"div",55),d.TgZ(155,"label",64),d._uU(156,"Colonia"),d.TgZ(157,"span",15),d._uU(158,"*"),d.qZA(),d.qZA(),d.TgZ(159,"mat-form-field",18),d._UZ(160,"input",65),d.YNc(161,Vi,2,0,"mat-error",11),d.qZA(),d.qZA(),d.TgZ(162,"div",55),d.TgZ(163,"label",66),d._uU(164,"T\xe9lefono"),d.TgZ(165,"span",15),d._uU(166,"*"),d.qZA(),d.qZA(),d.TgZ(167,"mat-form-field",18),d._UZ(168,"input",67),d.YNc(169,Xi,2,0,"mat-error",11),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(170,"mat-divider"),d.TgZ(171,"div",68),d.TgZ(172,"div",17),d._UZ(173,"app-file-field",69),d.qZA(),d.TgZ(174,"div",17),d._UZ(175,"app-file-field",70),d.qZA(),d.qZA(),d._UZ(176,"mat-divider"),d.TgZ(177,"div",71),d.TgZ(178,"button",72),d._uU(179,"Cancelar"),d.qZA(),d.TgZ(180,"button",73),d.NdJ("click",function(){return d.CHM(t),d.oxw().onSubmit()}),d._uU(181,"Guardar"),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=d.oxw();let e,n,o,r,a,i,c,l,s,g,u,p,m,f,h,_,Z,C,M;d.xp6(1),d.Q6J("formGroup",t.formGroup),d.xp6(3),d.Q6J("form",t.formGroup)("showPreview",!0)("filePlaceholder",t.profile.profile_picture),d.xp6(2),d.Q6J("ngIf",t.userGroup),d.xp6(1),d.Q6J("ngIf",t.userGroup),d.xp6(11),d.Q6J("ngForOf",t.categories),d.xp6(1),d.Q6J("ngIf",null==(e=t.formGroup.get("main_category"))?null:e.hasError("required")),d.xp6(4),d.Q6J("ngForOf",t.sub_categories),d.xp6(1),d.Q6J("ngIf",null==(n=t.formGroup.get("categories"))?null:n.hasError("required")),d.xp6(7),d.Q6J("ngForOf",t.payment_methods),d.xp6(1),d.Q6J("ngIf",null==(o=t.formGroup.get("payment_methods"))?null:o.touched),d.xp6(5),d.Q6J("ngForOf",t.payment_terms),d.xp6(1),d.Q6J("ngIf",null==(r=t.formGroup.get("payment_terms"))?null:r.touched),d.xp6(10),d.Q6J("ngIf",null==(a=t.formGroup.get("description_short"))?null:a.hasError("required")),d.xp6(8),d.Q6J("ngIf",null==(i=t.formGroup.get("description"))?null:i.hasError("required")),d.xp6(11),d.Q6J("ngIf",null==(c=t.formGroup.get("name"))?null:c.hasError("required")),d.xp6(8),d.Q6J("ngIf",null==(l=t.formGroup.get("rfc"))?null:l.hasError("required")),d.xp6(11),d.Q6J("ngIf",null==(s=t.formGroup.get("representative_name"))?null:s.hasError("required")),d.xp6(8),d.Q6J("ngIf",null==(g=t.formGroup.get("business_name"))?null:g.hasError("required")),d.xp6(9),d.Q6J("ngIf",null==(u=t.formGroup.get("address"))?null:u.hasError("required")),d.xp6(8),d.Q6J("ngIf",null==(p=t.formGroup.get("interior_number"))?null:p.hasError("required")),d.xp6(8),d.Q6J("ngIf",null==(m=t.formGroup.get("postal_code"))?null:m.hasError("required")),d.xp6(9),d.Q6J("ngIf",null==(f=t.formGroup.get("country"))?null:f.hasError("required")),d.xp6(8),d.Q6J("ngIf",null==(h=t.formGroup.get("state"))?null:h.hasError("required")),d.xp6(8),d.Q6J("ngIf",null==(_=t.formGroup.get("city"))?null:_.hasError("required")),d.xp6(9),d.Q6J("ngIf",null==(Z=t.formGroup.get("municipality"))?null:Z.hasError("required")),d.xp6(8),d.Q6J("ngIf",null==(C=t.formGroup.get("neighborhood"))?null:C.hasError("required")),d.xp6(8),d.Q6J("ngIf",null==(M=t.formGroup.get("phone"))?null:M.hasError("required")),d.xp6(4),d.Q6J("form",t.formGroup)("showStatus",!0)("filePlaceholder",t.profile.representative_id),d.xp6(2),d.Q6J("form",t.formGroup)("showStatus",!0)("filePlaceholder",t.profile.fiscal_situation),d.xp6(5),d.Q6J("disabled",t.wait)}}function Ki(t,e){1&t&&(d.ynx(0),d._uU(1,"Gratis"),d.BQk())}function tc(t,e){if(1&t&&(d.ynx(0),d._uU(1),d.ALo(2,"currency"),d.BQk()),2&t){const t=d.oxw().$implicit;d.xp6(1),d.Oqu(d.lcZ(2,1,t.price))}}function ec(t,e){if(1&t&&(d.TgZ(0,"mat-list-item",28),d.TgZ(1,"mat-icon",29),d._uU(2,"check_circle"),d.qZA(),d._uU(3),d.qZA()),2&t){const t=e.$implicit;d.Q6J("hidden",t.target&&"supplier"!=t.target),d.xp6(3),d.hij("",t.description," ")}}function nc(t,e){if(1&t&&(d.TgZ(0,"div",19),d.TgZ(1,"mat-card",20),d.TgZ(2,"div",21),d.TgZ(3,"h5",22),d._uU(4),d.qZA(),d.TgZ(5,"h4",23),d.YNc(6,Ki,2,0,"ng-container",8),d.YNc(7,tc,3,3,"ng-container",8),d.qZA(),d.TgZ(8,"p",24),d._uU(9),d.qZA(),d.TgZ(10,"mat-list",25),d.YNc(11,ec,4,2,"mat-list-item",26),d.qZA(),d.qZA(),d.TgZ(12,"mat-button-toggle",27),d._uU(13,"Elegir"),d.qZA(),d.qZA(),d.qZA()),2&t){const t=e.$implicit,n=d.oxw(3);let o;d.xp6(1),d.ekj("selected",(null==(o=n.renewForm.get("price"))?null:o.value)==t.id),d.xp6(3),d.Oqu(t.plan.name),d.xp6(2),d.Q6J("ngIf",0==t.price),d.xp6(1),d.Q6J("ngIf",t.price>0),d.xp6(2),d.Oqu(t.duration),d.xp6(2),d.Q6J("ngForOf",t.plan.perks),d.xp6(1),d.Q6J("value",t.id)("disabled",t.id==(null==n.currentUser.supplier?null:n.currentUser.supplier.price))}}function oc(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Selecciona un plan."),d.qZA())}function rc(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Selecciona un m\xe9todo de pago."),d.qZA())}function ac(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"form",9),d.NdJ("ngSubmit",function(){return d.CHM(t),d.oxw(2).onSubmit()}),d.TgZ(1,"h5"),d._uU(2,"1: Selecciona un plan"),d.qZA(),d.TgZ(3,"div",10),d.TgZ(4,"mat-button-toggle-group",11),d.TgZ(5,"div",12),d.YNc(6,nc,14,9,"div",13),d.ALo(7,"orderBy"),d.qZA(),d.TgZ(8,"div",3),d.YNc(9,oc,2,0,"mat-error",8),d.qZA(),d.qZA(),d.qZA(),d.TgZ(10,"h5"),d._uU(11,"2: Selecciona un m\xe9todo de pago"),d.qZA(),d.TgZ(12,"div",10),d.TgZ(13,"app-stripe-card",14),d.NdJ("selectCard",function(e){return d.CHM(t),d.oxw(2).changeCard(e)}),d.qZA(),d.TgZ(14,"div",3),d.YNc(15,rc,2,0,"mat-error",8),d.qZA(),d.qZA(),d._UZ(16,"mat-divider",15),d.TgZ(17,"div",16),d.TgZ(18,"p"),d.TgZ(19,"mat-checkbox",17),d._uU(20,"Acepto los "),d.TgZ(21,"span",18),d.NdJ("click",function(e){return d.CHM(t),d.oxw(2).showTOS(e)}),d._uU(22,"T\xe9rminos y condiciones"),d.qZA(),d._uU(23," y el "),d.TgZ(24,"span",18),d.NdJ("click",function(e){return d.CHM(t),d.oxw(2).showPP(e)}),d._uU(25,"Aviso de privacidad"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=d.oxw(2);let e,n;d.Q6J("formGroup",t.renewForm),d.xp6(6),d.Q6J("ngForOf",d.xi3(7,4,t.plan_prices,"order")),d.xp6(3),d.Q6J("ngIf",(null==(e=t.renewForm.get("price"))?null:e.hasError("required"))&&(null==(e=t.renewForm.get("price"))?null:e.touched)),d.xp6(6),d.Q6J("ngIf",(null==(n=t.renewForm.get("paymentcard"))?null:n.hasError("required"))&&(null==(n=t.renewForm.get("paymentcard"))?null:n.touched))}}function ic(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"div",32),d.TgZ(1,"button",33),d.NdJ("click",function(){return d.CHM(t),d.oxw(3).cancelSubscription()}),d._uU(2,"Cancelar renovaci\xf3n de suscripci\xf3n"),d.qZA(),d.qZA()}}function cc(t,e){if(1&t&&(d.ynx(0),d.TgZ(1,"div",30),d.YNc(2,ic,3,0,"div",31),d.qZA(),d.BQk()),2&t){const t=d.oxw(2);d.xp6(2),d.Q6J("ngIf",null==t.currentUser.supplier?null:t.currentUser.supplier.auto_renew)}}function lc(t,e){if(1&t){const t=d.EpF();d.ynx(0),d.TgZ(1,"div",2),d.TgZ(2,"mat-card",3),d.TgZ(3,"mat-card-title"),d._uU(4,"Modificar plan"),d.qZA(),d.TgZ(5,"mat-card-content"),d.TgZ(6,"p",4),d._uU(7,"Para modificar tu plan selecciona uno nuevo de la lista."),d.qZA(),d.YNc(8,ac,26,7,"form",5),d.qZA(),d.TgZ(9,"mat-card-actions"),d.TgZ(10,"div",6),d.TgZ(11,"button",7),d.NdJ("click",function(){return d.CHM(t),d.oxw().onSubmit()}),d._uU(12,"Editar plan"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(13,cc,3,1,"ng-container",8),d.qZA(),d.BQk()}if(2&t){const t=d.oxw();d.xp6(8),d.Q6J("ngIf",t.renewForm),d.xp6(3),d.Q6J("disabled",t.wait),d.xp6(2),d.Q6J("ngIf","active"==(null==t.currentUser.supplier?null:t.currentUser.supplier.subscription_status)&&"recurring"==(null==t.currentPlanPrice?null:t.currentPlanPrice.type))}}function sc(t,e){1&t&&(d.TgZ(0,"div",2),d.TgZ(1,"mat-card",3),d.TgZ(2,"mat-card-title"),d._uU(3,"Modificar plan"),d.qZA(),d.TgZ(4,"mat-card-content"),d.TgZ(5,"p",4),d._uU(6,"Para modificar tu plan comun\xedcate con tu administrador."),d.qZA(),d.qZA(),d.qZA(),d.qZA())}function gc(t,e){1&t&&(d.ynx(0),d.TgZ(1,"mat-card",4),d.TgZ(2,"mat-card-title"),d._uU(3,"Procesando pago"),d.qZA(),d.TgZ(4,"mat-card-content"),d.TgZ(5,"p",5),d._uU(6,"El pago de tu subscripci\xf3n esta siendo procesado, vuelve a intentarlo m\xe1s tarde."),d.qZA(),d.qZA(),d.qZA(),d.BQk())}function uc(t,e){if(1&t&&(d.TgZ(0,"p",5),d._uU(1,"Tu suscripci\xf3n expir\xf3 el d\xeda "),d.TgZ(2,"span",10),d._uU(3),d.ALo(4,"date"),d.qZA(),d._uU(5,", para continuar utilizando la plataforma suscr\xedbete a uno de nuestros planes:"),d.qZA()),2&t){const t=d.oxw(3);d.xp6(3),d.Oqu(d.xi3(4,1,null==t.currentUser.supplier?null:t.currentUser.supplier.current_period_end,"dd/MM/yyyy"))}}function dc(t,e){1&t&&(d.TgZ(0,"p",5),d._uU(1,"Ocurri\xf3 un error al procesar tu pago, selecciona un plan e intentalo nuevamente:"),d.qZA())}function pc(t,e){1&t&&(d.ynx(0),d._uU(1,"Gratis"),d.BQk())}function mc(t,e){if(1&t&&(d.ynx(0),d._uU(1),d.ALo(2,"currency"),d.BQk()),2&t){const t=d.oxw().$implicit;d.xp6(1),d.Oqu(d.lcZ(2,1,t.price))}}function fc(t,e){if(1&t&&(d.TgZ(0,"mat-list-item",31),d.TgZ(1,"mat-icon",32),d._uU(2,"check_circle"),d.qZA(),d._uU(3),d.qZA()),2&t){const t=e.$implicit;d.Q6J("hidden",t.target&&"supplier"!=t.target),d.xp6(3),d.hij("",t.description," ")}}function hc(t,e){if(1&t&&(d.TgZ(0,"div",22),d.TgZ(1,"mat-card",23),d.TgZ(2,"div",24),d.TgZ(3,"h5",25),d._uU(4),d.qZA(),d.TgZ(5,"h4",26),d.YNc(6,pc,2,0,"ng-container",16),d.YNc(7,mc,3,3,"ng-container",16),d.qZA(),d.TgZ(8,"p",27),d._uU(9),d.qZA(),d.TgZ(10,"mat-list",28),d.YNc(11,fc,4,2,"mat-list-item",29),d.qZA(),d.qZA(),d.TgZ(12,"mat-button-toggle",30),d._uU(13,"Elegir"),d.qZA(),d.qZA(),d.qZA()),2&t){const t=e.$implicit,n=d.oxw(4);let o;d.xp6(1),d.ekj("selected",(null==(o=n.renewForm.get("price"))?null:o.value)==t.id),d.xp6(3),d.Oqu(t.plan.name),d.xp6(2),d.Q6J("ngIf",0==t.price),d.xp6(1),d.Q6J("ngIf",t.price>0),d.xp6(2),d.Oqu(t.duration),d.xp6(2),d.Q6J("ngForOf",t.plan.perks),d.xp6(1),d.Q6J("value",t.id)}}function _c(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Selecciona un plan."),d.qZA())}function Zc(t,e){1&t&&(d.TgZ(0,"mat-error"),d._uU(1,"Selecciona un m\xe9todo de pago."),d.qZA())}function Cc(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"form",11),d.NdJ("ngSubmit",function(){return d.CHM(t),d.oxw(3).onSubmit()}),d.TgZ(1,"h5"),d._uU(2,"1: Selecciona un plan"),d.qZA(),d.TgZ(3,"div",12),d.TgZ(4,"mat-button-toggle-group",13),d.TgZ(5,"div",14),d.YNc(6,hc,14,8,"div",15),d.ALo(7,"orderBy"),d.qZA(),d.TgZ(8,"div",4),d.YNc(9,_c,2,0,"mat-error",16),d.qZA(),d.qZA(),d.qZA(),d.TgZ(10,"h5"),d._uU(11,"2: Selecciona un m\xe9todo de pago"),d.qZA(),d.TgZ(12,"div",12),d.TgZ(13,"app-stripe-card",17),d.NdJ("selectCard",function(e){return d.CHM(t),d.oxw(3).changeCard(e)}),d.qZA(),d.TgZ(14,"div",4),d.YNc(15,Zc,2,0,"mat-error",16),d.qZA(),d.qZA(),d._UZ(16,"mat-divider",18),d.TgZ(17,"div",19),d.TgZ(18,"p"),d.TgZ(19,"mat-checkbox",20),d._uU(20,"Acepto los "),d.TgZ(21,"span",21),d.NdJ("click",function(e){return d.CHM(t),d.oxw(3).showTOS(e)}),d._uU(22,"T\xe9rminos y condiciones"),d.qZA(),d._uU(23," y el "),d.TgZ(24,"span",21),d.NdJ("click",function(e){return d.CHM(t),d.oxw(3).showPP(e)}),d._uU(25,"Aviso de privacidad"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=d.oxw(3);let e,n;d.Q6J("formGroup",t.renewForm),d.xp6(6),d.Q6J("ngForOf",d.xi3(7,4,t.plan_prices,"order")),d.xp6(3),d.Q6J("ngIf",(null==(e=t.renewForm.get("price"))?null:e.hasError("required"))&&(null==(e=t.renewForm.get("price"))?null:e.touched)),d.xp6(6),d.Q6J("ngIf",(null==(n=t.renewForm.get("paymentcard"))?null:n.hasError("required"))&&(null==(n=t.renewForm.get("paymentcard"))?null:n.touched))}}function Mc(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"mat-card",4),d.TgZ(1,"mat-card-title"),d._uU(2,"Suscripci\xf3n expirada"),d.qZA(),d.TgZ(3,"mat-card-content"),d.YNc(4,uc,6,4,"p",6),d.YNc(5,dc,2,0,"p",6),d.YNc(6,Cc,26,7,"form",7),d.qZA(),d.TgZ(7,"mat-card-actions"),d.TgZ(8,"div",8),d.TgZ(9,"button",9),d.NdJ("click",function(){return d.CHM(t),d.oxw(2).onSubmit()}),d._uU(10,"Editar plan"),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=d.oxw(2);d.xp6(4),d.Q6J("ngIf",t.isExpired()),d.xp6(1),d.Q6J("ngIf",!t.isExpired()),d.xp6(1),d.Q6J("ngIf",t.renewForm),d.xp6(3),d.Q6J("disabled",t.wait)}}function Oc(t,e){if(1&t&&(d.ynx(0),d.TgZ(1,"div",2),d.YNc(2,gc,7,0,"ng-container",0),d.YNc(3,Mc,11,4,"ng-template",null,3,d.W1O),d.qZA(),d.BQk()),2&t){const t=d.MAs(4),e=d.oxw();d.xp6(2),d.Q6J("ngIf","draft"==(null==e.currentUser.supplier?null:e.currentUser.supplier.invoice_status)||"open"==(null==e.currentUser.supplier?null:e.currentUser.supplier.invoice_status))("ngIfElse",t)}}function xc(t,e){if(1&t&&(d.TgZ(0,"div",2),d.TgZ(1,"mat-card",4),d.TgZ(2,"mat-card-title"),d._uU(3,"Suscripci\xf3n expirada"),d.qZA(),d.TgZ(4,"mat-card-content"),d.TgZ(5,"p",5),d._uU(6,"Tu suscripci\xf3n expir\xf3 el d\xeda "),d.TgZ(7,"span",10),d._uU(8),d.ALo(9,"date"),d.qZA(),d._uU(10,", comun\xedcate con tu administrador para renovarla."),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t){const t=d.oxw();d.xp6(8),d.Oqu(d.xi3(9,1,null==t.currentUser.supplier?null:t.currentUser.supplier.current_period_end,"dd/MM/yyyy"))}}const vc=[{path:"",component:R,canActivate:[M],data:{sidebar:"none"},children:[{path:"",component:at},{path:"bienvenido",component:ct}]},{path:"",component:R,canActivate:[M],data:{sidebar:"nav"},children:[{path:"perfil",component:(()=>{class t{constructor(t,e,n){this.http=t,this.stripeService=e,this.authenticationService=n,this.matStars={empty:`${J.N.basehref}assets/images/star_outline.svg`,half:`${J.N.basehref}assets/images/star_half.svg`,full:`${J.N.basehref}assets/images/star.svg`},this.currentUser=this.authenticationService.currentUserValue}ngOnInit(){this.loadProfile(),this.countRequested(),this.countAccepted(),this.countRejected()}loadProfile(){this.http.get(`${J.N.apiUrl}/suppliers/profile`).subscribe(t=>{this.profile=t},t=>{})}countRequested(){let t=new i.LE;this.http.get(`${J.N.apiUrl}/quotations/count`,{params:t}).subscribe(t=>{this.requested=t})}countAccepted(){let t=(new i.LE).append("status_in",5).append("status_in",7);this.http.get(`${J.N.apiUrl}/quotations/count`,{params:t}).subscribe(t=>{this.accepted=t})}countRejected(){let t=(new i.LE).append("status_in",4).append("status_in",6);this.http.get(`${J.N.apiUrl}/quotations/count`,{params:t}).subscribe(t=>{this.rejected=t})}exportReport(){let t=new i.LE;this.http.get(`${J.N.apiUrl}/suppliers/export-quotations-report`,{params:t,responseType:"blob",observe:"response"}).subscribe(t=>{var e=t.headers.get("content-disposition"),n=/"([^"]*)"/.exec(e),o=null!=n&&n[1]?n[1]:"quotations-export.xlsx";let r=t.body.type,a=[];a.push(t.body);let i=document.createElement("a");i.href=window.URL.createObjectURL(new Blob(a,{type:r})),o&&i.setAttribute("download",o),document.body.appendChild(i),i.click()})}publicUrl(t){return`${J.N.apiUrl}${t}`}assetUrl(t){return`${J.N.basehref}${t}`}getSubscriptionDate(){this.http.get(`${J.N.apiUrl}/suppliers/subscription_date`).subscribe(t=>{this.sub_end=1e3*t.current_period_start},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(ri.tJ),d.Y36(C.$h))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-perfil"]],decls:17,vars:2,consts:[[1,"container-fluid","pt-5","px-md-5"],[1,"row","align-items-end"],[1,"col-lg","page-title"],[1,"col-lg","page-actions"],[1,"d-flex","flex-column","align-items-center","mb-2"],["mat-raised-button","","color","primary","routerLink","editar",1,"btn-round","btn-md",3,"disabled"],["id","card-perfil","class","app-modal-shadow py-4 mt-4",4,"ngIf"],[1,"row","justify-content-center","pt-4"],[1,"col-auto"],[1,"contact","text-center"],["href","mailto:contacto@exphotel.mx"],["id","card-perfil",1,"app-modal-shadow","py-4","mt-4"],[1,"row","flex-column","flex-md-row","justify-content-center","mb-3"],[1,"col-auto","col-md-5"],[1,"row","align-items-center"],[1,"col-auto","image-cont","pb-3","pb-md-2"],[3,"src"],[1,"col","detalles-cont"],[1,"breadcrumbs"],[1,"titulo"],[1,"ratings"],[3,"color","initialStars","size","maxStars","customStarIcons","readonly"],["inset","",1,"col-auto","p-0","mx-0","my-3",3,"vertical"],[1,"col","align-self-center"],[1,"pm-row","mb-3"],[1,"row-title"],[1,"payment-options"],["selected","",3,"value","selectable",4,"ngFor","ngForOf"],[1,"pm-row"],["inset",""],[1,"row","justify-content-evenly","gy-3","py-3","stats"],[1,"col-auto","stat"],["svgIcon","cotizacion-pending"],[1,"mx-3"],["svgIcon","cotizacion-active"],["svgIcon","cotizacion-reject"],["mat-flat-button","",3,"click"],[1,"row","justify-content-center","align-items-center","gx-4","py-3","plan"],[1,"col-auto","plan-info"],[1,"plan-tipo"],[1,"plan-precio"],[4,"ngIf"],[1,"plan-duracion"],[1,"col-auto","plan-perks","dense"],[3,"hidden",4,"ngFor","ngForOf"],[1,"col-auto","plan-btn"],["mat-flat-button","","color","accent","routerLink","plan",1,"btn-round",3,"disabled"],["selected","",3,"value","selectable"],["c","matChip"],[3,"hidden"],["matListIcon",""]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._UZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"button",5),d.TgZ(6,"mat-icon"),d._uU(7,"edit"),d.qZA(),d._uU(8," Editar mi Perfil "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.YNc(9,gi,68,25,"mat-card",6),d.TgZ(10,"div",7),d.TgZ(11,"div",8),d.TgZ(12,"p",9),d._uU(13,"S\xed deseas cancelar tu cuenta , manda un email a "),d._UZ(14,"br"),d.TgZ(15,"a",10),d._uU(16,"contacto@exphotel.mx"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(5),d.Q6J("disabled","administrator"!=(null==e.currentUser||null==e.currentUser.role?null:e.currentUser.role.type)),d.xp6(4),d.Q6J("ngIf",e.profile))},directives:[v.lW,r.rH,b.Hw,o.O5,V.a8,V.dn,c.ve,T.d,D.qn,o.sg,A.i$,D.HS,A.Tg,A.Nh],pipes:[o.uU,o.H9],styles:["mat-card[_ngcontent-%COMP%]{box-shadow:0 5px 5px #4094ab3d!important;border-radius:31px}mat-card[_ngcontent-%COMP%]   .image-cont[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]   .image-cont[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px;border:1px solid #97bcc566;border-radius:100px;filter:drop-shadow(0 5px 5px rgba(64,148,171,.24))}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .breadcrumbs[_ngcontent-%COMP%]{margin-bottom:.5em;font-family:Montserrat;font-style:normal;font-weight:600;font-size:14px;line-height:17px;color:#00aad3}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{margin-bottom:.3em;font-family:Montserrat;font-style:normal;font-weight:700;font-size:18px;line-height:30px;color:#062ebd}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .ratings[_ngcontent-%COMP%]{display:flex;align-items:center}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .ratings[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:11px;line-height:13px;color:#999d9e}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .descripcion-corta[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:12px;line-height:15px;color:#999d9e}mat-card[_ngcontent-%COMP%]   .detalles-cont[_ngcontent-%COMP%]   .descripcion-corta[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00aad3}mat-card[_ngcontent-%COMP%]   .pm-row[_ngcontent-%COMP%]   h4.row-title[_ngcontent-%COMP%]{margin-bottom:.75em;font-family:Montserrat;font-style:normal;font-weight:700;font-size:11px;line-height:13px;color:#5a6a6f}mat-card[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center}mat-card[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:50px;height:47px}mat-card[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;line-height:29px;color:#00aad3}mat-card[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600}mat-card[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{max-width:100px;font-size:14px;line-height:17px;color:#5a6a6f}mat-card[_ngcontent-%COMP%]   .plan[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]{text-align:center}mat-card[_ngcontent-%COMP%]   .plan[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]   .plan-tipo[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:18px;line-height:22px;color:var(--app-blue-cyan);margin-bottom:5px}mat-card[_ngcontent-%COMP%]   .plan[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]   .plan-precio[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:24px;line-height:29px;margin-bottom:5px;color:var(--app-amarillo-claro)}mat-card[_ngcontent-%COMP%]   .plan[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]   .plan-duracion[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:11px;line-height:13px;color:var(--app-gris-muy-oscuro);margin-bottom:0;max-width:150px}mat-card[_ngcontent-%COMP%]   .plan[_ngcontent-%COMP%]   mat-list.plan-perks[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{height:auto;font-family:Montserrat;font-style:normal;font-weight:500;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}mat-card[_ngcontent-%COMP%]   .plan[_ngcontent-%COMP%]   mat-list.plan-perks[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]     .mat-list-item-content{padding:0}mat-card[_ngcontent-%COMP%]   .plan[_ngcontent-%COMP%]   mat-list.plan-perks[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--app-cyan)}mat-card[_ngcontent-%COMP%]   .plan[_ngcontent-%COMP%]   .plan-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:200px}.contact[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:11px;line-height:13px;color:#5a6a6f}.contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00aad3}"]}),t})()},{path:"perfil/editar",component:(()=>{class t{constructor(t,e,n,o,r,a){this.http=t,this.router=e,this.formBuilder=n,this.authenticationService=o,this.uniqueUsername=r,this.uniqueEmail=a,this.categories=[],this.sub_categories=[],this.payment_terms=[],this.payment_methods=[],this.wait=!1}get userGroup(){return this.formGroup.get("userGroup")}ngOnInit(){this.loadCategories(),this.loadPaymentTermsList(),this.loadPaymentMethodsList(),this.loadProfile()}loadProfile(){this.http.get(`${J.N.apiUrl}/suppliers/profile`).subscribe(t=>{this.profile=t,this.initForm()},t=>{})}loadCategories(){let t=(new i.LE).append("depth",0).append("_sort","position:ASC");this.http.get(`${J.N.apiUrl}/categories`,{params:t}).subscribe(t=>{this.categories=t},t=>{})}categoryChange(t){var e,n;this.sub_categories=null===(e=this.categories.find(e=>e.id==t.value))||void 0===e?void 0:e.childrens,null===(n=this.formGroup.get("categories"))||void 0===n||n.patchValue(null)}loadPaymentTermsList(){this.http.get(`${J.N.apiUrl}/payment-terms`).subscribe(t=>{this.payment_terms=t},t=>{})}loadPaymentMethodsList(){this.http.get(`${J.N.apiUrl}/payment-methods`).subscribe(t=>{this.payment_methods=t},t=>{})}initForm(){var t,e,n,o,r;let i=null===(t=this.profile.main_category)||void 0===t?void 0:t.id,c=null===(e=this.profile.categories)||void 0===e?void 0:e.map(t=>t.id);i&&(this.sub_categories=null===(n=this.categories.find(t=>t.id==i))||void 0===n?void 0:n.childrens);let l=null===(o=this.profile.payment_methods)||void 0===o?void 0:o.map(t=>t.id),s=null===(r=this.profile.payment_terms)||void 0===r?void 0:r.map(t=>t.id);this.formGroup=this.formBuilder.group({profile_picture:[null],profile_picture_source:[null],main_category:[i,[a.kI.required]],categories:[c],payment_methods:[l,[a.kI.required]],payment_terms:[s,[a.kI.required]],description_short:[this.profile.description_short,[a.kI.required]],description:[this.profile.description,[a.kI.required]],name:[this.profile.name,[a.kI.required]],rfc:[this.profile.rfc,[a.kI.required]],representative_name:[this.profile.representative_name,[a.kI.required]],business_name:[this.profile.business_name,[a.kI.required]],address:[this.profile.address,[a.kI.required]],interior_number:[this.profile.interior_number],postal_code:[this.profile.postal_code,[a.kI.required]],country:[this.profile.country,[a.kI.required]],state:[this.profile.state,[a.kI.required]],city:[this.profile.city,[a.kI.required]],municipality:[this.profile.municipality,[a.kI.required]],neighborhood:[this.profile.neighborhood,[a.kI.required]],phone:[this.profile.phone,[a.kI.required]],representative_id:[null],representative_id_source:[null],fiscal_situation:[null],fiscal_situation_source:[null]}),this.formGroup.controls.representative_id.setValidators(this.profile.representative_id?null:[a.kI.required]),this.formGroup.controls.fiscal_situation.setValidators(this.profile.fiscal_situation?null:[a.kI.required]),this.formGroup.updateValueAndValidity()}onSubmit(){var t,e,n,o,r,a,i,c,l;if(console.log("validating..."),this.formGroup.invalid)return console.log("form invalid"),console.log(this.formGroup.errors),void this.markFormGroupTouched(this.formGroup);console.log("submiting form...");const s=new FormData,g=this.formGroup.getRawValue();delete g.profile_picture,delete g.profile_picture_source,delete g.representative_id,delete g.representative_id_source,delete g.fiscal_situation,delete g.fiscal_situation_source,s.append("data",JSON.stringify(g)),(null===(t=this.formGroup.get("profile_picture"))||void 0===t?void 0:t.value)&&s.append("files.profile_picture",null===(e=this.formGroup.get("profile_picture_source"))||void 0===e?void 0:e.value,null===(n=this.formGroup.get("profile_picture"))||void 0===n?void 0:n.value.split("\\").pop()),(null===(o=this.formGroup.get("representative_id"))||void 0===o?void 0:o.value)&&s.append("files.representative_id",null===(r=this.formGroup.get("representative_id_source"))||void 0===r?void 0:r.value,null===(a=this.formGroup.get("representative_id"))||void 0===a?void 0:a.value.split("\\").pop()),(null===(i=this.formGroup.get("fiscal_situation"))||void 0===i?void 0:i.value)&&s.append("files.fiscal_situation",null===(c=this.formGroup.get("fiscal_situation_source"))||void 0===c?void 0:c.value,null===(l=this.formGroup.get("fiscal_situation"))||void 0===l?void 0:l.value.split("\\").pop()),this.wait=!0,this.http.put(`${J.N.apiUrl}/suppliers/${this.profile.id}`,s).subscribe(t=>{this.wait=!1,console.log(t),this.router.navigateByUrl("/proveedores/perfil")},t=>{this.wait=!1,console.log(t)})}controlAsFormGroup(t){return t}markFormGroupTouched(t){Object.values(t.controls).forEach(t=>{t.markAsTouched(),t.controls&&this.markFormGroupTouched(t)})}toggleSelection(t){t.toggleSelected(!0)}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.F0),d.Y36(a.qu),d.Y36(C.$h),d.Y36(Zo.CM),d.Y36(Zo.qz))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-perfil-editar"]],decls:9,vars:1,consts:[[1,"container-fluid","pt-5","px-md-5"],[1,"row","align-items-end"],[1,"col-lg","page-title"],[1,"col-lg","page-actions"],["class","container px-md-5",4,"ngIf"],[1,"container","px-md-5"],[1,"edit-form","py-4","px-lg-5",3,"formGroup"],[1,"row","py-3"],[1,"col-auto","mx-auto"],["field","profile_picture","placeholder","Adjuntar Foto de perf\xedl","hint","Jpg, Png.- 150X150px*","accept","image/png, image/jpeg","direction","row",1,"profile-picture",3,"form","showPreview","filePlaceholder"],["class","py-4",3,"formGroup",4,"ngIf"],[4,"ngIf"],[1,"row","py-4","px-lg-4"],[1,"form-group","col"],[1,"form-label"],[1,"input-req"],[1,"row"],[1,"col-auto"],["appearance","outline"],["id","main_category","formControlName","main_category","placeholder","Categor\xeda principal","disableOptionCentering","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","categories","formControlName","categories","placeholder","Categor\xedas secundarias","multiple","","disableOptionCentering",""],[1,"row","gx-5","py-4","px-lg-4"],[1,"form-group","col-md-5"],["formControlName","payment_methods","selectable","","multiple","",1,"payment-options"],[3,"value","click",4,"ngFor","ngForOf"],[1,"form-group","col-md-7"],["formControlName","payment_terms","selectable","","multiple","",1,"payment-options"],[1,"form-group","col-12"],["for","description_short",1,"form-label"],["matInput","","id","description_short","formControlName","description_short","placeholder","A\xf1ade resumen o descripcion corta de tu empresa"],["for","description",1,"form-label"],["matInput","","id","description","formControlName","description","rows","6","placeholder","A\xf1ade informaci\xf3n general y cetificaciones para tus posibles clientes"],[1,"py-4","px-lg-4"],[1,"row","gx-5","pe-lg-4"],[1,"form-group","col-md-6"],["for","name",1,"form-label"],["matInput","","id","name","formControlName","name","placeholder","Nombre"],["for","rfc",1,"form-label"],["matInput","","id","rfc","formControlName","rfc","placeholder","RFC"],["for","representative_name",1,"form-label"],["aria-hidden","false","matTooltip","La persona que estar\xe1 a cargo de la cuenta en ExpoHotel Hive y con la que contactaremos en caso de alg\xfan inconveniente.","matTooltipPosition","above",1,"input-info"],["matInput","","id","representative_name","formControlName","representative_name","placeholder","Nombre del representante"],["for","business_name",1,"form-label"],["matInput","","id","business_name","formControlName","business_name","placeholder","Raz\xf3n social"],["for","address",1,"form-label"],["matInput","","id","address","formControlName","address","placeholder","Calle y N\xfamero"],[1,"col-md-6"],[1,"row","gx-3","pe-lg-5"],[1,"form-group","col-6"],["for","interior_number",1,"form-label"],["matInput","","id","interior_number","formControlName","interior_number","placeholder","00"],["for","postal_code",1,"form-label"],["matInput","","id","postal_code","formControlName","postal_code","placeholder","00000"],[1,"row","gx-3"],[1,"form-group","col-md-4"],["for","country",1,"form-label"],["matInput","","id","country","formControlName","country","placeholder","Pa\xeds"],["for","state",1,"form-label"],["matInput","","id","state","formControlName","state","placeholder","Estado"],["for","city",1,"form-label"],["matInput","","id","city","formControlName","city","placeholder","Ciudad"],["for","municipality",1,"form-label"],["matInput","","id","municipality","formControlName","municipality","placeholder","Municipio"],["for","neighborhood",1,"form-label"],["matInput","","id","neighborhood","formControlName","neighborhood","placeholder","Colonia"],["for","phone",1,"form-label"],["matInput","","id","phone","formControlName","phone","placeholder","T\xe9lefono"],[1,"row","justify-content-evenly","gx-4","gy-2","py-4"],["field","representative_id","placeholder","ID de persona f\xedsica","hint","PDF, JPG o PNG","accept","image/png, image/jpeg, application/pdf","direction","col",3,"form","showStatus","filePlaceholder"],["field","fiscal_situation","placeholder","Constancia de situaci\xf3n fiscal","hint","PDF, JPG o PNG","accept","image/png, image/jpeg, application/pdf","direction","col",3,"form","showStatus","filePlaceholder"],[1,"d-flex","justify-content-between","py-5","px-lg-4","btn-row"],["type","button","mat-flat-button","","color","primary","routerLink","..",1,"btn-round","btn-sm"],["type","button","mat-flat-button","","color","accent",1,"btn-round","btn-sm",3,"disabled","click"],[1,"py-4",3,"formGroup"],[1,"row","gx-5","px-lg-4"],["for","username",1,"form-label"],["aria-hidden","false","matTooltip","Entre 6 y 20 caracteres (letras a-z, numeros 0-9 y caracteres -_ )","matTooltipPosition","above",1,"input-info"],["matInput","","type","text","id","username","formControlName","username","placeholder","Usuario"],["for","email",1,"form-label"],["matInput","","type","email","id","email","formControlName","email","placeholder","Corrreo@correo.mx"],["for","re_email",1,"form-label"],["matInput","","type","email","id","re_email","formControlName","re_email","placeholder","Corrreo@correo.mx"],["for","password",1,"form-label"],["matInput","","type","password","id","password","formControlName","password","placeholder","***********"],["for","re_password",1,"form-label"],["matInput","","type","password","id","re_password","formControlName","re_password","placeholder","***********"],[3,"value"],[3,"value","click"],["c","matChip"]],template:function(t,e){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"h1"),d._uU(4,"Editar mi pef\xedl"),d.qZA(),d.TgZ(5,"p"),d._uU(6,"Modifica los datos de tu cuenta"),d.qZA(),d.qZA(),d._UZ(7,"div",3),d.qZA(),d.qZA(),d.YNc(8,Wi,182,36,"div",4)),2&t&&(d.xp6(8),d.Q6J("ngIf",e.formGroup))},directives:[o.O5,a._Y,a.JL,a.sg,ve.O,T.d,F.KE,St.gD,a.JJ,a.u,o.sg,D.qn,$.Nt,a.Fj,b.Hw,Co.gM,v.lW,r.rH,F.TO,w.ey,D.HS],styles:[".edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:not(.text-center)   label[_ngcontent-%COMP%]{margin-left:.5em;margin-right:-1.6em}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span.input-req[_ngcontent-%COMP%]{margin-left:.3em;color:var(--app-rojo)}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   mat-icon.input-info[_ngcontent-%COMP%]{margin-left:.3em;width:auto;height:auto;font-size:15px;line-height:1em;vertical-align:middle;color:var(--app-cyan)}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .mat-error[_ngcontent-%COMP%]{margin-top:.6666666667em;font-family:Montserrat;font-style:normal;font-weight:400;font-size:9px;color:#f44336}.edit-form[_ngcontent-%COMP%]   .btn-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:130px}app-file-field.profile-picture[_ngcontent-%COMP%]  .preview{width:145px!important;min-width:145px!important;height:145px!important}app-file-field.profile-picture[_ngcontent-%COMP%]  .field{width:-webkit-fill-available}@media (min-width:1200px){app-file-field.profile-picture[_ngcontent-%COMP%]  .field{width:240px}}app-file-field.profile-picture[_ngcontent-%COMP%]  .status.order-last{margin-bottom:20px}"]}),t})()},{path:"perfil/plan",component:(()=>{class t{constructor(t,e,n,o,r,a,i){this.http=t,this.router=e,this.formBuilder=n,this.alert=o,this.authenticationService=r,this.spinner=a,this.documents=i,this.wait=!1,this.plan_prices=[],this.currentUser=this.authenticationService.currentUserValue}ngOnInit(){this.loadPlansList(),this.loadCurrentPlanPrice(),this.initForms()}initForms(){this.renewForm=this.formBuilder.group({price:[null,[a.kI.required]],paymentcard:[null,[a.kI.required]],tos:[!1,[a.kI.requiredTrue]]})}loadPlansList(){let t=(new i.LE).set("target","supplier").set("type","recurring");this.http.get(`${J.N.apiUrl}/plan-prices`,{params:t}).subscribe(t=>{this.plan_prices=t},t=>{})}loadCurrentPlanPrice(){var t;let e=new i.LE;this.http.get(`${J.N.apiUrl}/plan-prices/${null===(t=this.currentUser.supplier)||void 0===t?void 0:t.price}`,{params:e}).subscribe(t=>{this.currentPlanPrice=t},t=>{})}changeCard(t){var e;null===(e=this.renewForm.get("paymentcard"))||void 0===e||e.setValue(t)}onSubmit(){if(this.renewForm.invalid)return console.log("form invalid"),void this.renewForm.markAllAsTouched();const t=this.renewForm.getRawValue();this.wait=!0,this.spinner.show(),this.http.post(`${J.N.apiUrl}/suppliers/update-subscription`,t).subscribe(t=>{var e;this.wait=!1,this.spinner.hide(),this.authenticationService.setStorageUser(t),this.alert.open({title:"Suscripci\xf3n actualizada",text:`Tu suscripci\xf3n esta activa hasta el d\xeda ${Z(null===(e=t.supplier)||void 0===e?void 0:e.current_period_end).format("DD/MM/YYYY HH:mm")}.`,showCancelButton:!1}).then(()=>{this.router.navigateByUrl("/proveedores/perfil")})},t=>{this.wait=!1,this.spinner.hide(),console.log(t)})}cancelSubscription(){var t;this.alert.open({title:"\xbfCancelar renovaci\xf3n de suscripci\xf3n?",text:`Tu suscripci\xf3n se cancelara al final de el periodo actual y permanecer\xe1 activa hasta el d\xeda ${Z(null===(t=this.currentUser.supplier)||void 0===t?void 0:t.current_period_end).format("DD/MM/YYYY HH:mm")}.`,showCancelButton:!0,cancelButtonText:"NO",confirmButtonText:"SI"}).then(t=>{t&&(this.spinner.show(),this.http.post(`${J.N.apiUrl}/suppliers/cancel-subscription`,{}).subscribe(t=>{var e;this.spinner.hide(),this.authenticationService.setStorageUser(t),this.alert.open({title:"Suscripci\xf3n actualizada",text:`Tu suscripci\xf3n esta activa hasta el d\xeda ${Z(null===(e=t.supplier)||void 0===e?void 0:e.current_period_end).format("DD/MM/YYYY HH:mm")}.`,showCancelButton:!1}).then(()=>{this.router.navigateByUrl("/proveedores/perfil")})},t=>{this.spinner.hide(),console.log(t)}))})}showTOS(t){t.preventDefault(),this.documents.presentModal("terms-of-service")}showPP(t){t.preventDefault(),this.documents.presentModal("privacy-policy")}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.F0),d.Y36(a.qu),d.Y36(C.c9),d.Y36(C.$h),d.Y36(u.t2),d.Y36(C.SR))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-plan-editar"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["message_emloyee",""],[1,"container","pt-5","px-md-5"],[1,"text-center"],[1,"my-4"],["class","renew-form py-2 px-lg-5 text-center",3,"formGroup","ngSubmit",4,"ngIf"],[1,"btn-row","mb-4"],["mat-flat-button","","color","accent",1,"btn-round","btn-sm",3,"disabled","click"],[4,"ngIf"],[1,"renew-form","py-2","px-lg-5","text-center",3,"formGroup","ngSubmit"],[1,"form-group","mb-4"],["formControlName","price",1,"planes-group"],[1,"row","gx-4","planes-row","justify-content-center"],["class","col-auto mb-3",4,"ngFor","ngForOf"],[3,"selectCard"],["inset",""],[1,"checks-seccion","text-center","mt-4"],["formControlName","tos"],[3,"click"],[1,"col-auto","mb-3"],[1,"plan-card","text-center"],[1,"plan-info"],[1,"plan-tipo"],[1,"plan-precio"],[1,"plan-duracion"],["dense","",1,"plan-perks"],[3,"hidden",4,"ngFor","ngForOf"],["color","accent",1,"mx-4",3,"value","disabled"],[3,"hidden"],["matListIcon",""],[1,"row","justify-content-center","mt-3"],["class","col-auto",4,"ngIf"],[1,"col-auto"],["mat-stroked-button","",1,"btn-round","btn-xs",3,"click"]],template:function(t,e){if(1&t&&(d.YNc(0,lc,14,3,"ng-container",0),d.YNc(1,sc,7,0,"ng-template",null,1,d.W1O)),2&t){const t=d.MAs(2);d.Q6J("ngIf","administrator"==e.currentUser.role.type)("ngIfElse",t)}},directives:[o.O5,V.a8,V.n5,V.dn,V.hq,v.lW,a._Y,a.JL,a.sg,Yt.A9,a.JJ,a.u,o.sg,Xa.p,T.d,E.oG,A.i$,Yt.Yi,A.Tg,b.Hw,A.Nh,F.TO],pipes:[g.T,o.H9],styles:[".container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]{box-shadow:0 5px 5px #4094ab3d!important;border-radius:31px}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-weight:700;font-size:18px;line-height:22px;color:#00aad3}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%], .container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;text-align:center}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:17px;color:#5a6a6f}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span.date[_ngcontent-%COMP%]{font-weight:700;color:#00aad3}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:14px;line-height:17px;color:#5a6a6f}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:not(.text-center)   label[_ngcontent-%COMP%]{margin-left:.5em;margin-right:-1.6em}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span.input-req[_ngcontent-%COMP%]{margin-left:.3em;color:var(--app-rojo)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   mat-icon.input-info[_ngcontent-%COMP%]{margin-left:.3em;width:auto;height:auto;font-size:15px;line-height:1em;vertical-align:middle;color:var(--app-cyan)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]{display:contents}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{width:125px;margin-left:auto!important;margin-right:auto!important;background:#fff;border:1px solid var(--app-gris-claro);box-sizing:border-box;border-radius:50px;overflow:hidden;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:17px;color:var(--app-gris-muy-oscuro)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   mat-button-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]{color:#fff;background-color:var(--app-cyan);border:1px solid var(--app-cyan)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   mat-button-toggle.mat-button-toggle-disabled[_ngcontent-%COMP%]{background:#d1d1d1}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:30px}@media (max-width:767px){.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}}@media (min-width:768px){.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%]{margin-right:-1.5rem!important;margin-left:-1.5rem!important}}@media (min-width:992px){.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%]{margin-right:-3.5rem!important;margin-left:-3.5rem!important}}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-card.plan-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:300px;width:235px;background:#fff;border:1px solid #97bcc566;box-sizing:border-box;border-radius:10px;box-shadow:none}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-card.plan-card.selected[_ngcontent-%COMP%]{filter:drop-shadow(0 5px 5px rgba(64,148,171,.24))}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-card.plan-card[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]   .plan-tipo[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:18px;line-height:22px;margin-bottom:5px;color:var(--app-blue-cyan)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-card.plan-card[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]   .plan-precio[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:24px;line-height:29px;margin-bottom:5px;color:var(--app-amarillo-claro)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-card.plan-card[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]   .plan-duracion[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:11px;line-height:13px;color:var(--app-gris-muy-oscuro);white-space:normal}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-card.plan-card[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]   mat-list.plan-perks[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{height:auto;font-family:Montserrat;font-style:normal;font-weight:500;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-card.plan-card[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]   mat-list.plan-perks[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]     .mat-list-item-content{padding:0}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-card.plan-card[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]   mat-list.plan-perks[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--app-cyan)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--app-gris-muy-oscuro)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--app-cyan)}"]}),t})()},{path:"general",component:Nt},{path:"cotizaciones",component:Oe},{path:"cotizaciones/:id",component:cn},{path:"ofertas-relampago",component:Dn},{path:"ofertas-relampago/:id",component:_o},{path:"servicios",component:Er},{path:"servicios/create",component:oa},{path:"servicios/:id",component:Vr},{path:"servicios/:id/update",component:ua},{path:"ofertas",component:ba},{path:"ofertas/create",component:ka},{path:"ofertas/:id",component:Va},{path:"ofertas/:id/update",component:Ea},{path:"puntos",component:oi},{path:"usuarios",component:cr},{path:"incidencias",component:yr},{path:"incidencias/:id",component:Nr}]},{path:"subscripcion-expirada",component:R,data:{sidebar:"none"},children:[{path:"",component:(()=>{class t{constructor(t,e,n,o,r,a,i){this.http=t,this.router=e,this.formBuilder=n,this.alert=o,this.authenticationService=r,this.spinner=a,this.documents=i,this.initial=!0,this.wait=!1,this.plan_prices=[],this._userSub=this.authenticationService.currentUser.subscribe(t=>{var e,n;this.currentUser=t,(null===(e=this.currentUser.supplier)||void 0===e?void 0:e.current_period_end)&&Z().isSameOrBefore(Z(null===(n=this.currentUser.supplier)||void 0===n?void 0:n.current_period_end),"minute")?this.router.navigate(["/proveedores"]):this.initial&&(this.initial=!1,this.authenticationService.refreshMe())})}ngOnInit(){this.loadPlansList(),this.initForms()}ngOnDestroy(){this._userSub.unsubscribe()}initForms(){this.renewForm=this.formBuilder.group({price:[null,[a.kI.required]],paymentcard:[null,[a.kI.required]],tos:[!1,[a.kI.requiredTrue]]})}loadPlansList(){let t=(new i.LE).set("target","supplier").set("type","recurring");this.http.get(`${J.N.apiUrl}/plan-prices`,{params:t}).subscribe(t=>{this.plan_prices=t},t=>{})}changeCard(t){var e;null===(e=this.renewForm.get("paymentcard"))||void 0===e||e.setValue(t)}onSubmit(){if(this.renewForm.invalid)return console.log("form invalid"),void this.renewForm.markAllAsTouched();const t=this.renewForm.getRawValue();this.wait=!0,this.spinner.show(),this.http.post(`${J.N.apiUrl}/suppliers/update-subscription`,t).subscribe(t=>{var e;this.wait=!1,this.spinner.hide(),this.authenticationService.setStorageUser(t),this.alert.open({title:"Suscripci\xf3n actualizada",text:`Tu suscripci\xf3n esta activa hasta el d\xeda ${Z(null===(e=t.supplier)||void 0===e?void 0:e.current_period_end).format("DD/MM/YYYY HH:mm")}.`,showCancelButton:!1}).then(()=>{this.router.navigateByUrl("/proveedores/perfil")})},t=>{this.wait=!1,this.spinner.hide(),console.log(t)})}isExpired(){var t,e,n;return!!(null===(t=this.currentUser.supplier)||void 0===t?void 0:t.current_period_end)&&!Z(null===(e=this.currentUser.supplier)||void 0===e?void 0:e.current_period_end).isSameOrBefore(Z(null===(n=this.currentUser.supplier)||void 0===n?void 0:n.current_period_end),"minute")}showTOS(t){t.preventDefault(),this.documents.presentModal("terms-of-service")}showPP(t){t.preventDefault(),this.documents.presentModal("privacy-policy")}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(i.eN),d.Y36(r.F0),d.Y36(a.qu),d.Y36(C.c9),d.Y36(C.$h),d.Y36(u.t2),d.Y36(C.SR))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-subscripcion-expirada"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["message_emloyee",""],[1,"container","pt-5","px-md-5"],["renew_card",""],[1,"text-center"],[1,"my-4"],["class","my-4",4,"ngIf"],["class","renew-form py-2 px-lg-5 text-center",3,"formGroup","ngSubmit",4,"ngIf"],[1,"btn-row","mb-4"],["mat-flat-button","","color","accent",1,"btn-round","btn-sm",3,"disabled","click"],[1,"date"],[1,"renew-form","py-2","px-lg-5","text-center",3,"formGroup","ngSubmit"],[1,"form-group","mb-4"],["formControlName","price",1,"planes-group"],[1,"row","gx-4","planes-row","justify-content-center"],["class","col-auto mb-3",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"selectCard"],["inset",""],[1,"checks-seccion","text-center","mt-4"],["formControlName","tos"],[3,"click"],[1,"col-auto","mb-3"],[1,"plan-card","text-center"],[1,"plan-info"],[1,"plan-tipo"],[1,"plan-precio"],[1,"plan-duracion"],["dense","",1,"plan-perks"],[3,"hidden",4,"ngFor","ngForOf"],["color","accent",1,"mx-4",3,"value"],[3,"hidden"],["matListIcon",""]],template:function(t,e){if(1&t&&(d.YNc(0,Oc,5,2,"ng-container",0),d.YNc(1,xc,11,4,"ng-template",null,1,d.W1O)),2&t){const t=d.MAs(2);d.Q6J("ngIf","administrator"==e.currentUser.role.type)("ngIfElse",t)}},directives:[o.O5,V.a8,V.n5,V.dn,V.hq,v.lW,a._Y,a.JL,a.sg,Yt.A9,a.JJ,a.u,o.sg,Xa.p,T.d,E.oG,A.i$,Yt.Yi,A.Tg,b.Hw,A.Nh,F.TO],pipes:[o.uU,g.T,o.H9],styles:[".container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]{box-shadow:0 5px 5px #4094ab3d!important;border-radius:31px}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-weight:700;font-size:18px;line-height:22px;color:#00aad3}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%], .container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;text-align:center}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:17px;color:#5a6a6f}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span.date[_ngcontent-%COMP%]{font-weight:700;color:#00aad3}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:14px;line-height:17px;color:#5a6a6f}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:not(.text-center)   label[_ngcontent-%COMP%]{margin-left:.5em;margin-right:-1.6em}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span.input-req[_ngcontent-%COMP%]{margin-left:.3em;color:var(--app-rojo)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   mat-icon.input-info[_ngcontent-%COMP%]{margin-left:.3em;width:auto;height:auto;font-size:15px;line-height:1em;vertical-align:middle;color:var(--app-cyan)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]{display:contents}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]{width:125px;margin-left:auto!important;margin-right:auto!important;background:#fff;border:1px solid var(--app-gris-claro);box-sizing:border-box;border-radius:50px;overflow:hidden;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:17px;color:var(--app-gris-muy-oscuro)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   mat-button-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]{color:#fff;background-color:var(--app-cyan);border:1px solid var(--app-cyan)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   mat-button-toggle.mat-button-toggle-disabled[_ngcontent-%COMP%]{background:#d1d1d1}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   mat-button-toggle[_ngcontent-%COMP%]     .mat-button-toggle-label-content{line-height:30px}@media (max-width:767px){.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}}@media (min-width:768px){.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%]{margin-right:-1.5rem!important;margin-left:-1.5rem!important}}@media (min-width:992px){.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%]{margin-right:-3.5rem!important;margin-left:-3.5rem!important}}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-card.plan-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-height:300px;width:235px;background:#fff;border:1px solid #97bcc566;box-sizing:border-box;border-radius:10px;box-shadow:none}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-card.plan-card.selected[_ngcontent-%COMP%]{filter:drop-shadow(0 5px 5px rgba(64,148,171,.24))}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-card.plan-card[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]   .plan-tipo[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:18px;line-height:22px;margin-bottom:5px;color:var(--app-blue-cyan)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-card.plan-card[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]   .plan-precio[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:24px;line-height:29px;margin-bottom:5px;color:var(--app-amarillo-claro)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-card.plan-card[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]   .plan-duracion[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:11px;line-height:13px;color:var(--app-gris-muy-oscuro);white-space:normal}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-card.plan-card[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]   mat-list.plan-perks[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{height:auto;font-family:Montserrat;font-style:normal;font-weight:500;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-card.plan-card[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]   mat-list.plan-perks[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]     .mat-list-item-content{padding:0}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   mat-button-toggle-group.planes-group[_ngcontent-%COMP%]   .planes-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-card.plan-card[_ngcontent-%COMP%]   .plan-info[_ngcontent-%COMP%]   mat-list.plan-perks[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--app-cyan)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:400;font-size:12px;line-height:14px;color:var(--app-gris-muy-oscuro)}.container[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]   .renew-form[_ngcontent-%COMP%]   .checks-seccion[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--app-cyan)}"]}),t})()}]}];let qc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[r.Bz.forChild(vc)],r.Bz]}),t})();var bc=n(322);let Pc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({providers:[{provide:i.TP,useClass:bc.sk,multi:!0},{provide:i.TP,useClass:bc.aQ,multi:!0}],imports:[[o.ez,r.Bz,a.u5,a.UX,i.JF,c.k$,l.q,s._G,g.l,p,m.o,f.D,h.K,qc]]}),t})()}}]);