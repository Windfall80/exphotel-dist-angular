(self.webpackChunkexph_app=self.webpackChunkexph_app||[]).push([[914],{8914:(t,n,e)=>{"use strict";e.r(n),e.d(n,{AdminModule:()=>Pt});var a=e(1116),o=e(322),i=e(3464),r=e(1041),c=e(2693),s=e(7952),l=e(2705),d=e(2905),g=e(3582),m=e(5366);let u=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[a.ez,i.Bz,r.u5,r.UX,l.q,g.D]]}),t})();var p=e(5530),h=e(8494),f=e(6304),_=e(529),C=e(9692),Z=e(7112),b=e(4369),M=e(7070);let O=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-user-image"]],inputs:{img_url:"img_url"},decls:15,vars:1,consts:[["width","55","height","58","viewBox","0 0 55 58","fill","none","xmlns","http://www.w3.org/2000/svg"],["filter","url(#filter0_d)"],["cx","27.25","cy","28.25","rx","24","ry","24","fill","url(#img)"],["d","M28.4565 4.04267L27.1932 3.30279L25.9298 4.04267L6.72979 15.2868L5.49316 16.011V17.4441V39.0675V40.4822L6.7059 41.2106L25.9059 52.7431L27.1932 53.5163L28.4804 52.7431L47.6804 41.2106L48.8932 40.4822V39.0675V17.4441V16.011L47.6565 15.2868L28.4565 4.04267Z","stroke","#F2F2F2","stroke-width","5"],["id","filter0_d","x","0","y","4","width","54.0353","height","54","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["in","SourceAlpha","type","matrix","values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"],["dy","2"],["stdDeviation","1.5"],["type","matrix","values","0 0 0 0 0.251563 0 0 0 0 0.582255 0 0 0 0 0.670833 0 0 0 0.24 0"],["mode","normal","in2","BackgroundImageFix","result","effect1_dropShadow"],["mode","normal","in","SourceGraphic","in2","effect1_dropShadow","result","shape"],["id","img","patternUnits","userSpaceOnUse","width","54","height","54"],["x","4","y","4","width","46","height","50"]],template:function(t,n){1&t&&(m.O4$(),m.TgZ(0,"svg",0),m.TgZ(1,"g",1),m._UZ(2,"ellipse",2),m.qZA(),m._UZ(3,"path",3),m.TgZ(4,"defs"),m.TgZ(5,"filter",4),m._UZ(6,"feFlood",5),m._UZ(7,"feColorMatrix",6),m._UZ(8,"feOffset",7),m._UZ(9,"feGaussianBlur",8),m._UZ(10,"feColorMatrix",9),m._UZ(11,"feBlend",10),m._UZ(12,"feBlend",11),m.qZA(),m.TgZ(13,"pattern",12),m._UZ(14,"image",13),m.qZA(),m.qZA(),m.qZA()),2&t&&(m.xp6(14),m.uIk("href",n.img_url||"assets/user.png",null,"xlink"))},styles:[""]}),t})();var v=e(7307);let P=(()=>{class t{constructor(t,n,e,a,o){this.http=t,this.router=n,this.authenticationService=e,this.notificationsService=a,this.chat=o,this._unread=0,this._userSub=this.authenticationService.currentUser.subscribe(t=>this.currentUser=t)}ngOnInit(){this.n_sub=this.notificationsService.unread.subscribe(t=>{this._unread=t}),this.notificationsService.countUnread()}ngOnDestroy(){this._userSub.unsubscribe(),this.n_sub.unsubscribe()}logout(){var t=this;return(0,f.Z)(function*(){yield t.chat.socketCloseConnection(),yield t.authenticationService.logout(),t.router.navigate(["/login"])})()}loadMenu(){const t=new c.LE;this.http.get(`${_.N.apiUrl}/nav-catalog`,{params:t}).subscribe(t=>{this.departaments_menu=t},t=>{})}}return t.\u0275fac=function(n){return new(n||t)(m.Y36(c.eN),m.Y36(i.F0),m.Y36(C.$h),m.Y36(C.TF),m.Y36(C.yf))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-header"]],inputs:{snav:"snav",sidebar:"sidebar"},decls:39,vars:4,consts:[[1,"app-header-shadow"],[1,"logo-cont"],["routerLink","/empresas"],["src","assets/logo.png",1,"logo"],[1,"tbr","tbr-primary"],[1,"flex-spacer"],[1,"flex-spacer","d-none","d-xxl-block"],["mat-button","",1,"user-btn",3,"matMenuTriggerFor"],[1,"user-btn-cont"],[1,"me-2",3,"img_url"],[1,"d-none","d-xxl-block"],["aria-hidden","false"],["xPosition","before"],["menuUser","matMenu"],["mat-menu-item","",3,"click"],[1,"tbr","tbr-secondary"],[1,"navbar","navbar-expand-md","navbar-light"],[1,"container-fluid"],["mat-icon-button","",3,"hidden","click"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"d-none","d-sm-block","d-md-none"],[1,"d-flex"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"btn","btn-outline-success"]],template:function(t,n){if(1&t&&(m.TgZ(0,"header",0),m.TgZ(1,"div",1),m.TgZ(2,"a",2),m._UZ(3,"img",3),m.qZA(),m.qZA(),m.TgZ(4,"mat-toolbar"),m.TgZ(5,"mat-toolbar-row",4),m._UZ(6,"div",5),m._UZ(7,"div",6),m.TgZ(8,"div"),m.TgZ(9,"button",7),m.TgZ(10,"div",8),m._UZ(11,"app-user-image",9),m.TgZ(12,"span",10),m._uU(13),m.qZA(),m.TgZ(14,"mat-icon",11),m._uU(15,"expand_more"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(16,"mat-menu",12,13),m.TgZ(18,"button",14),m.NdJ("click",function(){return n.logout()}),m.TgZ(19,"mat-icon"),m._uU(20,"logout"),m.qZA(),m.TgZ(21,"span"),m._uU(22,"Cerrar sesi\xf3n"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(23,"mat-toolbar-row",15),m.TgZ(24,"nav",16),m.TgZ(25,"div",17),m.TgZ(26,"button",18),m.NdJ("click",function(){return n.snav.toggle()}),m.TgZ(27,"mat-icon"),m._uU(28,"menu"),m.qZA(),m.qZA(),m.TgZ(29,"button",19),m._UZ(30,"span",20),m.qZA(),m.TgZ(31,"div",21),m.TgZ(32,"div",22),m.TgZ(33,"button",19),m._UZ(34,"span",20),m.qZA(),m.TgZ(35,"form",23),m._UZ(36,"input",24),m.TgZ(37,"button",25),m._uU(38,"Search"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&t){const t=m.MAs(17);m.xp6(9),m.Q6J("matMenuTriggerFor",t),m.xp6(2),m.Q6J("img_url","assets/user.png"),m.xp6(2),m.Oqu((null==n.currentUser?null:n.currentUser.username)||"-"),m.xp6(13),m.Q6J("hidden","none"==n.sidebar)}},directives:[i.yS,Z.Ye,Z.rD,b.lW,M.p6,O,v.Hw,M.VK,M.OP,r._Y,r.JL,r.F],styles:["header[_ngcontent-%COMP%]{display:flex;background:#fff}header[_ngcontent-%COMP%]   .logo-cont[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:var(--app-sidebar-width)}header[_ngcontent-%COMP%]   .logo-cont[_ngcontent-%COMP%]   img.logo[_ngcontent-%COMP%]{width:180px}mat-toolbar[_ngcontent-%COMP%]   mat-toolbar-row.tbr-primary[_ngcontent-%COMP%]{display:flex;background:var(--app-header-bg-primary)}mat-toolbar[_ngcontent-%COMP%]   mat-toolbar-row.tbr-secondary[_ngcontent-%COMP%]{height:48px;padding:0;background-color:var(--app-header-bg-secondary)}mat-toolbar[_ngcontent-%COMP%]   mat-toolbar-row.tbr-secondary[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{width:100%;padding:0}mat-toolbar[_ngcontent-%COMP%]   mat-toolbar-row.tbr-secondary[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > .nav-item[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{padding:16px 24px;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:16px;display:flex;align-items:center;text-align:center;color:var(--app-text-primary)}mat-toolbar[_ngcontent-%COMP%]   mat-toolbar-row.tbr-secondary[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%] > .nav-item[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:5px;font-size:16px;color:var(--app-amarillo-claro)}app-search[_ngcontent-%COMP%]{flex-grow:1}.btn-cotizador[_ngcontent-%COMP%]{width:120px;margin-right:20px;box-shadow:0 4px 4px #00000040}.notifications-btn[_ngcontent-%COMP%]{height:55px;color:#fff}.notifications-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{background:#c6c6c6;color:#fff}.user-btn[_ngcontent-%COMP%]{padding:0 8px;height:55px}.user-btn[_ngcontent-%COMP%]   .user-btn-cont[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#fff}.user-btn[_ngcontent-%COMP%]   .user-btn-cont[_ngcontent-%COMP%]     svg{max-height:52px}.user-btn[_ngcontent-%COMP%]   .user-btn-cont[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--app-amarillo-claro)}.ddm-lvl-0[_ngcontent-%COMP%]{padding:0;margin-top:0;border-radius:0;border:1px #0000;filter:drop-shadow(0 2px 3px rgba(64,148,171,.24))}.ddm-lvl-0[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a.dropdown-item[_ngcontent-%COMP%]{min-width:250px;padding:12px;font-family:Montserrat;font-style:normal;font-weight:500;font-size:14px;line-height:17px;display:flex;align-items:center;color:var(--app-text-primary)}.ddm-lvl-0[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a.dropdown-item[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{margin-left:auto;font-size:16px;color:var(--app-amarillo-claro)}div.ddm-lvl-1[_ngcontent-%COMP%]{padding:0;margin-top:6px;border-radius:0;border:1px #0000;filter:drop-shadow(0 2px 3px rgba(64,148,171,.24))}div.ddm-lvl-1[_ngcontent-%COMP%]   div.sm-header[_ngcontent-%COMP%]{padding:12px 50px;color:#fff;background-color:var(--app-amarillo-claro)}div.ddm-lvl-1[_ngcontent-%COMP%]   div.sm-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:14px;line-height:17px}div.ddm-lvl-1[_ngcontent-%COMP%]   div.sm-body[_ngcontent-%COMP%]{display:flex;padding:20px 40px}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:active{color:#fff!important;text-decoration:none;background-color:var(--app-blue-cyan)}@media (max-width:767px){.navbar-collapse[_ngcontent-%COMP%]{position:fixed;left:0;top:0;background:#fff;height:100vh}}"]}),t})();var x=e(168),y=e(5078),w=e(7217);let q=(()=>{class t{constructor(t,n){this.router=t,this.authenticationService=n}ngOnInit(){this._userSub=this.authenticationService.currentUser.subscribe(t=>this.currentUser=t)}ngOnDestroy(){this._userSub.unsubscribe()}logout(){this.authenticationService.logout(),this.router.navigate(["/login"])}}return t.\u0275fac=function(n){return new(n||t)(m.Y36(i.F0),m.Y36(C.$h))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-side-nav"]],decls:10,vars:2,consts:[[1,"container-sidebar"],["mat-list-item","","routerLink","/admin/incidencias","routerLinkActive","active"],[3,"matBadge","matBadgeHidden"],[1,"chevron-right"],[1,"flex-spacer"],["mat-button","",1,"logout-btn",3,"click"]],template:function(t,n){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"mat-nav-list"),m.TgZ(2,"a",1),m.TgZ(3,"span",2),m._uU(4,"Incidencias"),m.qZA(),m.TgZ(5,"mat-icon",3),m._uU(6,"chevron_right"),m.qZA(),m.qZA(),m.qZA(),m._UZ(7,"div",4),m.TgZ(8,"a",5),m.NdJ("click",function(){return n.logout()}),m._uU(9,"Cerrar sesi\xf3n"),m.qZA(),m.qZA()),2&t&&(m.xp6(3),m.Q6J("matBadge",0)("matBadgeHidden",!0))},directives:[y.Hk,y.Tg,i.yS,i.Od,w.k,v.Hw,b.zs],styles:[".container-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:calc(100vh - 100px);width:var(--app-sidebar-width);padding:0!important;margin:0!important}@media (max-width:599px){.container-sidebar[_ngcontent-%COMP%]{min-height:calc(100vh - 92px)!important}}.user-btn[_ngcontent-%COMP%]{padding:8px;width:100%;background-color:var(--app-amarillo-claro);border-radius:0}.user-btn[_ngcontent-%COMP%]   .user-btn-cont[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#fff}.user-btn[_ngcontent-%COMP%]   .user-btn-cont[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{position:relative;overflow:visible}.user-btn[_ngcontent-%COMP%]   .user-btn-cont[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.user-btn[_ngcontent-%COMP%]   .user-btn-cont[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1}.user-btn[_ngcontent-%COMP%]   .user-btn-cont[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}mat-nav-list[_ngcontent-%COMP%]{padding:0}mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]{height:41px;font-family:Montserrat;font-style:normal;font-weight:600;font-size:14px;color:var(--app-azul-marino)}mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]     .mat-list-item-content{padding:0 8px}mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1}mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]     .mat-badge-content{right:0;top:auto;font-weight:400}mat-nav-list[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   mat-icon.chevron-right[_ngcontent-%COMP%]{color:var(--app-amarillo-claro)}mat-nav-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%]{color:#fff;background-color:var(--app-cyan)}mat-nav-list[_ngcontent-%COMP%]   .mat-list-item.active[_ngcontent-%COMP%]   mat-icon.chevron-right[_ngcontent-%COMP%]{color:#fff}.logout-btn[_ngcontent-%COMP%]{background:#01a9d62b;color:var(--app-azul-marino)}"]}),t})();var A=e(3148),T=e(7701),U=e(3070),k=e(9550),S=e(994),N=e(6278),J=e(5522);function Q(t,n){if(1&t&&(m.TgZ(0,"mat-list-option",16),m._uU(1),m.qZA()),2&t){const t=n.$implicit;m.Q6J("value",t.key.id),m.xp6(1),m.hij(" ",t.key.name," ")}}function Y(t,n){if(1&t){const t=m.EpF();m.TgZ(0,"mat-chip",17,18),m.NdJ("click",function(){m.CHM(t);const n=m.MAs(1);return m.oxw().toggleSelection(n)}),m._uU(2),m.qZA()}if(2&t){const t=n.$implicit;m.Q6J("value",t.key.id),m.xp6(2),m.Oqu(t.key.name)}}function F(t,n){if(1&t){const t=m.EpF();m.TgZ(0,"mat-chip",17,18),m.NdJ("click",function(){m.CHM(t);const n=m.MAs(1);return m.oxw().toggleSelection(n)}),m._uU(2),m.qZA()}if(2&t){const t=n.$implicit;m.Q6J("value",t.key.id),m.xp6(2),m.Oqu(t.key.name)}}let B=(()=>{class t{constructor(t,n,e){this.http=t,this.formBuilder=n,this.filterService=e,this.categories=new Map,this.sub_categories=new Map,this.payment_methods=new Map,this.payment_terms=new Map;let a=this.filterService.currentFiltersValue;this.filterForm=this.formBuilder.group({_q:[a._q?a._q:null],_favs:[!!a._favs&&a._favs],categories:[a.categories?a.categories:null],payment_terms:[a.payment_terms?a.payment_terms:null],payment_methods:[a.payment_methods?a.payment_methods:null]}),this.filterForm.valueChanges.pipe((0,T.b)(500)).subscribe(t=>{let n=this.filterForm.getRawValue();this.filterService.setFilters(n)})}get categoriesFormArray(){return this.filterForm.controls.categories}addCategories(){this.categories.forEach(()=>this.categoriesFormArray.push(new r.NI(!1)))}ngOnInit(){(0,A.D)([this.filterService.getCategories(),this.filterService.getPaymentMethods(),this.filterService.getPaymentTerms()]).subscribe(([t,n,e])=>{t.forEach(t=>{0==t.depth?this.categories.set(t,!1):this.sub_categories.set(t,!1)}),n.forEach(t=>this.payment_methods.set(t,!1)),e.forEach(t=>this.payment_terms.set(t,!1))})}toggleSelection(t){t.toggleSelected(!0)}}return t.\u0275fac=function(n){return new(n||t)(m.Y36(c.eN),m.Y36(r.qu),m.Y36(C.qX))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-side-search"]],decls:33,vars:10,consts:[[1,"container-sidebar",3,"formGroup"],[1,"search-row"],["appearance","outline",1,"search-field"],["matPrefix","",3,"click"],["mat-icon-button","","color","primary"],["matInput","","placeholder","Buscar","formControlName","_q"],[1,"fav-row"],["color","primary","formControlName","_favs",1,"example-margin"],[1,"cat-row"],[1,"row-title"],["formControlName","categories",1,"categories-list"],["checkboxPosition","before",3,"value",4,"ngFor","ngForOf"],[1,"pm-row"],["formControlName","payment_methods","selectable","","multiple","",1,"payment-options"],[3,"value","click",4,"ngFor","ngForOf"],["formControlName","payment_terms","selectable","","multiple","",1,"payment-options"],["checkboxPosition","before",3,"value"],[3,"value","click"],["c","matChip"]],template:function(t,n){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"mat-form-field",2),m.TgZ(3,"span",3),m.NdJ("click",function(t){return t.preventDefault()}),m.TgZ(4,"button",4),m.TgZ(5,"mat-icon"),m._uU(6,"search"),m.qZA(),m.qZA(),m.qZA(),m._UZ(7,"input",5),m.qZA(),m.qZA(),m.TgZ(8,"div",6),m.TgZ(9,"mat-checkbox",7),m._uU(10," Ver solo favoritos "),m.qZA(),m.qZA(),m._UZ(11,"mat-divider"),m.TgZ(12,"div",8),m.TgZ(13,"h4",9),m._uU(14,"Categor\xedas"),m.qZA(),m.TgZ(15,"mat-selection-list",10),m.YNc(16,Q,2,2,"mat-list-option",11),m.ALo(17,"keyvalue"),m.qZA(),m.qZA(),m._UZ(18,"mat-divider"),m.TgZ(19,"div",12),m.TgZ(20,"h4",9),m._uU(21,"M\xe9todos de pago"),m.qZA(),m.TgZ(22,"mat-chip-list",13),m.YNc(23,Y,3,2,"mat-chip",14),m.ALo(24,"keyvalue"),m.qZA(),m.qZA(),m._UZ(25,"mat-divider"),m.TgZ(26,"div",12),m.TgZ(27,"h4",9),m._uU(28,"Plazos de pago"),m.qZA(),m.TgZ(29,"mat-chip-list",15),m.YNc(30,F,3,2,"mat-chip",14),m.ALo(31,"keyvalue"),m.qZA(),m.qZA(),m._UZ(32,"mat-divider"),m.qZA()),2&t&&(m.Q6J("formGroup",n.filterForm),m.xp6(16),m.Q6J("ngForOf",m.lcZ(17,4,n.categories)),m.xp6(7),m.Q6J("ngForOf",m.lcZ(24,6,n.payment_methods)),m.xp6(7),m.Q6J("ngForOf",m.lcZ(31,8,n.payment_terms)))},directives:[r.JL,r.sg,U.KE,U.qo,b.lW,v.Hw,k.Nt,r.Fj,r.JJ,r.u,S.oG,N.d,y.Ub,a.sg,J.qn,y.vS,J.HS],pipes:[a.Nd],styles:[".container-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:calc(100vh - 100px);width:var(--app-sidebar-width);padding:0!important;margin:0!important}@media (max-width:599px){.container-sidebar[_ngcontent-%COMP%]{min-height:calc(100vh - 92px)!important}}.container-sidebar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:1rem}.container-sidebar[_ngcontent-%COMP%]   h4.row-title[_ngcontent-%COMP%]{margin-bottom:.75em;font-family:Montserrat;font-style:normal;font-weight:700;font-size:11px;line-height:13px;color:#5a6a6f}.container-sidebar[_ngcontent-%COMP%]   .search-row[_ngcontent-%COMP%]{padding:1em;background:var(--app-amarillo-claro)}.container-sidebar[_ngcontent-%COMP%]   .search-row[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{width:100%}.container-sidebar[_ngcontent-%COMP%]   .search-row[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0}.container-sidebar[_ngcontent-%COMP%]   .search-row[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-form-field-outline{transition:none!important}.container-sidebar[_ngcontent-%COMP%]   .search-row[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-form-field-prefix{top:.45em;left:-5px}.container-sidebar[_ngcontent-%COMP%]   .search-row[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]     .mat-form-field-infix{border-top-width:0;padding:1em 0 .75em}.container-sidebar[_ngcontent-%COMP%]   .fav-row[_ngcontent-%COMP%]{display:flex;justify-content:center}.container-sidebar[_ngcontent-%COMP%]   .cat-row[_ngcontent-%COMP%]   mat-selection-list[_ngcontent-%COMP%]{margin-left:-1rem;margin-right:-1rem}.container-sidebar[_ngcontent-%COMP%]   .cat-row[_ngcontent-%COMP%]   mat-selection-list[_ngcontent-%COMP%]   mat-list-option[_ngcontent-%COMP%]{height:2em;font-family:Montserrat;font-style:normal;font-weight:600;font-size:11px;line-height:13px;color:#00aad3}"]}),t})();function z(t,n){1&t&&m._UZ(0,"app-side-nav")}function D(t,n){1&t&&m._UZ(0,"app-side-search")}let L=(()=>{class t{constructor(t,n,e){this.route=t,this.sidebar="nav",this.sidebarSub=this.route.data.subscribe(t=>this.sidebar=t.sidebar),this.mobileQuery=e.matchMedia("(max-width: 767px)"),this._mobileQueryListener=()=>n.detectChanges(),this.mobileQuery.addListener(this._mobileQueryListener)}ngOnInit(){}ngOnDestroy(){this.sidebarSub.unsubscribe(),this.mobileQuery.removeListener(this._mobileQueryListener)}}return t.\u0275fac=function(n){return new(n||t)(m.Y36(i.gz),m.Y36(m.sBO),m.Y36(h.vx))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-layout"]],decls:12,vars:9,consts:[[1,"wrapper"],[3,"snav","sidebar"],[1,"app-main-drawer",3,"hasBackdrop"],[3,"opened","mode","fixedInViewport","fixedTopGap"],["snav",""],[4,"ngIf"],[1,"content-wrapper"],[1,"flex-spacer"],[1,"footer-bg"]],template:function(t,n){if(1&t&&(m.TgZ(0,"div",0),m._UZ(1,"app-header",1),m.TgZ(2,"mat-sidenav-container",2),m.TgZ(3,"mat-sidenav",3,4),m.YNc(5,z,1,0,"app-side-nav",5),m.YNc(6,D,1,0,"app-side-search",5),m.qZA(),m.TgZ(7,"mat-sidenav-content"),m.TgZ(8,"div",6),m._UZ(9,"router-outlet"),m.qZA(),m._UZ(10,"div",7),m._UZ(11,"footer",8),m.qZA(),m.qZA(),m.qZA()),2&t){const t=m.MAs(4);m.xp6(1),m.Q6J("snav",t)("sidebar",n.sidebar),m.xp6(1),m.Q6J("hasBackdrop",!1),m.xp6(1),m.Q6J("opened",!n.mobileQuery.matches)("mode",n.mobileQuery.matches?"over":"side")("fixedInViewport",!0)("fixedTopGap",100),m.xp6(2),m.Q6J("ngIf","nav"==n.sidebar),m.xp6(1),m.Q6J("ngIf","search"==n.sidebar)}},directives:[P,x.TM,x.JX,a.O5,x.Rh,i.lC,q,B],styles:["app-header[_ngcontent-%COMP%]{position:fixed;width:100vw;z-index:2}mat-sidenav-container[_ngcontent-%COMP%]{flex-grow:1;background-color:initial}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{filter:drop-shadow(2px 0 2px rgba(64,148,171,.12))}@media (max-width:599px){mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav.mat-sidenav-fixed[_ngcontent-%COMP%]{top:92px!important}}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav-content[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{margin-top:100px}@media (max-width:599px){mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav-content[_ngcontent-%COMP%]{min-height:calc(100vh - 92px)!important}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav-content[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{margin-top:92px}}"]}),t})();var I=e(9199),$=e(9241),H=e(5609);let G=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-incidencia-reportar"]],decls:2,vars:0,template:function(t,n){1&t&&(m.TgZ(0,"p"),m._uU(1,"incidencia-reportar works!"),m.qZA())},styles:[""]}),t})();var j=e(2935),E=e(3841),R=e(7064);function V(t,n){if(1&t&&(m.TgZ(0,"mat-option",10),m._uU(1),m.qZA()),2&t){const t=n.$implicit;m.Q6J("value",t.id),m.xp6(1),m.Oqu(t.name)}}function X(t,n){1&t&&(m.TgZ(0,"th",34),m._uU(1," ID "),m.qZA())}function W(t,n){if(1&t&&(m.TgZ(0,"td",35),m._uU(1),m.qZA()),2&t){const t=n.$implicit;m.xp6(1),m.hij(" ",t.id," ")}}function K(t,n){1&t&&(m.TgZ(0,"th",34),m._uU(1," Usuario "),m.qZA())}function tt(t,n){if(1&t&&(m.TgZ(0,"td",35),m._uU(1),m.qZA()),2&t){const t=n.$implicit;m.xp6(1),m.hij(" ",null==t.user?null:t.user.username," ")}}function nt(t,n){1&t&&(m.TgZ(0,"th",34),m._uU(1," Fecha "),m.qZA())}function et(t,n){if(1&t&&(m.TgZ(0,"td",35),m._uU(1),m.ALo(2,"date"),m.qZA()),2&t){const t=n.$implicit;m.xp6(1),m.hij(" ",m.xi3(2,1,t.created_at,"dd/MM/yyyy")," ")}}function at(t,n){1&t&&(m.TgZ(0,"th",34),m._uU(1," Problema "),m.qZA())}function ot(t,n){if(1&t&&(m.TgZ(0,"td",35),m._uU(1),m.qZA()),2&t){const t=n.$implicit;m.xp6(1),m.hij(" ",(null==t.type?null:t.type.name)||"-"," ")}}function it(t,n){1&t&&(m.TgZ(0,"th",36),m._uU(1," Estado "),m.qZA())}function rt(t,n){if(1&t&&(m.TgZ(0,"td",37),m.TgZ(1,"span"),m._uU(2),m.qZA(),m.qZA()),2&t){const t=n.$implicit;m.xp6(1),m.Gre("pill pill-lg pill-",null==t.status?null:t.status.class," mx-auto"),m.xp6(1),m.Oqu(null==t.status?null:t.status.name)}}function ct(t,n){1&t&&m._UZ(0,"th",38)}function st(t,n){if(1&t&&m._UZ(0,"mat-icon",43),2&t){const t=m.oxw().$implicit;m.Q6J("matBadge",null==t.chat_room?null:t.chat_room.unread_b)("matBadgeHidden",!(null!=t.chat_room&&t.chat_room.unread_b))}}function lt(t,n){if(1&t&&m._UZ(0,"mat-icon",44),2&t){const t=m.oxw().$implicit;m.Q6J("matBadge",null==t.chat_room?null:t.chat_room.unread_b)("matBadgeHidden",!(null!=t.chat_room&&t.chat_room.unread_b))}}function dt(t,n){if(1&t&&(m.TgZ(0,"td",39),m.ynx(1,40),m.YNc(2,st,1,2,"mat-icon",41),m.YNc(3,lt,1,2,"mat-icon",42),m.BQk(),m.qZA()),2&t){const t=n.$implicit;m.xp6(1),m.Q6J("ngSwitch",null==t.status?null:t.status.id),m.xp6(1),m.Q6J("ngSwitchCase",2)}}function gt(t,n){1&t&&m._UZ(0,"th",45)}function mt(t,n){if(1&t&&(m.TgZ(0,"td",46),m.NdJ("click",function(t){return t.stopPropagation()}),m.TgZ(1,"a",47),m.TgZ(2,"mat-icon"),m._uU(3,"chevron_right"),m.qZA(),m.qZA(),m.qZA()),2&t){const t=n.$implicit;m.xp6(1),m.Q6J("routerLink",t.id)}}function ut(t,n){1&t&&m._UZ(0,"tr",48)}function pt(t,n){1&t&&m._UZ(0,"tr",49),2&t&&m.Q6J("routerLink",n.$implicit.id)}function ht(t,n){1&t&&(m.TgZ(0,"tr",50),m.TgZ(1,"td",51),m._uU(2,"No tienes incidencias."),m.qZA(),m.qZA())}const ft=function(){return[5,10,20]};let _t=(()=>{class t{constructor(t,n,e,a,o){this.http=t,this.router=n,this.route=e,this.dialog=a,this.authenticationService=o,this.displayedColumns=["id","user","date","name","status","badges","actions"],this.dataSource=new I.by([]),this.statuses=[],this.users=[],this.filters={status:null,user:null},this.currentUser=o.currentUserValue,this.route.queryParamMap.subscribe(t=>{this.filters._q=t.get("_q")?t.get("_q"):null,this.filters.status=t.get("status")?Number(t.get("status")):null,this.filters.user=t.get("user")?Number(t.get("user")):null,t.get("tab")&&(this.filters.tab=t.get("tab")),this.applyFilter(!1)}),this.dataSource.sortingDataAccessor=(t,n)=>{var e,a,o;switch(n){case"id":return t.id;case"user":return null===(e=t.user)||void 0===e?void 0:e.username;case"date":return t.created_at;case"name":return null===(a=t.type)||void 0===a?void 0:a.name;case"status":return null===(o=t.status)||void 0===o?void 0:o.id;default:return t[n]}},this.dataSource.filterPredicate=(t,n)=>!(null!==this.filters.status&&t.status.id!=this.filters.status||null!==this.filters.user&&t.user.id!=this.filters.user||(null==n?void 0:n._q)&&n._q.trim()&&-1==JSON.stringify([t.id]).toLowerCase().indexOf(n._q.toLowerCase()))}ngOnInit(){this.loadIssues(),this.loadStatuses()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}loadIssues(){this.http.get(`${_.N.apiUrl}/issues`).subscribe(t=>{this.dataSource.data=t},t=>{})}loadStatuses(){this.http.get(`${_.N.apiUrl}/issue-statuses`).subscribe(t=>{this.statuses=t},t=>{})}loadUsers(){this.http.get(`${_.N.apiUrl}/users`).subscribe(t=>{this.users=t.map(t=>({id:t.id,name:t.username}))},t=>{})}applyFilter(t=!0){this.dataSource.filter=this.filters,t&&this.router.navigate([],{queryParams:this.filters,queryParamsHandling:"merge",replaceUrl:!0})}openReport(){this.dialog.open(G,{width:"677px",panelClass:["dialog-py-48","dialog-px-75"],data:{}}).afterClosed().subscribe(t=>{console.log("The dialog was closed"),t&&(this.dataSource.data.push(t),this.table.renderRows(),this.applyFilter(!1))})}}return t.\u0275fac=function(n){return new(n||t)(m.Y36(c.eN),m.Y36(i.F0),m.Y36(i.gz),m.Y36(j.uw),m.Y36(C.$h))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-incidencias"]],viewQuery:function(t,n){if(1&t&&(m.Gf(I.BZ,5),m.Gf($.YE,5),m.Gf(H.NW,5)),2&t){let t;m.iGM(t=m.CRH())&&(n.table=t.first),m.iGM(t=m.CRH())&&(n.sort=t.first),m.iGM(t=m.CRH())&&(n.paginator=t.first)}},decls:54,vars:8,consts:[[1,"container-fluid","pt-5","px-md-5"],[1,"row"],[1,"col","page-title"],[1,"col","page-actions"],["mat-raised-button","","color","primary",1,"btn-round",3,"click"],[1,"row","search-form"],[1,"form-group","col-auto","mt-2"],["for","tipo",1,"form-label"],["appearance","outline"],["id","order","placeholder","Todas","disableOptionCentering","",3,"ngModel","ngModelChange","selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","col-auto","mt-2","pt-4"],[1,"col"],["mat-table","","matSort","",1,"cotizacion-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","user"],["matColumnDef","date"],["matColumnDef","name"],["matColumnDef","status"],["mat-header-cell","","class","text-center","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["matColumnDef","badges"],["mat-header-cell","","class","text-end",4,"matHeaderCellDef"],["mat-cell","","class","text-end",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-end",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"routerLink",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"text-center"],["mat-cell","",1,"text-center"],["mat-header-cell","",1,"text-end"],["mat-cell","",1,"text-end"],[3,"ngSwitch"],["svgIcon","mnsg",3,"matBadge","matBadgeHidden",4,"ngSwitchCase"],["svgIcon","mnsg-disable",3,"matBadge","matBadgeHidden",4,"ngSwitchDefault"],["svgIcon","mnsg",3,"matBadge","matBadgeHidden"],["svgIcon","mnsg-disable",3,"matBadge","matBadgeHidden"],["mat-header-cell",""],["mat-cell","",1,"text-end",3,"click"],["mat-button","","color","primary",3,"routerLink"],["mat-header-row",""],["mat-row","",3,"routerLink"],[1,"mat-row"],["colspan","7",1,"mat-cell"]],template:function(t,n){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.TgZ(3,"h1"),m._uU(4,"Incidencias"),m.qZA(),m.TgZ(5,"p"),m._uU(6,"Reportes de errores"),m.qZA(),m.qZA(),m.TgZ(7,"div",3),m.TgZ(8,"button",4),m.NdJ("click",function(){return n.openReport()}),m.TgZ(9,"mat-icon"),m._uU(10,"info"),m.qZA(),m._uU(11," Reportar Un Problema "),m.qZA(),m.qZA(),m.qZA(),m._UZ(12,"mat-divider"),m.TgZ(13,"div",5),m.TgZ(14,"div",6),m.TgZ(15,"label",7),m._uU(16,"Estado"),m.qZA(),m.TgZ(17,"mat-form-field",8),m.TgZ(18,"mat-select",9),m.NdJ("ngModelChange",function(t){return n.filters.status=t})("selectionChange",function(){return n.applyFilter()}),m.TgZ(19,"mat-option",10),m._uU(20,"Todas"),m.qZA(),m.YNc(21,V,2,2,"mat-option",11),m.qZA(),m.qZA(),m.qZA(),m.TgZ(22,"div",12),m.TgZ(23,"mat-checkbox"),m._uU(24,"Conversaciones sin leer"),m.qZA(),m.qZA(),m.qZA(),m._UZ(25,"mat-divider"),m.TgZ(26,"div",1),m.TgZ(27,"div",13),m.TgZ(28,"table",14),m.ynx(29,15),m.YNc(30,X,2,0,"th",16),m.YNc(31,W,2,1,"td",17),m.BQk(),m.ynx(32,18),m.YNc(33,K,2,0,"th",16),m.YNc(34,tt,2,1,"td",17),m.BQk(),m.ynx(35,19),m.YNc(36,nt,2,0,"th",16),m.YNc(37,et,3,4,"td",17),m.BQk(),m.ynx(38,20),m.YNc(39,at,2,0,"th",16),m.YNc(40,ot,2,1,"td",17),m.BQk(),m.ynx(41,21),m.YNc(42,it,2,0,"th",22),m.YNc(43,rt,3,4,"td",23),m.BQk(),m.ynx(44,24),m.YNc(45,ct,1,0,"th",25),m.YNc(46,dt,4,2,"td",26),m.BQk(),m.ynx(47,27),m.YNc(48,gt,1,0,"th",28),m.YNc(49,mt,4,1,"td",29),m.BQk(),m.YNc(50,ut,1,0,"tr",30),m.YNc(51,pt,1,1,"tr",31),m.YNc(52,ht,3,0,"tr",32),m.qZA(),m._UZ(53,"mat-paginator",33),m.qZA(),m.qZA(),m.qZA()),2&t&&(m.xp6(18),m.Q6J("ngModel",n.filters.status),m.xp6(1),m.Q6J("value",null),m.xp6(2),m.Q6J("ngForOf",n.statuses),m.xp6(7),m.Q6J("dataSource",n.dataSource),m.xp6(22),m.Q6J("matHeaderRowDef",n.displayedColumns),m.xp6(1),m.Q6J("matRowDefColumns",n.displayedColumns),m.xp6(2),m.Q6J("pageSizeOptions",m.DdM(7,ft)))},directives:[b.lW,v.Hw,N.d,U.KE,E.gD,r.JJ,r.On,R.ey,a.sg,S.oG,I.BZ,$.YE,I.w1,I.fO,I.Dz,I.as,I.nj,I.Ee,H.NW,I.ge,$.nU,I.ev,a.RF,a.n9,a.ED,w.k,b.zs,i.yS,I.XQ,I.Gk,i.rH],pipes:[a.uU],styles:[".search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{display:block;width:130px;max-width:100%}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-name[_ngcontent-%COMP%]{width:330px}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-name[_ngcontent-%COMP%]  .mat-form-field-prefix{align-self:center}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field.search-user[_ngcontent-%COMP%]{width:156px}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--app-amarillo-claro)}.search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{line-height:40px}.actions-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:600;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}.actions-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{line-height:40px}table.mat-table[_ngcontent-%COMP%]{margin-top:2em;display:table;width:100%;border-radius:10px;overflow:hidden;filter:drop-shadow(0 5px 5px rgba(64,148,171,.24))}table.mat-table[_ngcontent-%COMP%]     .mat-header-cell{background-color:var(--app-blue-cyan);color:#fff}table.mat-table[_ngcontent-%COMP%]     .mat-row:nth-child(odd){background-color:#fff}table.mat-table[_ngcontent-%COMP%]     .mat-row:not(:nth-child(odd)){background-color:#f6f9fa}table.mat-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{cursor:pointer}table.mat-table[_ngcontent-%COMP%]   .mat-column-status[_ngcontent-%COMP%]   span.pill[_ngcontent-%COMP%]{width:100px}table.mat-table[_ngcontent-%COMP%]   .mat-column-badges[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:27px;height:27px;width:27px;margin-right:5px}table.mat-table[_ngcontent-%COMP%]   .mat-column-badges[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]     .mat-badge-content{top:2px;right:-4px;font-size:7px;line-height:12px;width:12px;height:12px}table.mat-table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]{cursor:unset;flex:none;width:100px}table.mat-table[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]   mat-badge-medium.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:unset;right:unset}"]}),t})();var Ct=e(3251),Zt=e(8417);function bt(t,n){if(1&t&&(m.TgZ(0,"mat-option",30),m._uU(1),m.qZA()),2&t){const t=n.$implicit;m.Q6J("value",t.id),m.xp6(1),m.Oqu(t.name)}}function Mt(t,n){if(1&t){const t=m.EpF();m.TgZ(0,"div",6),m.TgZ(1,"div",7),m.TgZ(2,"mat-card",8),m.TgZ(3,"mat-card-header"),m.TgZ(4,"mat-card-title"),m._UZ(5,"img",9),m._uU(6,"Incidencia"),m.qZA(),m.TgZ(7,"span",10),m._uU(8),m.qZA(),m.TgZ(9,"div"),m.TgZ(10,"span"),m._uU(11),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(12,"mat-card",11),m.TgZ(13,"mat-card-content"),m.TgZ(14,"dl",12),m.TgZ(15,"dt",13),m._uU(16,"Problema:"),m.qZA(),m.TgZ(17,"dd",14),m._uU(18),m.qZA(),m._UZ(19,"div",15),m.TgZ(20,"dt",13),m._uU(21,"Fecha:"),m.qZA(),m.TgZ(22,"dd",13),m._uU(23),m.ALo(24,"date"),m.qZA(),m._UZ(25,"div",15),m.TgZ(26,"dt",13),m._uU(27,"Usuario que reporto:"),m.qZA(),m.TgZ(28,"dd",13),m._uU(29),m.qZA(),m._UZ(30,"div",15),m.qZA(),m._UZ(31,"mat-divider"),m.TgZ(32,"div",16),m.TgZ(33,"h2"),m._uU(34,"Detalles"),m.qZA(),m.TgZ(35,"p"),m._uU(36),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(37,"mat-card",17),m.TgZ(38,"mat-card-header"),m.TgZ(39,"mat-card-title"),m.TgZ(40,"mat-icon",18),m._uU(41,"settings"),m.qZA(),m._uU(42," Actualizar Estatus "),m.qZA(),m.qZA(),m.TgZ(43,"mat-card-content",19),m.TgZ(44,"form",20),m.NdJ("ngSubmit",function(){return m.CHM(t),m.oxw().update()}),m.TgZ(45,"div",21),m.TgZ(46,"div",22),m.TgZ(47,"mat-form-field",23),m.TgZ(48,"mat-select",24),m.YNc(49,bt,2,2,"mat-option",25),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(50,"div",26),m.TgZ(51,"div",13),m.TgZ(52,"button",27),m._uU(53,"Actualizar"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(54,"div",28),m._UZ(55,"app-chat-card",29),m.qZA(),m.qZA()}if(2&t){const t=m.oxw();m.xp6(8),m.hij("ID:",t.issue.id,""),m.xp6(2),m.Gre("pill pill-lg pill-",null==t.issue.status?null:t.issue.status.class," mx-auto"),m.xp6(1),m.Oqu(null==t.issue.status?null:t.issue.status.name),m.xp6(7),m.Oqu(null==t.issue.type?null:t.issue.type.name),m.xp6(5),m.Oqu(m.xi3(24,17,t.issue.created_at,"dd/MM/yyyy")),m.xp6(6),m.Oqu((null==t.issue.user?null:t.issue.user.firstname)+" "+(null==t.issue.user?null:t.issue.user.lastname)),m.xp6(7),m.Oqu(t.issue.details),m.xp6(8),m.Q6J("formGroup",t.updateForm),m.xp6(5),m.Q6J("ngForOf",t.statuses),m.xp6(3),m.Q6J("disabled",t.wait),m.xp6(3),m.Q6J("id",t.issue.id)("type","issue")("room","incidencia_"+t.issue.id)("titleName","Soporte")("canChat",t.canChat())}}const Ot=[{path:"",component:L,data:{sidebar:"nav"},children:[{path:"",redirectTo:"incidencias",pathMatch:"full"},{path:"incidencias",component:_t},{path:"incidencias/:id",component:(()=>{class t{constructor(t,n,e,a){this.http=t,this.route=n,this.formBuilder=e,this.authenticationService=a,this.statuses=[],this.wait=!1,this.route.paramMap.subscribe(t=>{this.id=t.get("id")}),this.currentUser=a.currentUserValue}ngOnInit(){this.loadIssue(),this.loadStatuses()}loadIssue(){this.http.get(`${_.N.apiUrl}/issues/${this.id}`).subscribe(t=>{this.issue=t,this.updateForm=this.formBuilder.group({status:[this.issue.status.id,[r.kI.required]]})},t=>{})}loadStatuses(){this.http.get(`${_.N.apiUrl}/issue-statuses`).subscribe(t=>{this.statuses=t},t=>{})}update(){if(this.updateForm.invalid)return console.log("form invalid"),void this.updateForm.markAllAsTouched();let t=this.updateForm.getRawValue();this.wait=!0,this.http.put(`${_.N.apiUrl}/issues/${this.id}`,t).subscribe(t=>{console.log(t),this.wait=!1,this.issue=t},t=>{this.wait=!1})}canChat(){return 2==this.issue.status.id}}return t.\u0275fac=function(n){return new(n||t)(m.Y36(c.eN),m.Y36(i.gz),m.Y36(r.qu),m.Y36(C.$h))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-incidencia-detalles"]],decls:9,vars:1,consts:[[1,"container","pt-5","px-md-5"],[1,"row"],[1,"col","page-title"],["routerLink","..",1,"btn-return"],[1,"col","page-actions"],["class","row pt-3 gx-5 gy-3",4,"ngIf"],[1,"row","pt-3","gx-5","gy-3"],[1,"col-lg-7"],[1,"card-empresa"],["mat-card-avatar",""],[1,"empresa-id"],[1,"card-info","mt-3"],[1,"row","list-info"],[1,"col-auto"],[1,"col-auto","name"],[1,"w-100"],[1,"details","pt-4"],[1,"card-update","mt-5"],["color","accent"],[1,"pb-4"],[1,"rating-form",3,"formGroup","ngSubmit"],[1,"row","justify-content-center"],[1,"form-group","col-auto","mt-2"],["appearance","outline"],["id","status","placeholder","Selecciona Estatus...","disableOptionCentering","","formControlName","status"],[3,"value",4,"ngFor","ngForOf"],[1,"row","mt-2","justify-content-center","align-items-center","row-controls"],["type","submit","mat-flat-button","","color","accent",1,"btn-round",3,"disabled"],[1,"col-lg-5"],[3,"id","type","room","titleName","canChat"],[3,"value"]],template:function(t,n){1&t&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.TgZ(3,"a",3),m.TgZ(4,"mat-icon"),m._uU(5,"arrow_back_ios"),m.qZA(),m._uU(6," Inicidencias "),m.qZA(),m.qZA(),m._UZ(7,"div",4),m.qZA(),m.YNc(8,Mt,56,20,"div",5),m.qZA()),2&t&&(m.xp6(8),m.Q6J("ngIf",n.issue))},directives:[i.yS,v.Hw,a.O5,Ct.a8,Ct.dk,Ct.n5,Ct.kc,Ct.dn,N.d,r._Y,r.JL,r.sg,U.KE,E.gD,r.JJ,r.u,a.sg,b.lW,Zt.a,R.ey],pipes:[a.uU],styles:["mat-card[_ngcontent-%COMP%]{background:#fff;box-shadow:0 5px 5px #4094ab3d!important;border-radius:10px}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;display:flex;align-items:center;color:#062ebd}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:1em}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]     .mat-card-header-text{margin:0}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{position:relative}mat-card.card-empresa[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}mat-card.card-empresa[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:14px;display:flex;align-items:center;color:#062ebd;margin-bottom:0}mat-card.card-empresa[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:15px;background:#fbfbfb;border:1px solid #97bcc566;box-sizing:border-box}mat-card.card-empresa[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .empresa-id[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:500;font-size:11px;line-height:13px;color:#5a6a6f}mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{color:var(--app-text-gris-oscuro)}mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%], mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px}mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{color:var(--app-text-cyan)}mat-card.card-info[_ngcontent-%COMP%]   dl.list-info[_ngcontent-%COMP%]   dd.name[_ngcontent-%COMP%]{color:var(--app-azul-marino)}mat-card.card-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#062ebd}mat-card.card-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], mat-card.card-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Montserrat;font-style:normal;font-size:12px;line-height:15px}mat-card.card-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:500;color:#5a6a6f}mat-card[_ngcontent-%COMP%]   .card-update[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:not(.text-center)   label[_ngcontent-%COMP%]{margin-left:.5em;margin-right:-1.6em}mat-card[_ngcontent-%COMP%]   .card-update[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-family:Montserrat;font-style:normal;font-weight:700;font-size:12px;line-height:15px;color:var(--app-gris-muy-oscuro)}mat-card[_ngcontent-%COMP%]   .card-update[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span.input-req[_ngcontent-%COMP%]{margin-left:.3em;color:var(--app-rojo)}mat-card[_ngcontent-%COMP%]   .card-update[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   mat-icon.input-info[_ngcontent-%COMP%]{margin-left:.3em;width:auto;height:auto;font-size:15px;line-height:1em;vertical-align:middle;color:var(--app-cyan)}mat-card[_ngcontent-%COMP%]   .card-update[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),t})()}]}];let vt=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[i.Bz.forChild(Ot)],i.Bz]}),t})(),Pt=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[{provide:c.TP,useClass:o.sk,multi:!0},{provide:c.TP,useClass:o.aQ,multi:!0}],imports:[[a.ez,i.Bz,r.UX,r.u5,vt,c.JF,s.k$,l.q,d._G,u,p.K]]}),t})()}}]);